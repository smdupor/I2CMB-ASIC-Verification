<html><head>
<title>Diagrams - Tk Diagrams</title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.toc,UL.toc UL, UL.toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.section, LI.subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.requirements LI, UL.syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<! -- Generated from file '../../../prod/src/tcltk/8.5.x/tcllib/tklib/modules/diagrams/draw_diagram.man' by tcllib/doctools with format 'html'
   -->
<! -- CVS: $Id$ Diagrams.n
   -->
<body><div class="doctools">
<h1 class="title">Diagrams(n) 0.2 draw_diagram &quot;Tk Diagrams&quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>Diagrams - User documentation of the Diagrams package</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#synopsis">Synopsis</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">GENERAL COMMANDS FOR POSITIONING AND SETUP</a></li>
<li class="section"><a href="#section3">DRAWING OBJECTS</a></li>
<li class="section"><a href="#section4">ATTRIBUTES</a></li>
<li class="section"><a href="#section5">COMMANDS FOR IMPLEMENTING NEW OBJECTS</a></li>
<li class="section"><a href="#keywords">Keywords</a></li>
</ul>
</div>
<div id="synopsis" class="section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="synopsis">
<ul class="requirements">
<li>package require <b class="pkgname">Tcl 8.4</b></li>
<li>package require <b class="pkgname">Tk 8.4</b></li>
<li>package require <b class="pkgname">Diagrams 0.2</b></li>
</ul>
<ul class="syntax">
<li><a href="#1"><b class="cmd">::Diagrams::drawin</b> <i class="arg">canvas</i></a></li>
<li><a href="#2"><b class="cmd">::Diagrams::saveps</b> <i class="arg">filename</i></a></li>
<li><a href="#3"><b class="cmd">::Diagrams::direction</b> <i class="arg">newdir</i></a></li>
<li><a href="#4"><b class="cmd">::Diagrams::currentpos</b> <i class="arg">pos</i></a></li>
<li><a href="#5"><b class="cmd">::Diagrams::getpos</b> <i class="arg">anchor</i> <i class="arg">obj</i></a></li>
<li><a href="#6"><b class="cmd">::Diagrams::position</b> <i class="arg">xcoord</i> <i class="arg">ycoord</i></a></li>
<li><a href="#7"><b class="cmd">::Diagrams::box</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></li>
<li><a href="#8"><b class="cmd">::Diagrams::plaintext</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></li>
<li><a href="#9"><b class="cmd">::Diagrams::circle</b> <i class="arg">text</i> <i class="arg">radius</i></a></li>
<li><a href="#10"><b class="cmd">::Diagrams::slanted</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i> <i class="arg">angle</i></a></li>
<li><a href="#11"><b class="cmd">::Diagrams::diamond</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></li>
<li><a href="#12"><b class="cmd">::Diagrams::drum</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></li>
<li><a href="#13"><b class="cmd">::Diagrams::arrow</b> <i class="arg">text</i> <i class="arg">length</i> <i class="arg">heads</i></a></li>
<li><a href="#14"><b class="cmd">::Diagrams::line</b> <i class="arg">args</i></a></li>
<li><a href="#15"><b class="cmd">::Diagrams::attach</b> <i class="arg">anchor</i></a></li>
<li><a href="#16"><b class="cmd">::Diagrams::color</b> <i class="arg">name</i></a></li>
<li><a href="#17"><b class="cmd">::Diagrams::fillcolor</b> <i class="arg">name</i></a></li>
<li><a href="#18"><b class="cmd">::Diagrams::textcolor</b> <i class="arg">name</i></a></li>
<li><a href="#19"><b class="cmd">::Diagrams::usegap</b> <i class="arg">use</i></a></li>
<li><a href="#20"><b class="cmd">::Diagrams::xgap</b> <i class="arg">value</i></a></li>
<li><a href="#21"><b class="cmd">::Diagrams::ygap</b> <i class="arg">value</i></a></li>
<li><a href="#22"><b class="cmd">::Diagrams::textfont</b> <i class="arg">name</i></a></li>
<li><a href="#23"><b class="cmd">::Diagrams::linewidth</b> <i class="arg">pixels</i></a></li>
<li><a href="#24"><b class="cmd">::Diagrams::linestyle</b> <i class="arg">style</i></a></li>
<li><a href="#25"><b class="cmd">::Diagrams::pushstate</b></a></li>
<li><a href="#26"><b class="cmd">::Diagrams::popstate</b></a></li>
<li><a href="#27"><b class="cmd">::Diagrams::computepos</b></a></li>
<li><a href="#28"><b class="cmd">::Diagrams::boxcoords</b> <i class="arg">x1</i> <i class="arg">y1</i> <i class="arg">x2</i> <i class="arg">y2</i></a></li>
<li><a href="#29"><b class="cmd">::Diagrams::moveobject</b> <i class="arg">obj</i></a></li>
</ul>
</div>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
<p>The <b class="package">Diagrams</b> package is meant to help drawing diagrams, like
flowcharts. The philosophy is that you should be concentrating on the
contents of the diagram, rather than the exact positioning and sizing
of all items within it. The Diagrams package uses a few simple rules
to layout the items:</p>
<ul class="itemized">
<li><p>Each item (or object) in the diagram has a number of &quot;anchors&quot; - places
where arrows and lines can be connected to.</p></li>
<li><p>You can draw an arrow or a line from an object in a preset direction</p></li>
<li><p>Sizing and positioning should be done as automatic as possible: this is
achieved for instance by drawing boxes and circles with text, rather
than first drawing a rectangle and then drawing the text inside it or
vice versa.</p></li>
</ul>
<p>The commands within this package can be split up in several
categories. Each category is described in a separate section.</p>
</div>
<div id="section2" class="section"><h2><a name="section2">GENERAL COMMANDS FOR POSITIONING AND SETUP</a></h2>
<dl class="definitions">
<dt><a name="1"><b class="cmd">::Diagrams::drawin</b> <i class="arg">canvas</i></a></dt>
<dd><p>Set the canvas widget in which to draw</p>
<dl class="arguments">
<dt>widget <i class="arg">canvas</i></dt>
<dd><p>Widget to draw in</p></dd>
</dl></dd>
<dt><a name="2"><b class="cmd">::Diagrams::saveps</b> <i class="arg">filename</i></a></dt>
<dd><p>Save the drawing in a PostScript file</p>
<dl class="arguments">
<dt>filename <i class="arg">string</i></dt>
<dd><p>Name of the file to save the drawing in</p></dd>
</dl></dd>
<dt><a name="3"><b class="cmd">::Diagrams::direction</b> <i class="arg">newdir</i></a></dt>
<dd><p>Set the direction for moving the current position.
The direction is one of:
north  northeast  east southeast  south
southwest west northwest
N      NE         E    SE         S     SW        W    NW
up     up-right   left down-right down  down-left left up-left
centre center     C</p>
<dl class="arguments">
<dt>newdir <i class="arg">string</i></dt>
<dd><p>New direction</p></dd>
</dl></dd>
<dt><a name="4"><b class="cmd">::Diagrams::currentpos</b> <i class="arg">pos</i></a></dt>
<dd><p>Set the current position explicitly (argument must be
a position &quot;object&quot;)</p>
<dl class="arguments">
<dt>pos <i class="arg">list</i></dt>
<dd><p>New position (retrieve via <em>getpos</em> for instance)</p></dd>
</dl></dd>
<dt><a name="5"><b class="cmd">::Diagrams::getpos</b> <i class="arg">anchor</i> <i class="arg">obj</i></a></dt>
<dd><p>Get the position of a particular &quot;anchor&quot; point of an object
anchor should be one of the direction strings</p>
<dl class="arguments">
<dt>anchor <i class="arg">string</i></dt>
<dd><p>Name of the anchor (one of the directions - see
the <em>direction</em> command</p></dd>
<dt>obj <i class="arg">list</i></dt>
<dd><p>The object in question</p></dd>
</dl></dd>
<dt><a name="6"><b class="cmd">::Diagrams::position</b> <i class="arg">xcoord</i> <i class="arg">ycoord</i></a></dt>
<dd><p>Create a position &quot;object&quot;</p>
<dl class="arguments">
<dt>xcoord <i class="arg">float</i></dt>
<dd><p>X-coordinate of the position</p></dd>
<dt>ycoord <i class="arg">float</i></dt>
<dd><p>Y-coordinate of the position</p></dd>
</dl></dd>
</dl>
</div>
<div id="section3" class="section"><h2><a name="section3">DRAWING OBJECTS</a></h2>
<dl class="definitions">
<dt><a name="7"><b class="cmd">::Diagrams::box</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></dt>
<dd><p>Draw a box from the current position
(width and height are both optional; if not given, the text
determines the width and height)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown inside the box</p></dd>
<dt>float <i class="arg">width</i></dt>
<dd><p>Width (if any) of the box in pixels</p></dd>
<dt>float <i class="arg">height</i></dt>
<dd><p>Height (if any) of the box in pixels</p></dd>
</dl></dd>
<dt><a name="8"><b class="cmd">::Diagrams::plaintext</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></dt>
<dd><p>Draw plain text from the current position
(width and height are both optional; if not given, the text
determines the width and height)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown</p></dd>
<dt>float <i class="arg">width</i></dt>
<dd><p>Width (if any) of the (invisible) box in which to
position the text</p></dd>
<dt>float <i class="arg">height</i></dt>
<dd><p>Height (if any) of the box</p></dd>
</dl></dd>
<dt><a name="9"><b class="cmd">::Diagrams::circle</b> <i class="arg">text</i> <i class="arg">radius</i></a></dt>
<dd><p>Draw a circle from the current position
(the radius is optional)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown inside the circle</p></dd>
<dt>float <i class="arg">radius</i></dt>
<dd><p>Radius (if any) of the circle in pixels</p></dd>
</dl></dd>
<dt><a name="10"><b class="cmd">::Diagrams::slanted</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i> <i class="arg">angle</i></a></dt>
<dd><p>Draw a slanted box from the current position
(width, height and angle are optional)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown inside the box</p></dd>
<dt>float <i class="arg">width</i></dt>
<dd><p>Width (if any) of the box in pixels</p></dd>
<dt>float <i class="arg">height</i></dt>
<dd><p>Height (if any) of the box in pixels</p></dd>
<dt>float <i class="arg">angle</i></dt>
<dd><p>Angle of the slanted box</p></dd>
</dl></dd>
<dt><a name="11"><b class="cmd">::Diagrams::diamond</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></dt>
<dd><p>Draw a diamond-shaped box from the current position
(width and height are both optional; if not given, the text
determines the width and height)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown inside the diamond</p></dd>
<dt>float <i class="arg">width</i></dt>
<dd><p>Width (if any) of the diamond in pixels</p></dd>
<dt>float <i class="arg">height</i></dt>
<dd><p>Height (if any) of the diamond in pixels</p></dd>
</dl></dd>
<dt><a name="12"><b class="cmd">::Diagrams::drum</b> <i class="arg">text</i> <i class="arg">width</i> <i class="arg">height</i></a></dt>
<dd><p>Draw a drumshaped item from th ecurrent position
(width and height are both optional; if not given, the text
determines the width and height)</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown inside the drum</p></dd>
<dt>float <i class="arg">width</i></dt>
<dd><p>Width (if any) of the drum in pixels</p></dd>
<dt>float <i class="arg">height</i></dt>
<dd><p>Height (if any) of the drum in pixels</p></dd>
</dl></dd>
<dt><a name="13"><b class="cmd">::Diagrams::arrow</b> <i class="arg">text</i> <i class="arg">length</i> <i class="arg">heads</i></a></dt>
<dd><p>Draw an arrow from the current position to the next.
The text is drawn next to the arrow, the length (in pixels) is
optional. If not given the gap parameters are used.</p>
<dl class="arguments">
<dt>string <i class="arg">text</i></dt>
<dd><p>Text to be shown along the arrow</p></dd>
<dt>float <i class="arg">length</i></dt>
<dd><p>Length of the arrow in pixels</p></dd>
<dt>float <i class="arg">heads</i></dt>
<dd><p>Which arrow heads to draw (first, last
or both - defaults to last)</p></dd>
</dl></dd>
<dt><a name="14"><b class="cmd">::Diagrams::line</b> <i class="arg">args</i></a></dt>
<dd><p>Draw a line specified via positions or via line segments
The arguments are either position or length-angle pairs</p>
<dl class="arguments">
<dt>list <i class="arg">args</i></dt>
<dd><p>List of positions or of length-angle pairs</p></dd>
</dl></dd>
</dl>
</div>
<div id="section4" class="section"><h2><a name="section4">ATTRIBUTES</a></h2>
<p>(Note: attributes are persistent)</p>
<dl class="definitions">
<dt><a name="15"><b class="cmd">::Diagrams::attach</b> <i class="arg">anchor</i></a></dt>
<dd><p>Set the anchor point for attaching arrows to</p>
<dl class="arguments">
<dt>string <i class="arg">anchor</i></dt>
<dd><p>Any one of the valid anchor (e.g. N or North)</p></dd>
</dl></dd>
<dt><a name="16"><b class="cmd">::Diagrams::color</b> <i class="arg">name</i></a></dt>
<dd><p>Set the color for the outline of a box etc.</p>
<dl class="arguments">
<dt>color <i class="arg">name</i></dt>
<dd><p>Name of the colour to be used</p></dd>
</dl></dd>
<dt><a name="17"><b class="cmd">::Diagrams::fillcolor</b> <i class="arg">name</i></a></dt>
<dd><p>Set the color to fill the objects</p>
<dl class="arguments">
<dt>color <i class="arg">name</i></dt>
<dd><p>Name of the colour to be used</p></dd>
</dl></dd>
<dt><a name="18"><b class="cmd">::Diagrams::textcolor</b> <i class="arg">name</i></a></dt>
<dd><p>Set the color to draw the text in</p>
<dl class="arguments">
<dt>color <i class="arg">name</i></dt>
<dd><p>Name of the colour to be used</p></dd>
</dl></dd>
<dt><a name="19"><b class="cmd">::Diagrams::usegap</b> <i class="arg">use</i></a></dt>
<dd><p>Turn the gap on (1) or off (0). Note: usually a small gap is used
when positioning objects.</p>
<dl class="arguments">
<dt>boolean <i class="arg">use</i></dt>
<dd><p>Use the gap to compute the position of the next object or not</p></dd>
</dl></dd>
<dt><a name="20"><b class="cmd">::Diagrams::xgap</b> <i class="arg">value</i></a></dt>
<dd><p>Size of the gap in horizontal direction (in pixels)</p>
<dl class="arguments">
<dt>integer <i class="arg">value</i></dt>
<dd><p>Gap width in pixels</p></dd>
</dl></dd>
<dt><a name="21"><b class="cmd">::Diagrams::ygap</b> <i class="arg">value</i></a></dt>
<dd><p>Size of the gap in vertical direction (in pixels)</p>
<dl class="arguments">
<dt>integer <i class="arg">value</i></dt>
<dd><p>Gap height in pixels</p></dd>
</dl></dd>
<dt><a name="22"><b class="cmd">::Diagrams::textfont</b> <i class="arg">name</i></a></dt>
<dd><p>Set the name of the font to use</p>
<dl class="arguments">
<dt>string <i class="arg">name</i></dt>
<dd><p>Name of a text font</p></dd>
</dl></dd>
<dt><a name="23"><b class="cmd">::Diagrams::linewidth</b> <i class="arg">pixels</i></a></dt>
<dd><p>Set the width of the lines (in line objects and arrows and the outline
of boxes and other objects)</p>
<dl class="arguments">
<dt>integer <i class="arg">pixels</i></dt>
<dd><p>Number of pixels the lines are wide</p></dd>
</dl></dd>
<dt><a name="24"><b class="cmd">::Diagrams::linestyle</b> <i class="arg">style</i></a></dt>
<dd><p>Set the style of the lines and arrows and of the outline of boxes and
other objects. The predefined line styles are: solid, dot, dash,
dash-dot, dash-dot-dot (these are the distinguishable line styles on
Windows). You can also use the style patterns from the canvas directly.</p>
<dl class="arguments">
<dt>string <i class="arg">style</i></dt>
<dd><p>Name of a valid line style</p></dd>
</dl></dd>
</dl>
</div>
<div id="section5" class="section"><h2><a name="section5">COMMANDS FOR IMPLEMENTING NEW OBJECTS</a></h2>
<p>Note: it is best to study how for instance box objects are implemented
first.</p>
<dl class="definitions">
<dt><a name="25"><b class="cmd">::Diagrams::pushstate</b></a></dt>
<dd><p>Save the current global settings
Used when defining an object that is composed of other objects</p></dd>
<dt><a name="26"><b class="cmd">::Diagrams::popstate</b></a></dt>
<dd><p>Restore the previously saved global settings</p></dd>
<dt><a name="27"><b class="cmd">::Diagrams::computepos</b></a></dt>
<dd><p>Compute the current position</p></dd>
<dt><a name="28"><b class="cmd">::Diagrams::boxcoords</b> <i class="arg">x1</i> <i class="arg">y1</i> <i class="arg">x2</i> <i class="arg">y2</i></a></dt>
<dd><p>Compute the anchor coordinates for a box-like object
(this is merely a convenience routine. In general, you will
have to compute the list of coordinates yourself - see
for instance the diamond object)</p>
<dl class="arguments">
<dt>float <i class="arg">x1</i></dt>
<dd><p>X coordinate of upper-left corner</p></dd>
<dt>float <i class="arg">y1</i></dt>
<dd><p>Y coordinate of upper-left corner</p></dd>
<dt>float <i class="arg">x2</i></dt>
<dd><p>X coordinate of lower-right corner</p></dd>
<dt>float <i class="arg">y2</i></dt>
<dd><p>Y coordinate of lower-right corner</p></dd>
</dl></dd>
<dt><a name="29"><b class="cmd">::Diagrams::moveobject</b> <i class="arg">obj</i></a></dt>
<dd><p>Move the object to the right position and return the new
information</p>
<dl class="arguments">
<dt>list <i class="arg">obj</i></dt>
<dd><p>List of data representing the object</p></dd>
</dl></dd>
</dl>
</div>
<div id="keywords" class="section"><h2><a name="keywords">Keywords</a></h2>
<p>diagrams, drawing</p>
</div>
</div></body></html>
