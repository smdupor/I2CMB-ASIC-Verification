<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="Hard Macro Model Overview" />
<meta name="abstract" content="The tool detects certain instances in the design as hard macro instances, and applies connection and corruption semantics." />
<meta name="description" content="The tool detects certain instances in the design as hard macro instances, and applies connection and corruption semantics." />
<meta name="prodname" content="Power Aware Simulation User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="pa_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Power Aware Simulation User's Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id67d90e01-fa90-4fce-9373-f3bc2d60111c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Hard Macro Model Overview</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Hard Macro Model Overview" />
<meta name="attributes" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id67d90e01-fa90-4fce-9373-f3bc2d60111c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Hard Macro Model Overview</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">The tool
detects certain instances in the design as hard macro instances,
and applies connection and corruption semantics. </span>
</div>
<p class="p"><span class="ph FontProperty HeadingLabel">Hard Macro Cell Detection</span></p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id82c9b17c-161d-42b0-8aeb-f19f16050248"><p class="p">The tool detects an HDL simulation model as
a hard macro model if the simulation model has the following attribute
associated with it by a UPF set_design_attributes specification:</p>
<pre class="pre codeblock leveled"><code>set_design_attributes -models ISOLSCELL -attribute UPF_is_macro_cell TRUE  </code></pre></li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idef7b3a62-ba35-4e19-b635-4de944c034d0"><p class="p">The
tool detects an HDL simulation model as a hard macro model if the
simulation model has the following attribute associated with it
by an HDL attribute specification:</p>
<pre class="pre codeblock leveled"><code>(* is_macro_cell = 1  *)
module ISOCELL (  I, ISO, Z) ;
...</code></pre></li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id1aafe2f7-1747-456d-8780-863c128adc64"><p class="p">The
tool detects a Liberty model as a hard macro model if the Liberty
model contains the following attribute:</p>
<pre class="pre codeblock leveled"><code>cell (mod_vl)  {
   is_macro_cell : true;
   ...</code></pre></li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id6871ee69-ddf8-43e3-8520-1155d518317c"><p class="p">You can treat
any HDL cell that has a Liberty model as a hard macro by using the following
vopt argument: </p>
<pre class="pre codeblock"><code>vopt -pa_enable=libertycellcrpt</code></pre></li>
</ul>
<p class="p">Detection of hard macro instances has two important
effects in Power Aware simulation:</p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idc13817f5-08e8-4c53-8597-7329cc4f0a9a"><p class="p">Ports of a hard macro instance may define
part of the lower boundary of a power domain, if their related supplies
are different from the primary supply of the containing domain.
This in turn enables insertion of isolation and level shifting for
those ports.</p>
</li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id4a5f4a98-997a-42ef-a498-368f3ac29389"><p class="p">Hard macro instances may have their Power
Aware simulation semantics provided by a Liberty model instead of
the standard simstate-based Power Aware simulation behavior defined
by UPF.</p>
</li>
</ul>
<p class="p"><span class="ph FontProperty HeadingLabel">Connection Semantics</span></p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idaf123a61-383c-4ebd-9411-bdea1b7f4dd2"><p class="p">The primary
power pin of the cell is connected to the primary supply of the
power domain.</p>
</li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idc590d4c5-0fd5-41f9-9ab9-cd4d0bb7ea2f"><p class="p">If the cell
has bias pins, then the bias pin of the cell is connected to the
primary supply of the power domain.</p>
</li>
</ul>
<p class="p">If your Liberty hard macro model has some other supplies (such
as backup power, backup ground, or bias power), and these supplies
are unconnected, this may result in spurious corruption semantics.
To avoid spurious corruption, use the following argument: </p>
<pre class="pre codeblock"><code>vopt -pa_enable=powerunconnnets</code></pre><p class="p">To connect the unconnected pg pins of the cells present inside
a hard macro cell to the always-on power supply created by the tool,
use the following argument:</p>
<pre class="pre codeblock"><code>vopt -pa_enable=conninsidemacro</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Corruption Semantics</span></p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idf0915b19-ae15-496f-b606-181b7a86d81e"><p class="p"><a class="xref fm:HeadingOnly" href="Concept_NonPowerAwareHDLModel_idf03d4b23.html#idf03d4b23-7e04-4c34-a994-fc701daeb228__Concept_NonPowerAwareHDLModel_idf03d4b23.xml#idf03d4b23-7e04-4c34-a994-fc701daeb228" title="The simulation model for a hard macro is a normal functional model that does not include any power-related structures or Power Aware behavior. Such models are processed along with the design just like any other RTL or gate-level module.">Non-Power Aware HDL Model</a> — If there
is a corresponding Liberty cell for the model, then the tool applies
Liberty-based corruption semantics: </p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id8dc395ac-a56c-45d7-bf1d-0862ec921718"><p class="p">Input ports
are corrupted using their related supply.</p>
</li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__id17a90211-c754-44b5-a207-60b7b64106dc"><p class="p">Output ports
are corrupted using the power-down function.</p>
</li>
</ul>
<p class="p">To obtain a more optimized Liberty-based corruption, use the
following argument: </p>
<pre class="pre codeblock"><code>vopt -pa_enable=libertypamodelopt</code></pre><p class="p">With this argument, the tool applies the following Liberty-based
corruption semantics:</p>
<ul class="ul"><li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idd047c8be-8eb7-43f9-83ae-4b11c82f6f36"><p class="p">For combinatorial
cells, only the outputs are corrupted.</p>
</li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idbb0e0261-f185-4fd2-817f-d12c461b186b"><p class="p">For sequential
cells, both outputs and inputs are corrupted.</p>
</li>
</ul>
</li>
<li class="li" id="id67d90e01-fa90-4fce-9373-f3bc2d60111c__idbe0b03f9-2810-4428-a554-8bb1a1321b70"><p class="p"><a class="xref fm:HeadingOnly" href="Concept_PowerAwareHDLModel_idf48c7404.html#idf48c7404-3a44-49af-9558-8a1db69b6506__Concept_PowerAwareHDLModel_idf48c7404.xml#idf48c7404-3a44-49af-9558-8a1db69b6506" title="Hard macros often have multiple supplies that provide power to different portions of the macro. In such cases, implicit connection to the primary supply of the containing domain is not sufficient.">Power Aware HDL Model</a> — The tool
disables the simulation semantics.</p>
</li>
</ul>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Concept_NonPowerAwareHDLModel_idf03d4b23.html" title="The simulation model for a hard macro is a normal functional model that does not include any power-related structures or Power Aware behavior. Such models are processed along with the design just like any other RTL or gate-level module. ">Non-Power Aware HDL Model</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_PowerAwareHDLModel_idf48c7404.html" title="Hard macros often have multiple supplies that provide power to different portions of the macro. In such cases, implicit connection to the primary supply of the containing domain is not sufficient. ">Power Aware HDL Model</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_ExtendedPowerAwareHDLModel_id0a3b9778.html" title="It is sometimes convenient to have simulation models for hard macros that can be used in either normal simulation or Power Aware simulation without modification, without adding extra levels of hierarchy, and without leaving ports unconnected. An extended Power Aware simulation model makes this possible. ">Extended Power Aware HDL Model</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_HardMacroModel_idb4d0bd37.html" title="A macro model is a block-level model in a design that has been optimized for power, area, or timing and has been silicon-tested. Defining the power intent for a macro model depends on whether you have access to its internal structure (logic and topology). If internal access is not available, you can specify power intent only on its external pins—this is referred to as a hard macro. You can process hard macro models in various ways, depending upon whether they are Power Aware or not, and if not, how you want to add Power Aware behavior to the model.">Hard Macro Model</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "pa_user"
                DocTitle = "Power Aware Simulation User's Manual"
                PageTitle = "Hard Macro Model Overview"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_HardMacroModelOverview_id67d90e01.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Power Aware Simulation User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>