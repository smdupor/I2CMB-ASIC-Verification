<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Power Aware Verification Flow" />
<meta name="abstract" content="Verifying RTL-level specification of active power management for a given design involves several steps." />
<meta name="description" content="Verifying RTL-level specification of active power management for a given design involves several steps." />
<meta name="prodname" content="Power Aware Simulation User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="pa_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Power Aware Simulation User's Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idee039721-e2aa-42c2-923f-77c3d44236e5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Power Aware Verification Flow</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Power Aware Verification Flow" />
<meta name="attributes" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idee039721-e2aa-42c2-923f-77c3d44236e5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Power
Aware Verification Flow</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Verifying RTL-level
specification of active power management for a given design involves several
steps. </span>
</div>
<p class="p">First, you need to verify that the power management
architecture is correctly structured, given the operating modes
of the device and the power states that have been defined to reflect
those modes. Second, you need to verify that the design (both each
power domain individually and all of them collectively) behave correctly
when power management control signals are given in the correct sequence.
Third, you need to verify that the power control logic always generate
power control signals in the correct sequence.</p>
<p class="p"><a class="xref fm:Figure" href="#idee039721-e2aa-42c2-923f-77c3d44236e5__id4dc14cbd-3085-43f3-9ee3-e72f9b4de369">Figure 1</a> shows the high-level design of an ARM-based
SoC with active power management. The above verification steps as
applied to this example are described below. </p>
<div class="fig fignone" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id4dc14cbd-3085-43f3-9ee3-e72f9b4de369"><span class="figcap"><span class="fig--title-label">Figure 1. </span>An ARM-based SoC with Active
Power Management</span><br /><div class="imageleft"><img class="image imageleft fmdpi:100" src="../graphics/SoC_with_PwrMgt.gif" /></div><br /></div>
<p class="p">This design consists of multiple functional
units communicating over the AXI bus. Each functional unit may be
defined as a separate power domain, or even as a collection of power domains.
A UPF file for this design would specify the power management architecture
for the whole system, including the specific requirements for power
distribution, switching, and state retention for each power domain,
and the requirements for isolation and level shifting between interacting
power domains. The Power Control Unit (PCU) is a hardware implementation
of power control logic that drives power control signals for each
domain in the correct order. The Cortex R4 CPU is an embedded ARM
processor that drives system-level power state changes by sending
transactions to the PCU.</p>
<div class="section Subsections"><div class="section Subsection" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id2593e1a3-f335-4b13-bf96-2c4aa2df497b"><h2 class="title Subheading sectiontitle">Verifying the Power
Management Architecture</h2><p class="p">Verifying the sufficiency of the power management
architecture can be done in part through static analysis. Given
a complete definition of the power domains and power states for
a given design, it is relatively straightforward to verify that
the necessary isolation cells and level shifters are present (or
implied by a UPF specification) to ensure that the power domains interacts
correctly and is not adversely affected when their neighboring power
domains are powered down. Static analysis can also ensure that the
necessary supply structures are present to provide the ability to
control power to each power domain.</p>
<p class="p">However, static analysis is not always possible.
Depending upon the sequencing of power state changes, and the ramping
of power supplies as they transition, there may be a requirement
for level shifters that is not obvious from the power state table.
Also, the power state table may not be complete, and power states
that are not defined might actually occur during operation of the device.
Finally, external supply sources may be switched or may vary in
voltage beyond what is defined in the power state table. For these
and other reasons, simulation is often required. In this case, Power
Aware simulation is necessary, to ensure that the power management
architecture and its controls are taken into account during simulation. </p>
<p class="p">Power Aware simulation enables functional verification
of power management in the context of an RTL design. Power Aware
simulation run does the following:</p>
<ul class="ul"><li class="li" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id77c6d70f-4d3e-4494-955a-3ca8fd6a70ad"><p class="p">Compiles the design and UPF specifications</p>
</li>
<li class="li" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id120dfb61-8098-4e34-b00b-8f5343a9ae5d"><p class="p">Infers sequential elements from the RTL
design (registers, latches and memories)</p>
</li>
<li class="li" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id1d87016c-302e-4cf3-bc37-e78cf0744b77"><p class="p">Applies the UPF-specified power management
architecture to the RTL design </p>
</li>
<li class="li" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id0cb47253-67e5-4ab5-b241-ebbac05ccda8"><p class="p">Augments the simulation model with appropriate
power aware models</p>
</li>
<li class="li" id="idee039721-e2aa-42c2-923f-77c3d44236e5__id2aae766a-eecf-462f-8f91-410e49f26e57"><p class="p">Dynamically modifies the RTL behavior
to reflect the impact of active power management.</p>
</li>
</ul>
<p class="p">Using the UPF and sequential element information,
the simulator is able to augment the normal RTL behavior with the
UPF-specified power aware behavior (power distribution and control, retention,
corruption, and isolation). This involves selecting the appropriate
simulation models to implement the UPF-specified power management
architecture. It may also involve recognizing and integrating user-supplied
Power Aware simulation models. </p>
<h2 class="title Subheading sectiontitle">Verifying Power Managed
Behavior</h2><p class="p">Power Aware simulation can be used to visualize
the effects of active power management on the dynamic behavior of
the design, as well as visualizing the behavior of the power management architecture
itself under control of power management logic. In a Power Aware
simulation, the internal state and outputs of a power domain is
set to X to reflect the corruption of those signals when the primary
supply to that domain is turned off. When the supply is turned on
again, the X values are replaced as the power domain reinitializes
or has its state restored. Signals driven by outputs of a powered-down
domain should be clamped to 0 or 1, so that downstream power domains
see a well-defined value and will not be affected by corrupted outputs
of a power domain that has been powered down. Retention should be
evident in that the state of signals following power up corresponds
to the state of signals prior to the previous power-down.</p>
<p class="p">Visualizing the effects of active power management
helps the designer confirm that all of the necessary power domains
and power states required to implement the operation modes of this device
have been defined, and that all the necessary isolation, level-shifting,
and retention cells necessary to enable power management have been
added. If there are errors in the power management architecture,
they are very likely cause signal corruption that does not go away after
power up, which in turn leads to functional errors in the design.</p>
<p class="p">Debugging power management errors can be performed
by tracking corruption of signals in the waveform view, but that
method is tedious and error-prone. A much more effective method
is the use of assertions to check for correct operation of the design
under active power management. For example, an assertion to check
that an output of a power domain is clamped to the correct value
when the power domain is powered down, immediately catches any error related
to the clamp value, or the powering of the isolation cell involved,
rather than just generating an X and letting it propagate. Such
assertions can be automatically generated by the Power Aware simulator.</p>
<h2 class="title Subheading sectiontitle">Verifying Power Control
Logic</h2><p class="p">Power Aware simulation can
also be used to verify the control logic driving the power management
architecture, if the control logic is part of the design rather
than being implemented in a test bench. For software-based power
control logic, simulation is the only method available. In particular,
hardware/software co-simulation is necessary if the power control
logic is split between hardware and software components, as is often
the case. For hardware-based power control logic, such as a power
control unit, another alternative is available.</p>
<p class="p">Formal verification is particularly suited
to verifying complex control logic. In contrast to simulation, which
runs one input sequence at a time to test a device, formal verification considers
all valid input sequences in one pass. A formal verification tool
can therefore identify all possible behaviors of the power control
logic, which enables it to automatically find any corner cases in
which the generated control sequences may not be complete or in
the correct order. Formal verification is driven by assertions,
so use of formal verification requires creation of assertions about
the expected behavior of the power control unit. Although this takes
some effort, the ability to thoroughly verify the power control
logic makes it worthwhile.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PowerAwareVerificationArmBasedDesigns_id0ccd1779.html" title="This section contains an application note written by Ping Yeung and Erich Marschner of Mentor Graphics Corporation.">Power Aware Verification of ARM-Based Designs</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "pa_user"
                DocTitle = "Power Aware Simulation User's Manual"
                PageTitle = "Power Aware Verification Flow"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_PowerAwareVerificationFlow_idee039721.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Power Aware Simulation User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>