<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Liberty Model of a Hard Macro" />
<meta name="abstract" content="A Liberty model for a hard macro is an alternative way of providing Power Aware behavior for instances of that hard macro. The Liberty model can be read along with a non-Power Aware HDL simulation model. Power-related attributes in the Liberty model essentially add Power Aware behavior to the non-Power Aware HDL model." />
<meta name="description" content="A Liberty model for a hard macro is an alternative way of providing Power Aware behavior for instances of that hard macro. The Liberty model can be read along with a non-Power Aware HDL simulation model. Power-related attributes in the Liberty model essentially add Power Aware behavior to the non-Power Aware HDL model." />
<meta name="prodname" content="Power Aware Simulation User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="pa_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Power Aware Simulation User's Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Liberty Model of a Hard Macro</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Liberty Model of a Hard Macro" />
<meta name="attributes" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Liberty
Model of a Hard Macro</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">A Liberty model
for a hard macro is an alternative way of providing Power Aware
behavior for instances of that hard macro. The Liberty model can
be read along with a non-Power Aware HDL simulation model. Power-related
attributes in the Liberty model essentially add Power Aware behavior
to the non-Power Aware HDL model.</span>
</div>
<p class="p">In this mode
of operation, both a non-Power Aware HDL simulation model and a
Liberty model for the same hard macro are provided to Power Aware
simulation. In this case, the Liberty model defines all of the supplies
of the macro as pg_pins, including internal pg_pins representing
the output of embedded switches, bias generators, regulators, or
LDOs. UPF supply nets or supply set functions can be connected to
the pg_pins of the Liberty model, either explicitly or automatically
based upon their pg_type. As with the other modes, VCTs are either specified
explicitly or are also inserted automatically based on pg_type.</p>
<p class="p">Liberty attributes are used to determine when
inputs and outputs of a hard macro instance should be corrupted.
The Liberty attributes involved are as follows:</p>
<ul class="ul"><li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idfc0c8491-7951-4682-bbc3-b30c8f763d1d"><p class="p"><span class="ph FontProperty HeadingLabel">switch_function</span>, <span class="ph FontProperty HeadingLabel">pg_function</span> —
These attributes of the cell define the enabling condition and the
input supply of an embedded power switch. The output of the power switch
is modeled as an internal pg_pin. The internal pg_pin may be referenced
in the related_power_pin, related_ground_pin, or power_down_function
attribute definitions.</p>
</li>
<li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__id5645c78d-f329-478c-bf49-9b4da779b53f"><p class="p"><span class="ph FontProperty HeadingLabel">related_power_pin</span>, <span class="ph FontProperty HeadingLabel">related_ground_pin</span> —
These attributes of each logic pin define the power and ground supplies
of the logic receiving an input or driving an output of the hard
macro. These supplies are typically used to determine the corruption
of inputs to the hard macro.</p>
</li>
<li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idba8c5df1-1346-447f-b638-2b1274b8b4f9"><p class="p"><span class="ph FontProperty HeadingLabel">power_down_function</span> —
This attribute of each output pin defines the condition under which
the output should be corrupted. Its value is an expression that
may refer to any input or internal supply.</p>
</li>
</ul>
<p class="p">To use this mode of operation for a given hard
macro, follow the same procedure as described in the section “<a class="xref fm:HeadingOnly" href="Concept_NonPowerAwareHDLModel_idf03d4b23.html#idf03d4b23-7e04-4c34-a994-fc701daeb228__Concept_NonPowerAwareHDLModel_idf03d4b23.xml#idf03d4b23-7e04-4c34-a994-fc701daeb228" title="The simulation model for a hard macro is a normal functional model that does not include any power-related structures or Power Aware behavior. Such models are processed along with the design just like any other RTL or gate-level module.">Non-Power Aware HDL Model</a>”.</p>
<p class="p">It also enables many modeling consistency and
application checks, including the following:</p>
<ul class="ul"><li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idc9653cb1-0581-4755-8b7e-8b57d36c9a89"><p class="p">Checks that automatic connections are
not applied to internal pg pins (because the direction of internal
pg pins affects their use, but direction is not considered in UPF automatic
connections)</p>
</li>
<li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__id3365be46-f990-4529-b1df-b1ea5ec706dd"><p class="p">Checks that any supply net connected
to one or more internal pg pins is resolved appropriately</p>
</li>
</ul>
<p class="p">If you want to corrupt only the outputs of
the hard macro, you can disable input corruption by including the
following argument:</p>
<pre class="pre codeblock"><code>vopt -pa_disable=libertyinpcorrupt</code></pre><p class="p">which disables Liberty attribute-based input
corruption but does not affect Liberty attribute-based output corruption.</p>
<div class="section Subsections"><div class="section Subsection" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__id6b340938-74d4-4fb9-a266-f0e46a9fd01a"><h2 class="title Subheading sectiontitle">Liberty Models and Simstate
Behavior</h2><p class="p">When you connect a supply
net to a supply port of an instance, the simulator disables simstate behavior
only when the supply port is present in HDL. If the supply port
is missing from HDL, but is present in the Liberty model, the simulator
does not disable the simstate behavior for that instance.</p>
<p class="p">Given this behavior, you do not need to specify <a class="xref fm:HeadingOnly" href="General_SetSimstateBehavior_id7e5aacc9.html#id7e5aacc9-613f-447a-8c47-f2022b56bd67__General_SetSimstateBehavior_id7e5aacc9.xml#id7e5aacc9-613f-447a-8c47-f2022b56bd67" title="Specifies the simulation simstate behavior for a model or library.">set_simstate_behavior</a> to ENABLE
if you want to corrupt a non-Power Aware HDL model based on liberty
attributes, regardless of any automatic or explicit connections.
For this scenario, the simulator ensures that only ports of the instance
are corrupted using Liberty attributes and everything inside the
instance is treated as always on.</p>
</div>
<div class="section Subsection" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__ide4e89d5d-c8da-4e4d-a947-6ea8ba8f2d7c"><h2 class="title Subheading sectiontitle">Connections to Liberty
Model Internal Power/Ground Pins</h2><p class="p">When hard macros containing embedded power
sources are involved in a design, those power sources are sometimes
connected externally in the implementation flow. The simulator recognizes
various typical configurations of such connections when Liberty
models are used to define the Power Aware semantics of hard macros.</p>
<p class="p">Liberty models representing hard macros may
contain internal supply pins (pg pins) as well as external supply
pins. Internal pg pins represent the output of a switch or voltage
generator block such as a bias generator, regulator, or LDO embedded
within the macro. These internal pg pins are typically used in different
ways depending upon their directions. </p>
<ul class="ul"><li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__id2d81e3c9-3c0e-49d3-a834-19e60e9accb2"><p class="p">Internal pg pins with direction internal
represent the output of a voltage generator block that is typically
intended to supply power only to objects within the macro. Such
internal pg pins cannot be connected to supply nets outside the
macro. </p>
</li>
<li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__id825300b2-579f-48c0-bdd5-e12bef01b905"><p class="p">Internal pg pins with
direction inout are similar to pg pins with direction 'internal', except
that when there are multiple instances of the same switch (either
embedded in cells or external to the cells) with the same input
power supplies and control inputs, the internal pg pin of each instance
and any external switch outputs can be strapped together via connection
to a common supply net to synchronize and distribute the loading
of the switches embedded in each of the instances. In this case,
the common supply net must be resolved parallel. </p>
</li>
<li class="li" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idccd8ddfd-a290-45cd-83c7-e028443dc122"><p class="p">Internal pg pins with direction output
represent the output of an embedded power switch or voltage generator
block that is typically intended to export power from the macro. Such
an internal pg pin can be connected to an external supply net that
is used as a power source for elements outside the macro. The external
supply net may be unresolved, resolved one-hot, or resolved parallel,
depending upon the number of supply sources it has and whether it
is exporting a single source, muxing multiple sources, or merging
multiple sources.</p>
</li>
</ul>
</div>
<div class="section Subsection" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idecede1eb-9ea8-4cac-876c-64a697b94892"><h2 class="title Subheading sectiontitle">Synchronization of Internal
Power/Ground Pin Sources</h2><p class="p">When an internal pg pin with direction inout
defined by the Liberty model of a hard macro instance is connected
to an external supply net using UPF commands, and the supply net
is a resolved parallel supply net with multiple sources, an additional
check is performed by the simulator to ensure that the sources of
the resolved parallel supply net are all consistent. When this check
is applied, a warning message is generated if the state of any source
is UNDETERMINED, or the states of the sources are not all the same.</p>
<p class="p">The check can also be applied to resolve parallel
supply nets whose sources include internal pg pins with direction
output, by specifying the following vopt argument:</p>
<pre class="pre codeblock"><code>vopt -pa_enable=pgoutsynccheck</code></pre></div>
<div class="section Subsection" id="iddcdf5c73-1a77-4020-afd3-dfce2abcaaf7__idde8e2e5c-8574-4148-bc25-e4aec786708a"><h2 class="title Subheading sectiontitle">Consistency
of Power Aware Models and Liberty Models</h2><p class="p">When both a Liberty model and a Power Aware
HDL simulation model are available for the same module, it is possible
to determine whether the two models define the same set of supply and
logic pins. If there is a difference between the two, the simulator
issues an error message. </p>
<p class="p">The simulator does not attempt to check whether
the corruption behavior of a Power Aware simulation model is consistent
with the corruption behavior indicated by the corresponding Liberty
model. In any case, when both a Liberty model and a Power Aware
HDL simulation model are available, the simulator defaults to using
the HDL simulation model without any additional information from
the Liberty model. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_HardMacroModel_idb4d0bd37.html" title="A macro model is a block-level model in a design that has been optimized for power, area, or timing and has been silicon-tested. Defining the power intent for a macro model depends on whether you have access to its internal structure (logic and topology). If internal access is not available, you can specify power intent only on its external pins—this is referred to as a hard macro. You can process hard macro models in various ways, depending upon whether they are Power Aware or not, and if not, how you want to add Power Aware behavior to the model.">Hard Macro Model</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "pa_user"
                DocTitle = "Power Aware Simulation User's Manual"
                PageTitle = "Liberty Model of a Hard Macro"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_LibertyModelOfAHardMacro_iddcdf5c73.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Power Aware Simulation User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>