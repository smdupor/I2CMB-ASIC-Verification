<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Level Sensitive Retention Model Example" />
<meta name="abstract" content="Power Aware simulation provides models for retention cells that support both edge-sensitive and level-sensitive detection. Based on the retention control signals in the UPF specification, Power Aware simulation automatically selects the model. An example of a single control, level-sensitive model illustrates the use of the UPF retention command with level-sensitive controls." />
<meta name="description" content="Power Aware simulation provides models for retention cells that support both edge-sensitive and level-sensitive detection. Based on the retention control signals in the UPF specification, Power Aware simulation automatically selects the model. An example of a single control, level-sensitive model illustrates the use of the UPF retention command with level-sensitive controls." />
<meta name="prodname" content="Power Aware Simulation User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="pa_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Power Aware Simulation User's Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Level Sensitive Retention Model Example</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Level Sensitive Retention Model Example" />
<meta name="attributes" content="product.version.2020.4,sort.order.050,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Level Sensitive Retention
Model Example</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">Power Aware simulation
provides models for retention cells that support both edge-sensitive and
level-sensitive detection. Based on the retention control signals
in the UPF specification, Power Aware simulation automatically selects
the model. An example of a single control, level-sensitive model
illustrates the use of the UPF retention command with level-sensitive
controls.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idb658a227-396a-413e-b71a-e4f19c3c8e55"><h2 class="title Subheading sectiontitle">Example Retention
Model</h2><p class="p">For the following UPF retention command with
level-sensitive controls, the single control, level-sensitive model
is selected:</p>
<pre class="pre codeblock leveled"><code>set_retention -domain PD1 \ 
	-save_signal {save_restore high} \ 
	-restore_signal {save_restore low}  </code></pre><p class="p">The level-sensitive model
accurately duplicates the behavior of a level-sensitive Liberty
cell. Based on the save_signal and the restore_signal level, the
retention register switches between normal and retention operations: </p>
<ul class="ul"><li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__ida0964ced-809e-4657-987d-6d9acafd1561"><p class="p">When save_signal is
active, normal register behavior occurs. A balloon latch keeps latching
the output of the register.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idcda1a8e9-b378-4627-8e72-48fd0dfff798"><p class="p">When save_signal is de-asserted, a balloon
latch on the register output saves the register value.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id0f4fbee3-95ca-41e2-b4c4-302dff03060c"><p class="p">When restore_signal
is active, the saved value is restored.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id1d8057a9-0092-46f3-b32c-87adbf45d024"><p class="p">When restore_signal is de-asserted, the
normal operation of the register resumes.</p>
</li>
</ul>
<p class="p">The save or restore events
are defined as the trailing edge of the level-sensitive event. For
this command, the register output is saved when save_restore goes
from high to low (the save event). The retained value is transferred
to the register output at the low to high (the restore event) transition
of the save_restore signal. </p>
</div>
<div class="section Subsection" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idb9e79175-7ed6-45ec-879f-12959da23357"><h2 class="title Subheading sectiontitle">Example Protocol</h2><p class="p">The following is an example
of the protocol followed by the level-sensitive model:</p>
<ul class="ul"><li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id14cf2fa6-8e90-4f9b-af0f-17500f4a420f"><p class="p">In the save phase,
normal register operation occurs: D - &gt; Q at clock edges. At the
save event, the register output is latched. </p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id612b1850-0aa1-479f-8134-44352e067c05"><p class="p">In the restore phase,
D has no effect on Q, so Q gets the retained value. At the restore event,
normal operation resumes, and Q gets a new value of D from the next
active edge of clock.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idaa8ab663-0881-458c-8134-1ce8be446341"><p class="p">The register output
is corrupted when the primary power or retention power goes off.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id8b588955-3851-4f4b-a81d-ad4941f5648e"><p class="p">On primary powerup
(and if retention power is on), retention behavior or normal behavior
of the register resumes.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id55a1af42-7d5d-4413-baac-411fe81ad83b"><p class="p">Retention power off
corrupts the register output and the retained value, regardless
of the primary power.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id6e8966ee-f07f-4cf1-ad7e-863f7f8c1370"><p class="p">For dual control signals,
the retained value and register value are both corrupted when save
and restore signals are simultaneously active. </p>
</li>
</ul>
</div>
<div class="section Subsection" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id6e86a985-d35d-4c13-9df5-5082266dfb59"><h2 class="title Subheading sectiontitle">Master-Slave (Slave-Alive) Retention
Protocol</h2><p class="p">The following list identifies the protocol:</p>
<ul class="ul"><li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__ida4526f3f-8f46-408d-92c3-fc53c93d2348"><p class="p">When retention_condition is enabled, the register
goes into retain mode where the register gets the retained value
and the effect of clock, and set and reset are disabled.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idf50ceb73-446d-4546-9ada-6b9946f6ed2a"><p class="p">Register output is corrupted at power-down.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id18c73a05-d3d7-4808-b75b-ec7f2aff6878"><p class="p">At power-up, the register goes into retain
mode if retention_condition is active; otherwise, normal operation
resumes.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__idab9c158a-55f9-412a-b34d-276ce760e5c8"><p class="p">If retention_condition goes down during power-down,
the retained value is corrupted.</p>
</li>
</ul>
<p class="p">The power of the retention
cell is preserved. An extra port RETPWR (retention power) is added to
the retention models.</p>
<p class="p">Whenever the power of a
retention cell (RETPWR) goes down, the value stored in the retention cell
is corrupted, and the X value is restored when the restore signal
is triggered.</p>
<h2 class="title Subheading sectiontitle">Example</h2><p class="p">Consider the following logic added in a retention
model:</p>
<pre class="pre codeblock leveled"><code>// store x in RETPWRDOWN   
always @(negedge RETPWR)   
begin     
	-&gt; pa_store_x ;   
end </code></pre><p class="p">An extra port RETPWR is
added in the Power Aware retention models.</p>
<p class="p">When you use your own retention
models using the <a class="xref fm:HeadingOnly" href="General_MapRetentionCell_idcbdb7a86.html#idcbdb7a86-854b-42d2-8fe5-806c8248826e__General_MapRetentionCell_idcbdb7a86.xml#idcbdb7a86-854b-42d2-8fe5-806c8248826e" title="Constrains implementation alternatives, or specifies a functional model, for retention strategies.">map_retention_cell</a> UPF
command, the following occurs:</p>
<ul class="ul"><li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__id6cc96996-ab74-449d-ad85-e6f46ceb9231"><p class="p">For a user-defined
model with an RETPWR port and corresponding logic, the behavior is
in accordance with the RETPWR logic.</p>
</li>
<li class="li" id="id925e37ec-7cf5-490e-b4ec-cab3a7cd1284__ide5d8f95c-4b59-4887-9a87-8f0979bcf941"><p class="p">For a user-defined
model without a RETPWR port, a warning is issued during the vsim simulation.
For example: </p>
<pre class="pre codeblock leveled"><code># ** Warning: (vsim-PA-8944) Retention Model : 'MyRetModel' does not have Port 'RETPWR'. Ignoring it. 
# Region: /mspa_top/blk0/inst0_MyRetModel </code></pre></li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PowerAwareRetentionSupport_idf6211a5d.html" title="Retention saves the value of a design element in a power domain before switching off the power to that element. When power is restored to that element, the value is retained. Based on the retention control signals specified in the UPF specification, Power Aware simulation automatically selects a model for retention.">Power Aware Retention Support</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "pa_user"
                DocTitle = "Power Aware Simulation User's Manual"
                PageTitle = "Level Sensitive Retention Model Example"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_LevelSensitiveRetentionModelExample_id925e37ec.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Power Aware Simulation User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>