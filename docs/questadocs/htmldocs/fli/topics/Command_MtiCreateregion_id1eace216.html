<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="mti_CreateRegion()" />
<meta name="abstract" content="Creates a new VHDL region." />
<meta name="description" content="Creates a new VHDL region." />
<meta name="DC.subject" content="mti_CreateRegion()" />
<meta name="keywords" content="mti_CreateRegion()" />
<meta name="prodname" content="Foreign Language Interface Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® DE/SE and Questa® SIM" />
<meta name="SourceHandle" content="fli" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Foreign Language Interface Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id1eace216-8329-4660-be04-aad9662c29c4" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>mti_CreateRegion()</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="mti_CreateRegion()" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="syn-arg" id="id1eace216-8329-4660-be04-aad9662c29c4">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">mti_CreateRegion()</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Creates
a new VHDL region.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Syntax</h2><div class="section UsageSet"><p class="lines UsageLine">region_id = mti_CreateRegion( parent, name )</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table ArgumentTable" frame="void" border="0" rules="none"><colgroup><col style="width:1.815in" /><col style="width:1.863in" /><col style="width:2.821in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e159"><p class="p">Name</p>
</th>
<th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e166"><p class="p">Type</p>
</th>
<th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e169"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e159 "><p class="p">parent</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e166 "><p class="p">mtiRegionIdT</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e169 "><p class="p">A handle to the parent
region under which the new region is to be placed; OPTIONAL - can
be NULL</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e159 "><p class="p">name</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e166 "><p class="p">char *</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e169 "><p class="p">The name of the new region; OPTIONAL
- can be NULL</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id1eace216-8329-4660-be04-aad9662c29c4__idf18ab311-0930-462b-bb75-bb8526178b81" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:1.382in" /><col style="width:1.430in" /><col style="width:2.388in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e202"><p class="p">Name</p>
</th>
<th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e205"><p class="p">Type</p>
</th>
<th class="entry row-nocellborder default-entry" style="vertical-align:top;" id="d36079e208"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e202 "><p class="p">region_id</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e205 "><p class="p">mtiRegionIdT</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d36079e208 "><p class="p">A handle to the new region or
NULL if there is an error</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">mti_CreateRegion() creates a new
region with the specified name under the specified parent region.
The simulator converts the name to lower case unless the parent
is VHDL and retains the case if the parent is Verilog or SystemC.
If the name is NULL, then the region is hidden. The simulator does
not connect the new region to the design hierarchy, if the parent region
is NULL.</p>
<p class="p">You can create the new region below
a VHDL, Verilog, or SystemC region, where the new region is of type
accForeign and of fulltype accShadow (refer to acc_vhdl.h).</p>
<p class="p">If you create a region with no
name or with no parent, you must save the returned handle to the
region as there is no way to find the region by name or by traversing
the design with the region traversal functions.</p>
<p class="p">mti_CreateRegion() allows you to
create a region with an illegal HDL name. This is useful for integrators
who provide shared libraries for use by end customers, as this is
an easy way to avoid potential name conflicts with HDL regions.
We recommend the following naming style:</p>
<pre class="pre codeblock"><code>&lt;PREFIX_name&gt;</code></pre><p class="p">where PREFIX is 3 or 4 characters
that denote your software (to avoid name conflicts with other integration
software) and <span class="ph FontProperty emphasis">name</span> is
the name of the region. Enclosing the entire name in angle brackets
makes it an illegal HDL name. For example, &lt;MTI_region&gt;.</p>
<p class="p">We strongly recommend that you
do not use characters in the name that will cause Tcl parsing problems.
This includes spaces, the path separator (normally ’/’ or ’.’),
square brackets ([]), angle brackets (&lt; &gt;), and dollar signs
($). If you must use these characters, then create an escaped name
by putting a backslash (\) at both ends of the name.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id1eace216-8329-4660-be04-aad9662c29c4__id31d44072-2e9d-4f18-aa37-93b99efa08bc"><h2 class="title Subheading sectiontitle">FLI code</h2><pre class="pre codeblock"><code><span class="ph FontProperty P9">#include &lt;acc_user.h&gt;
#include &lt;acc_vhdl.h&gt;
#include &lt;mti.h&gt;

void printRegionInfo( mtiRegionIdT regid, int indent )
{
  char       * regkind;
  mtiRegionIdT subreg;

  switch ( mti_GetRegionKind( regid ) ) {
    case accArchitecture:
      regkind = "Architecture";
      break;
    case accForeign:
      regkind = "Foreign";
      break;
    case accModule:
      regkind = "Module";
      break;
    case accPackage:
       regkind = "Package";
       break;
    default:
      regkind = "Unknown";
      break;
  }
  mti_PrintFormatted( "%*cRegion %s : %s\n", indent, ' ',
                     mti_GetRegionName( regid ), regkind );
  indent += 2;
  for ( subreg = mti_FirstLowerRegion( regid ); subreg;
        subreg = mti_NextRegion( subreg ) ) {
      printRegionInfo( subreg, indent );
  }
}

void loadDone( void * param )
{
  mtiRegionIdT foreign_region = (mtiRegionIdT)param;
  mtiRegionIdT parent;
  mtiRegionIdT regid;

  (void) mti_CreateRegion( foreign_region, "reg_under_for_arch_post_elab" );

  parent = mti_HigherRegion( foreign_region );
  (void) mti_CreateRegion( parent, "region_under_parent_post_elab" );

  for (regid = mti_GetTopRegion(); regid; regid = mti_NextRegion( regid )) {
      printRegionInfo( regid, 1 );
  }
}

void initForeign(
  mtiRegionIdT       region,   /* The ID of the region in which this     */
                               /* foreign architecture is instantiated.  */
  char              *param,    /* The last part of the string in the     */
                               /* foreign attribute.                     */
  mtiInterfaceListT *generics, /* A list of generics for the foreign model.*/
  mtiInterfaceListT *ports     /* A list of ports for the foreign model.   */
)
{
  mtiRegionIdT parent;
  (void) mti_CreateRegion( region, "region_under_foreign_arch" );

  parent = mti_HigherRegion( region );
  (void) mti_CreateRegion( parent, "region_under_parent" );

  (void) mti_CreateRegion( region, 0 );  /* Region with no name */

  mti_AddLoadDoneCB( loadDone, region );
}</span></code></pre></div>
<div class="section Subsection" id="id1eace216-8329-4660-be04-aad9662c29c4__idfcc564cb-78c1-48b5-a372-a999723f3295"><h2 class="title Subheading sectiontitle">HDL code</h2><pre class="pre codeblock"><code>entity for_model is
end for_model;

architecture a of for_model is
  attribute foreign of a : architecture is "initForeign for_model.sl";
begin
end a;

library ieee;
use ieee.std_logic_1164.all;

entity top is
end top;

architecture a of top is

  signal s1 : std_logic := '0';

  component for_model is
  end component;

  for all : for_model use entity work.for_model(a);

begin
  i1 : for_model;
end a;</code></pre></div>
<div class="section Subsection" id="id1eace216-8329-4660-be04-aad9662c29c4__id850e2762-2ae8-4a82-af55-dd4039f68fb2"><h2 class="title Subheading sectiontitle">Simulation output</h2><pre class="pre codeblock"><code>% vsim -c top
Reading .../modeltech/tcl/vsim/pref.tcl 

# 5.4b

# vsim -c top
# Loading .../modeltech/sunos5/../std.standard
# Loading .../modeltech/sunos5/../ieee.std_logic_1164(body)
# Loading work.top(a)
# Loading work.for_model(a)
# Loading ./for_model.sl
#  Region top : Architecture
#    Region region_under_parent_post_elab : Foreign
#    Region i1 : Architecture
#      Region reg_under_for_arch_post_elab : Foreign
#      Region region_under_foreign_arch : Foreign
#    Region region_under_parent : Foreign
#  Region standard : Package
#  Region std_logic_1164 : Package
VSIM 1&gt; run 5
VSIM 2&gt; quit</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_FliFunctionDefinitions_id33771d04.html" title="This chapter describes the FLI functions in detail, explaining their purpose, syntax, and usage.">FLI Function Definitions</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_MtiFree_id3bc85db6.html#id3bc85db6-2623-4375-9be4-1ca9a1fdf76e__" title="Frees simulator-managed memory.">mti_Free()</a></div>
<div><a class="link" href="../topics/Command_MtiVsimfree_id7390869b.html#id7390869b-5e7c-410d-bdaa-025b0b0dae95__" title="Frees simulator-allocated memory.">mti_VsimFree()</a></div>
<div><a class="link" href="../topics/Command_MtiNextregion_id159314df.html#id159314df-f24a-4b34-b684-1baa2dacd364__" title="Gets the next region at the same level as a region.">mti_NextRegion()</a></div>
<div><a class="link" href="../topics/Command_MtiGetsignalsubelements_id1c9db5a2.html#id1c9db5a2-fff0-497f-b8bf-50ed5a09c6dc__" title="Gets the subelements of a composite signal.">mti_GetSignalSubelements()</a></div>
<div><a class="link" href="../topics/Command_MtiTicklength_id7a711375.html#id7a711375-2ca8-42eb-b60f-e7af9c58a751__" title="Gets the length of a type.">mti_TickLength()</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "fli"
                DocTitle = "Foreign Language Interface Manual"
                PageTitle = "mti_CreateRegion()"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MtiCreateregion_id1eace216.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Foreign Language Interface Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>