<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="mti_CreateEnumType()" />
<meta name="abstract" content="Creates an enumeration type." />
<meta name="description" content="Creates an enumeration type." />
<meta name="DC.subject" content="mti_CreateEnumType()" />
<meta name="keywords" content="mti_CreateEnumType()" />
<meta name="prodname" content="Foreign Language Interface Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® DE/SE and Questa® SIM" />
<meta name="SourceHandle" content="fli" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Foreign Language Interface Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id88683bfb-7efb-42af-9236-02f328d15039" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>mti_CreateEnumType()</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="mti_CreateEnumType()" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="syn-arg" id="id88683bfb-7efb-42af-9236-02f328d15039">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">mti_CreateEnumType()</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Creates
an enumeration type.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Syntax</h2><div class="section UsageSet"><p class="lines UsageLine">type_id = mti_CreateEnumType( size, count, literals )</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table ArgumentTable" frame="void" border="0" rules="none"><colgroup><col style="width:1.815in" /><col style="width:1.863in" /><col style="width:2.821in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e159"><p class="p">Name</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e170"><p class="p">Type</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e173"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e159 "><p class="p">size</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e170 "><p class="p">mtiInt32T</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e173 "><p class="p">The number of bytes to
be used to store the values of the new enumeration type; if the
count parameter is greater than 256 then size must be 4; otherwise
size should be 1</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e159 "><p class="p">count</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e170 "><p class="p">mtiInt32T</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e173 "><p class="p">The number of literals/values
in the new enumeration type</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e159 "><p class="p">literals</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e170 "><p class="p">char **</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e173 "><p class="p">An array of strings that
define the enumeration literals for the new enumeration type</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id88683bfb-7efb-42af-9236-02f328d15039__id277f1cdd-9460-4098-b041-75b77fb04909" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:1.382in" /><col style="width:1.430in" /><col style="width:2.388in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e216"><p class="p">Name</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e219"><p class="p">Type</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d25842e222"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e216 "><p class="p">type_id</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e219 "><p class="p">mtiTypeIdT</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d25842e222 "><p class="p">A handle to the new enumeration
type</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">mti_CreateEnumType() creates a
new type ID that describes a VHDL enumeration type. The new type
consists of the specified enumeration literals and its values are
of the specified size. The count parameter indicates the number
of strings in the literals parameter. The left-most value of the
enumeration type is 0 and is associated with the first literal string,
the next value is 1 and is associated with the next literal string,
and so on.</p>
<p class="p">If there are
more than 256 values in the enumeration type, then you must use
4 bytes to store the values; otherwise use 1 byte.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id88683bfb-7efb-42af-9236-02f328d15039__idd15aa3ca-194e-4b72-8ab5-8a11e4b03451"><h2 class="title Subheading sectiontitle">FLI code</h2><pre class="pre codeblock"><code><span class="ph FontProperty P9">#include &lt;stdlib.h&gt;
#include &lt;mti.h&gt;
typedef enum {
  SIGVAL_0,
  SIGVAL_1,
  SIGVAL_X
} mySigType;
char *enum_lits[3] = { "0", "1", "X" };
typedef struct {
  mtiSignalIdT sigid1;
  mtiSignalIdT sigid2;
  mtiSignalIdT sigid3;
  mtiDriverIdT drvid1;
  mtiDriverIdT drvid2;
  mtiDriverIdT drvid3;
} instanceInfoT;
/* This function inverts mySig1 every 5 ns.
*/
void driveSignal1( void * param )
{
  char          * region_name;
  instanceInfoT * inst = (instanceInfoT*)param;
  mtiInt32T       sigval;
  sigval = mti_GetSignalValue( inst-&gt;sigid1
);
  switch ( sigval ) {
   case SIGVAL_0:
    mti_ScheduleDriver( inst-&gt;drvid1, SIGVAL_1,
5, MTI_INERTIAL );
    break;
   case SIGVAL_1:
    mti_ScheduleDriver( inst-&gt;drvid1, SIGVAL_0,
5, MTI_INERTIAL );
    break;
   case SIGVAL_X:
    region_name = mti_GetRegionFullName(mti_GetSignalRegion(inst-&gt;sigid1));
    mti_PrintFormatted( "Time [%d,%d] delta
%d: Signal %s/%s is UNKNOWN\n",
                       mti_NowUpper(), mti_Now(),
mti_Delta(),
                       region_name, mti_GetSignalName(
inst-&gt;sigid1 ) );
    mti_VsimFree( region_name );
    break;
   default:
    region_name = mti_GetRegionFullName(mti_GetSignalRegion(inst-&gt;sigid1));
    mti_PrintFormatted( "Time [%d,%d] delta
%d: "
                       "Unexpected value
%d on signal %s/%s\n",
                       mti_NowUpper(), mti_Now(),
mti_Delta(),
                       sigval, region_name,
                       mti_GetSignalName(
inst-&gt;sigid1 ) );
    mti_VsimFree( region_name );
    break;
  }
}
/* This function inverts mySig2 every 10
ns. */
void driveSignal2( void * param )
{
  char          * region_name;
  instanceInfoT * inst = (instanceInfoT*)param;
  mtiInt32T       sigval;
  sigval = mti_GetSignalValue( inst-&gt;sigid2
);
  switch ( sigval ) {
   case SIGVAL_0:
    mti_ScheduleDriver( inst-&gt;drvid2, SIGVAL_1,
10, MTI_INERTIAL );
    break;
   case SIGVAL_1:
    mti_ScheduleDriver( inst-&gt;drvid2, SIGVAL_0,
10, MTI_INERTIAL );
    break;
   case SIGVAL_X:
    region_name = mti_GetRegionFullName(mti_GetSignalRegion(inst-&gt;sigid2));
    mti_PrintFormatted( "Time [%d,%d] delta
%d: Signal %s/%s is UNKNOWN\n",
                       mti_NowUpper(), mti_Now(),
mti_Delta(),
                       region_name, mti_GetSignalName(
inst-&gt;sigid2 ) );
    mti_VsimFree( region_name );
    break;
   default:
    region_name = mti_GetRegionFullName(mti_GetSignalRegion(inst-&gt;sigid2));
    mti_PrintFormatted( "Time [%d,%d] delta
%d: "
                       "Unexpected value
%d on signal %s/%s\n",
                       mti_NowUpper(), mti_Now(),
mti_Delta(),
                       sigval, region_name,
                       mti_GetSignalName(
inst-&gt;sigid2 ) );
    mti_VsimFree( region_name );
    break;
  }
}
/* This function drives mySig3 with the values
of mySig1 and mySig2. */
void driveSignal3( void * param )
{
  instanceInfoT * inst = (instanceInfoT*)param;
  mtiInt32T       sigval1;
  mtiInt32T       sigval2;
  sigval1 = mti_GetSignalValue( inst-&gt;sigid1
);
  sigval2 = mti_GetSignalValue( inst-&gt;sigid2
);
  if ( sigval1 == sigval2 ) {
    mti_ScheduleDriver( inst-&gt;drvid3, sigval1,
0, MTI_INERTIAL );
  } else {
    mti_ScheduleDriver( inst-&gt;drvid3, SIGVAL_X,
0, MTI_INERTIAL );
  }
}
void cleanupCallback( void * param )
{
  mti_PrintMessage( "Cleaning up...\n" );
  free( param );
}
void initForeign(
  mtiRegionIdT       region,   /* The ID
of the region in which this     */
                               /* foreign
architecture is instantiated.  */
  char              *param,    /* The last
part of the string in the     */
                               /* foreign
attribute.                     */
  mtiInterfaceListT *generics, /* A list
of generics for the foreign model.*/
  mtiInterfaceListT *ports     /* A list
of ports for the foreign model.   */
)
{
  instanceInfoT * inst;
  mtiProcessIdT   procid;
  mtiTypeIdT      enum_type;
  inst         = (instanceInfoT *)malloc(
sizeof(instanceInfoT) );
  enum_type    = mti_CreateEnumType( 1, 3,
enum_lits );
  inst-&gt;sigid1 = mti_CreateSignal( "mySig1",
region, enum_type );
  inst-&gt;drvid1 = mti_CreateDriver( inst-&gt;sigid1
);
  procid       = mti_CreateProcess( "mySig1Driver",
driveSignal1, inst );
  mti_Sensitize( procid, inst-&gt;sigid1, MTI_EVENT
);
  mti_ScheduleWakeup( procid, 0 );
  mti_SetDriverOwner( inst-&gt;drvid1, procid
);
  inst-&gt;sigid2 = mti_CreateSignal( "mySig2",
region, enum_type );
  inst-&gt;drvid2 = mti_CreateDriver( inst-&gt;sigid2
);
  procid       = mti_CreateProcess( "mySig2Driver",
driveSignal2, inst );
  mti_Sensitize( procid, inst-&gt;sigid2, MTI_EVENT
);
  mti_ScheduleWakeup( procid, 0 );
  mti_SetDriverOwner( inst-&gt;drvid2, procid
);
  inst-&gt;sigid3 = mti_CreateSignal( "mySig3",
region, enum_type );
  inst-&gt;drvid3 = mti_CreateDriver( inst-&gt;sigid3
);
  procid       = mti_CreateProcess( "mySig3Driver",
driveSignal3, inst );
  mti_Sensitize( procid, inst-&gt;sigid1, MTI_EVENT
);
  mti_Sensitize( procid, inst-&gt;sigid2, MTI_EVENT
);
  mti_ScheduleWakeup( procid, 0 );
  mti_SetDriverOwner( inst-&gt;drvid3, procid
);
  mti_AddQuitCB( cleanupCallback, inst );
  mti_AddRestartCB( cleanupCallback, inst
);
}</span> </code></pre></div>
<div class="section Subsection" id="id88683bfb-7efb-42af-9236-02f328d15039__id2fb2a8f6-acc3-4500-af15-f98b95311a62"><h2 class="title Subheading sectiontitle">HDL code</h2><pre class="pre codeblock"><code>entity top is
end top;

architecture a of top is
  signal s1 : bit := '0';
begin
  s1 &lt;= not s1 after 5 ns;
end a;</code></pre></div>
<div class="section Subsection" id="id88683bfb-7efb-42af-9236-02f328d15039__idfd88f4f4-90e1-4c05-8f80-14d2614a7b8d"><h2 class="title Subheading sectiontitle">Simulation output</h2><pre class="pre codeblock"><code>% vsim -c top -foreign "initForeign for_model.sl"
Reading .../modeltech/tcl/vsim/pref.tcl 

# 5.4b

# vsim -foreign {initForeign for_model.sl} -c top 
# Loading .../modeltech/sunos5/../std.standard
# Loading work.top(a)
# Loading ./for_model.sl
VSIM 1&gt; examine mySig1 mySig2 mySig3
# 0 0 0
VSIM 2&gt; run 5
VSIM 3&gt; examine mySig1 mySig2 mySig3
# 1 0 X
VSIM 4&gt; run 5
VSIM 5&gt; examine mySig1 mySig2 mySig3
# 0 1 X
VSIM 6&gt; run 5
VSIM 7&gt; examine mySig1 mySig2 mySig3
# 1 1 1
VSIM 8&gt; quit
# Cleaning up...</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_FliFunctionDefinitions_id33771d04.html" title="This chapter describes the FLI functions in detail, explaining their purpose, syntax, and usage.">FLI Function Definitions</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_MtiSchedulewakeup_idff6aa11a.html#idff6aa11a-2e52-4e0d-9a79-2ea839aeb37d__" title="Schedules a VHDL process to wake up at a specific time.">mti_ScheduleWakeup()</a></div>
<div><a class="link" href="../topics/Command_MtiSensitize_id9688a67c.html#id9688a67c-25a1-4711-80f5-0833a0fa6115__" title="Sensitizes a VHDL process to a VHDL or SystemC signal.">mti_Sensitize()</a></div>
<div><a class="link" href="../topics/Command_MtiFree_id3bc85db6.html#id3bc85db6-2623-4375-9be4-1ca9a1fdf76e__" title="Frees simulator-managed memory.">mti_Free()</a></div>
<div><a class="link" href="../topics/Command_MtiVsimfree_id7390869b.html#id7390869b-5e7c-410d-bdaa-025b0b0dae95__" title="Frees simulator-allocated memory.">mti_VsimFree()</a></div>
<div><a class="link" href="../topics/Command_MtiNextregion_id159314df.html#id159314df-f24a-4b34-b684-1baa2dacd364__" title="Gets the next region at the same level as a region.">mti_NextRegion()</a></div>
<div><a class="link" href="../topics/Command_MtiGetsignalsubelements_id1c9db5a2.html#id1c9db5a2-fff0-497f-b8bf-50ed5a09c6dc__" title="Gets the subelements of a composite signal.">mti_GetSignalSubelements()</a></div>
<div><a class="link" href="../topics/Command_MtiTicklength_id7a711375.html#id7a711375-2ca8-42eb-b60f-e7af9c58a751__" title="Gets the length of a type.">mti_TickLength()</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "fli"
                DocTitle = "Foreign Language Interface Manual"
                PageTitle = "mti_CreateEnumType()"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MtiCreateenumtype_id88683bfb.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Foreign Language Interface Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>