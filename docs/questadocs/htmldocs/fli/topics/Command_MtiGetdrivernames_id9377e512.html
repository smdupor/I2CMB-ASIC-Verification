<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="mti_GetDriverNames()" />
<meta name="abstract" content="Gets the names of all drivers on a VHDL signal." />
<meta name="description" content="Gets the names of all drivers on a VHDL signal." />
<meta name="DC.subject" content="mti_GetDriverNames()" />
<meta name="keywords" content="mti_GetDriverNames()" />
<meta name="prodname" content="Foreign Language Interface Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® DE/SE and Questa® SIM" />
<meta name="SourceHandle" content="fli" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Foreign Language Interface Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id9377e512-e3fd-47c7-89b2-892c9c005e8b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>mti_GetDriverNames()</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="mti_GetDriverNames()" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="syn-arg" id="id9377e512-e3fd-47c7-89b2-892c9c005e8b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">mti_GetDriverNames()</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Gets the
names of all drivers on a VHDL signal.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Syntax</h2><div class="section UsageSet"><p class="lines UsageLine">driver_names = mti_GetDriverNames( signal_id, length )</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table ArgumentTable" frame="void" border="0" rules="none"><colgroup><col style="width:1.815in" /><col style="width:1.863in" /><col style="width:2.821in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e159"><p class="p">Name</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e162"><p class="p">Type</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e165"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e159 "><p class="p">signal_id</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e162 "><p class="p">mtiSignalIdT</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e165 "><p class="p">A handle to a VHDL signal</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e159 "><p class="p">length</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e162 "><p class="p">mtiInt32T *</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e165 "><p class="p">Returns the number of
names in the returned name array</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id9377e512-e3fd-47c7-89b2-892c9c005e8b__id00df519b-0111-4e18-bb64-1e7224310c33" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:1.382in" /><col style="width:1.430in" /><col style="width:2.388in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e198"><p class="p">Name</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e201"><p class="p">Type</p>
</th>
<th class="entry nocellnorowborder default-entry" style="vertical-align:top;" id="d2250e204"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e198 "><p class="p">driver_names</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e201 "><p class="p">char **</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d2250e204 "><p class="p">A pointer to a NULL-terminated
array of the names of the signal's drivers</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">mti_GetDriverNames()
returns a NULL-terminated array of the names of the drivers that are
driving values onto the specified signal. The simulator returns
the number of names in the array in the length parameter. If there
is an error, or if the signal is in a nodebug region, or if the type
of the signal is not a scalar enumeration type, then the simulator
sets the length parameter to zero and returns a NULL. You must not
free the returned array and character strings. The driver names
are valid only until the next call to mti_GetDriverNames().</p>
<p class="p">You can use
mti_GetDriverNames() in conjunction with mti_GetDriverValues() because the
arrays returned from each function are in the same order; therefore,
each driver name can be associated with a value.</p>
<p class="p">mti_GetDriverNames() returns the
same information as the driver name part of the output of the drivers
command.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id9377e512-e3fd-47c7-89b2-892c9c005e8b__id3f653c41-1d05-416b-b05a-e8f04bf9d917"><h2 class="title Subheading sectiontitle">FLI code</h2><pre class="pre codeblock"><code><span class="ph FontProperty P9">#include &lt;stdlib.h&gt;
#include &lt;mti.h&gt;

typedef enum {
  STD_LOGIC_U,
  STD_LOGIC_X,
  STD_LOGIC_0,
  STD_LOGIC_1,
  STD_LOGIC_Z,
  STD_LOGIC_W,
  STD_LOGIC_L,
  STD_LOGIC_H,
  STD_LOGIC_D
} standardLogicType;

typedef struct {
  char * signame;
  mtiProcessIdT procid;
  mtiSignalIdT  sigid;
} instanceInfoT;

char * convertStdLogicValue( mtiInt32T sigval )
{
  char * retval;

  switch ( sigval ) {
    case STD_LOGIC_U:  retval = "'U'";  break;
    case STD_LOGIC_X:  retval = "'X'";  break;
    case STD_LOGIC_0:  retval = "'0'";  break;
    case STD_LOGIC_1:  retval = "'1'";  break;
    case STD_LOGIC_Z:  retval = "'Z'";  break;
    case STD_LOGIC_W:  retval = "'W'";  break;
    case STD_LOGIC_L:  retval = "'L'";  break;
    case STD_LOGIC_H:  retval = "'H'";  break;
    case STD_LOGIC_D:  retval = "'-'";  break;
    default:  retval = "?";  break;
  }
  return retval;
}

void checkSignal( void * param )
{
  char         ** drv_names;
  char          * drv_values;
  instanceInfoT * inst = (instanceInfoT*)param;
  int             i; 
  mtiInt32T       names_length;
  mtiInt32T       sigval;
  mtiInt32T       values_length;

  sigval = mti_GetSignalValue( inst-&gt;sigid );
  mti_PrintFormatted( "Time [%d,%d] delta %d:\n Signal %s is %s\n",
                     mti_NowUpper(), mti_Now(), mti_Delta(),
                     inst-&gt;signame, convertStdLogicValue( sigval ) );

  mti_PrintFormatted( " Drivers:\n" );
  drv_names = mti_GetDriverNames( inst-&gt;sigid, &amp;names_length );
  drv_values = mti_GetDriverValues( inst-&gt;sigid, &amp;values_length );
  for ( i = 0; i &lt; names_length; i++ ) {
      mti_PrintFormatted( "  %s : %s\n",
                         convertStdLogicValue(drv_values[i]),
                         drv_names[i] );
  }

  mti_ScheduleWakeup( inst-&gt;procid, 5 );
}

void cleanupCallback( void * param )
{
  mti_PrintMessage( "Cleaning up...\n" );
  free( param );
}

void initForeign(
  mtiRegionIdT       region,   /* The ID of the region in which this     */
                               /* foreign architecture is instantiated.  */
  char              *param,    /* The last part of the string in the     */
                               /* foreign attribute.                     */
  mtiInterfaceListT *generics, /* A list of generics for the foreign model.*/
  mtiInterfaceListT *ports     /* A list of ports for the foreign model.   */
)
{
  instanceInfoT * inst;

  inst            = (instanceInfoT *)malloc( sizeof(instanceInfoT) );
  inst-&gt;sigid     = mti_FindSignal( "/top/s1" );
  inst-&gt;signame   = mti_GetSignalName( inst-&gt;sigid );
  inst-&gt;procid    = mti_CreateProcess( "checkSignal", checkSignal, inst );
  mti_ScheduleWakeup( inst-&gt;procid, 1 );
  mti_AddQuitCB( cleanupCallback, inst );
  mti_AddRestartCB( cleanupCallback, inst );
}</span></code></pre></div>
<div class="section Subsection" id="id9377e512-e3fd-47c7-89b2-892c9c005e8b__idd895ea50-a4fe-4d49-b6f6-56a140085d06"><h2 class="title Subheading sectiontitle">HDL code</h2><pre class="pre codeblock"><code>library ieee;
use ieee.std_logic_1164.all;

entity lower is
  port ( pt : INOUT std_logic := '0' );
end lower;

architecture a of lower is
begin
  p0 : process
    begin
      pt &lt;= '1';
      wait for 5 ns;
      pt &lt;= 'L';
      wait for 5 ns;
      pt &lt;= 'W';
      wait for 5 ns;
    end process;
end a;

library ieee;
use ieee.std_logic_1164.all;

entity top is
end top;

architecture a of top is

  signal s1 : std_logic := '0';

  component lower
    port ( pt : INOUT std_logic );
  end component;

begin

  p1 : process
    begin
      s1 &lt;= 'H';
      wait for 5 ns;
      s1 &lt;= 'L';
      wait for 5 ns;
      s1 &lt;= 'X';
      wait for 5 ns;
    end process;

  p2 : process
    begin
      s1 &lt;= '1';
      wait for 5 ns;
      s1 &lt;= '0';
      wait for 5 ns;
      s1 &lt;= 'W';
      wait for 5 ns;
    end process;

  inst1 : lower port map ( s1 );

end a;</code></pre></div>
<div class="section Subsection" id="id9377e512-e3fd-47c7-89b2-892c9c005e8b__id32174129-5303-40e7-8fa3-9767465ba747"><h2 class="title Subheading sectiontitle">Simulation output</h2><pre class="pre codeblock"><code>% vsim -c top -foreign "initForeign for_model.sl"
Reading .../modeltech/tcl/vsim/pref.tcl 

# 5.4b

# vsim -foreign {initForeign for_model.sl} -c top 
# Loading .../modeltech/sunos5/../std.standard
# Loading .../modeltech/sunos5/../ieee.std_logic_1164(body)
# Loading work.top(a)
# Loading work.lower(a)
# Loading ./for_model.sl
VSIM 1&gt; run 1
# Time [0,1] delta 0:
#  Signal s1 is '1'
#  Drivers:
#   '1' : /top/inst1/p0
#   '1' : /top/p2
#   'H' : /top/p1
VSIM 2&gt; drivers /top/s1
# Drivers for /top/s1:
#  1 : Signal /top/s1
#    1 : Driver /top/inst1/p0
#    1 : Driver /top/p2
#    H : Driver /top/p1
# 
VSIM 3&gt; run 5
# Time [0,6] delta 0:
#  Signal s1 is '0'
#  Drivers:
#   'L' : /top/inst1/p0
#   '0' : /top/p2
#   'L' : /top/p1
VSIM 4&gt; drivers /top/s1
# Drivers for /top/s1:
#  0 : Signal /top/s1
#    L : Driver /top/inst1/p0
#    0 : Driver /top/p2
#    L : Driver /top/p1
# 
VSIM 5&gt; run 5
# Time [0,11] delta 0:
#  Signal s1 is 'X'
#  Drivers:
#   'W' : /top/inst1/p0
#   'W' : /top/p2
#   'X' : /top/p1
VSIM 6&gt; drivers /top/s1
# Drivers for /top/s1:
#  X : Signal /top/s1
#    W : Driver /top/inst1/p0
#    W : Driver /top/p2
#    X : Driver /top/p1
# 
VSIM 7&gt; quit
# Cleaning up...</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_FliFunctionDefinitions_id33771d04.html" title="This chapter describes the FLI functions in detail, explaining their purpose, syntax, and usage.">FLI Function Definitions</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_MtiVsimfree_id7390869b.html#id7390869b-5e7c-410d-bdaa-025b0b0dae95__" title="Frees simulator-allocated memory.">mti_VsimFree()</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "fli"
                DocTitle = "Foreign Language Interface Manual"
                PageTitle = "mti_GetDriverNames()"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MtiGetdrivernames_id9377e512.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Foreign Language Interface Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>