<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Pragma Usage and Nesting" />
<meta name="abstract" content="Using coverage pragmas in long source files or included files during development can result in nested pragmas, which can lead to unintended or confusing coverage behavior. Synthesis pragmas can also effect coverage." />
<meta name="description" content="Using coverage pragmas in long source files or included files during development can result in nested pragmas, which can lead to unintended or confusing coverage behavior. Synthesis pragmas can also effect coverage." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idc6ccf9ed-d59d-4e39-8e1e-21e03b3efc73" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Pragma Usage and Nesting</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Pragma Usage and Nesting" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idc6ccf9ed-d59d-4e39-8e1e-21e03b3efc73">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Pragma
Usage and Nesting</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Using coverage
pragmas in long source files or included files during development
can result in nested pragmas, which can lead to unintended or confusing
coverage behavior. Synthesis pragmas can also effect coverage. </span>
</div>
<p class="p">The following scenarios
describe coverage behavior that <span class="ph fmvar:ProductName">Questa SIM</span> exhibits
as it encounters nested pragmas. In all cases, <span class="ph fmvar:ProductName">Questa SIM</span> generates notes to inform you
when coverage is enabled in the sourced code. You can disable these
notes with the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> argument
“‑suppress 2071”.</p>
<p class="p">Consider how code coverage is enabled in the
following examples of nested pragmas.</p>
<div class="fig fignone ExampleTitle" id="idc6ccf9ed-d59d-4e39-8e1e-21e03b3efc73__id6f7e9117-4ca1-4fe3-a67a-3fbb9d6f41d4"><span class="figcap"><span class="fig--title-label">Example 1. </span>When
Code Coverage Is Turned On</span><pre class="pre codeblock leveled"><code><span class="CodeLine">   1   </span>//coverage off   --&gt; LINE 1 
<span class="CodeLine">   2   </span>/* Coverage is turned OFF in this region */
<span class="CodeLine">   3   </span>       //coverage off
<span class="CodeLine">   4   </span>       /* Coverage is still turned OFF in this region */
<span class="CodeLine">   5   </span>       //coverage on  
<span class="CodeLine">   6   </span>       /* Third pragma, Coverage turned ON after this region */
<span class="CodeLine">   7   </span>//coverage on   --&gt; LINE 7
<span class="CodeLine">   8   </span>/* Fourth pragma, Coverage is already turned ON in this region */
</code></pre></div>
<p class="p">You might assume that coverage
collection is enabled by the fourth pragma (on line 7), but it is the
third pragma (on line 5) which enables the code coverage collection;
and coverage collection remains on for the rest of the code. The
fourth pragma is ignored and a note appears in the Transcript window
showing the line responsible for enabling the coverage: </p>
<pre class="pre codeblock leveled"><code># ** Note: src/test.v(5) : enabling code coverage.</code></pre><p class="p">No warning or note appears
for the fourth pragma, since coverage is already enabled.</p>
<div class="fig fignone ExampleTitle" id="idc6ccf9ed-d59d-4e39-8e1e-21e03b3efc73__idd433e71c-45e0-48e2-9778-9a93bc17ff15"><span class="figcap"><span class="fig--title-label">Example 2. </span>Nesting
and Code Coverage Types</span><pre class="pre codeblock leveled"><code><span class="CodeLine">   1   </span>//coverage off --&gt; LINE 1 
<span class="CodeLine">   2   </span>/* Coverage is turned OFF in this region */
<span class="CodeLine">   3   </span>       //coverage off
<span class="CodeLine">   4   </span>       /* Coverage is still turned OFF in this region */
<span class="CodeLine">   5   </span>       //coverage on bce
<span class="CodeLine">   6   </span>       /* Third pragma, Coverage turned ON after this region */
<span class="CodeLine">   7   </span>//coverage on --&gt; LINE 7
<span class="CodeLine">   8   </span>/* Fourth pragma, Coverage is already turned ON in this region */
</code></pre></div>
<p class="p">Case 2a — Code compiled with ‘+cover’:</p>
<p class="p">If the code is compiled with all coverage
enabled, the pragma on line 5 enables only branch, condition and
expression; coverage for all types is enabled at line 7. The following
notes are issued:</p>
<pre class="pre codeblock leveled"><code>** Note: src/test.v(5) : enabling branch , condition and expression coverage.</code></pre><pre class="pre codeblock leveled"><code>** Note: src/test.v(7) : enabling code coverage.</code></pre><p class="p">Case 2b — Code compiled with ‘+cover=bcs’:</p>
<p class="p">If, however, the code compiled enables only
branch, condition and statement coverage, then line 5 (//coverage
on bce) enables only branch and condition coverage until line 7,
where all coverage is enabled. The following notes are issued:</p>
<pre class="pre codeblock leveled"><code>** Note: src/test.v(5) : enabling branch and condition coverage.</code></pre><pre class="pre codeblock leveled"><code>** Note: src/test.v(7) : enabling code coverage.</code></pre><p class="p">The rules governing how coverage is enabled/disabled
with pragmas apply to any pragmas which are synonymous with 'coverage
on' and 'coverage off', including:</p>
<pre class="pre codeblock"><code>// [pragma | synopsys | mentor | synthesis | vcs] translate_on
// [pragma | synopsys | mentor | synthesis | vcs] translate_off
// [pragma | synopsys | mentor | synthesis | vcs] synthesis_on
// [pragma | synopsys | mentor | synthesis | vcs] synthesis_off
// [pragma | synopsys | mentor | synthesis | vcs] override_off
// [pragma | synopsys | mentor | synthesis | vcs] override_on</code></pre><p class="p">These pragmas, however, do not operate on individual
coverage types (b,c,e,s,t, or f). They enable/disable all types
of code coverage as a whole.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ExcludeIndividualMetricsPragmas_id23a2dacb.html" title="Questa SIM supports the use of source code pragmas to selectively turn coverage off and on for individual code coverage metrics.">Exclude Individual Metrics with Pragmas</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Pragma Usage and Nesting"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_PragmaUsageNesting_idc6ccf9ed.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>