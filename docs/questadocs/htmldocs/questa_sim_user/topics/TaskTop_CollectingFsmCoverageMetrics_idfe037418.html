<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Collecting FSM Coverage Metrics" />
<meta name="abstract" content="You can enable the recognition and collection of coverage metrics for FSMs in your design through the use of command arguments in your simulation flow." />
<meta name="description" content="You can enable the recognition and collection of coverage metrics for FSMs in your design through the use of command arguments in your simulation flow." />
<meta name="DC.subject" content="Finite State Machines, enable recognition, enable coverage, coverage, enable FSMs" />
<meta name="keywords" content="Finite State Machines, enable recognition, enable coverage, coverage, enable FSMs" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="QuestaÂ® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfe037418-609a-421a-9635-ac4790e839dc" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Collecting FSM Coverage Metrics</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Collecting FSM Coverage Metrics" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idfe037418-609a-421a-9635-ac4790e839dc">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Collecting FSM Coverage Metrics</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">You can enable
the recognition and collection of coverage metrics for FSMs in your
design through the use of command arguments in your simulation flow.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idfe037418-609a-421a-9635-ac4790e839dc__id2e9b4aa1-8eea-441b-9aa6-625a8010b7a1"><span class="ph cmd">Evaluate
the commands and switches in <a class="xref fm:Table" href="#idfe037418-609a-421a-9635-ac4790e839dc__id4de58e09-8ff1-4c6c-9769-92caa9507148">Table 1</a> to determine which are required for
your flow.</span><div class="itemgroup info StepInfo">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="idfe037418-609a-421a-9635-ac4790e839dc__id4de58e09-8ff1-4c6c-9769-92caa9507148" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Commands Used for FSM Coverage Collection</span></caption><colgroup><col style="width:3.049in" /><col style="width:2.073in" /><col style="width:1.054in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d18764e179"><p class="p">Task</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d18764e182"><p class="p">Command/Switch</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d18764e185"><p class="p">Required</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Enable the collection
of FSM coverage metrics for individual design units.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p"><a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vlog', 'questa_sim_ref'); return false;">vcom or vlog</a> with +cover=f</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Enable the collection
of FSM coverage metrics for the complete design.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p"><a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a> with +cover=f<a class="xref fm:Footnote" href="#idfe037418-609a-421a-9635-ac4790e839dc__id9324604c-de59-4787-8ec5-1db7fe94b76b"><sup>1</sup></a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">Yes<a class="xref fm:Footnote" href="#idfe037418-609a-421a-9635-ac4790e839dc__id1d5e666d-451b-491c-8362-91c54128a035"><sup>2</sup></a></p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Produce a detailed report
in the transcript for each recognized FSM.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p">vcom, vlog, or vopt with -fsmverbose</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">No</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Enable the reporting
and collection of coverage metrics for <a class="xref fm:HeadingOnly" href="Concept_FsmMultiStateTransitions_id768abc59.html#id768abc59-6431-4367-99df-aeaa77996f63__Concept_FsmMultiStateTransitions_id768abc59.xml#id768abc59-6431-4367-99df-aeaa77996f63" title="A multi-state transition is also known as a state sequence.">FSM Multi-State Transitions</a> </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p">vcom, vlog, or vopt with -fsmmultitrans</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">No</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Enable the reporting and collection of coverage
metrics for same state transitions.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p">vcom, vlog, or vopt with âfsmsamestatetrans</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">No</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e179 "><p class="p">Collect coverage metrics
for the design under simulation.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e182 "><p class="p"><a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> with
âcoverage</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d18764e185 "><p class="p">Yes</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></li>
<li class="li step stepexpand" id="idfe037418-609a-421a-9635-ac4790e839dc__id28fe8757-7dfc-4f4b-b318-563cc5d6160c"><span class="ph cmd">Compile your design units
with vcom or vlog. </span><div class="itemgroup info StepInfo"><p class="p">Include any switches from <a class="xref fm:Table" href="#idfe037418-609a-421a-9635-ac4790e839dc__id4de58e09-8ff1-4c6c-9769-92caa9507148">Table 1</a> in addition to any other command arguments
required for your design and environment.</p>
</div></li>
<li class="li step stepexpand" id="idfe037418-609a-421a-9635-ac4790e839dc__ide3504e1f-2492-4fc5-b8ab-057f0e6f8b0c"><span class="ph cmd">Optimize your design with
vopt.</span><div class="itemgroup info StepInfo"><p class="p">Include any switches from <a class="xref fm:Table" href="#idfe037418-609a-421a-9635-ac4790e839dc__id4de58e09-8ff1-4c6c-9769-92caa9507148">Table 1</a> in addition to any other command arguments
required for your design and environment.</p>
</div></li>
<li class="li step stepexpand" id="idfe037418-609a-421a-9635-ac4790e839dc__idea7f6907-129f-4c4e-a366-dc18b00243bc"><span class="ph cmd">Load your simulation using
the -coverage switch with the vsim command. The âcoverage switch
is required.</span></li>
<li class="li step stepexpand" id="idfe037418-609a-421a-9635-ac4790e839dc__ideae09dc8-6648-4e33-81a4-60fd96f3297d"><span class="ph cmd">Run your simulation with the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'run', 'questa_sim_ref'); return false;">run</a> command.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><ul class="ul"><li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__id68f41c0f-0dec-41e5-8c88-d7dd14df7aa7"><p class="p">The vcom and vlog and vopt commands
produce messages related to any recognized FSMs. Refer to the sections
â<a class="xref fm:HeadingOnly" href="FileRef_RecognizedFsmNote_id470029b9.html#id470029b9-8d0d-4b28-b893-ec2b7cf2a39e__FileRef_RecognizedFsmNote_id470029b9.xml#id470029b9-8d0d-4b28-b893-ec2b7cf2a39e" title="The vcom/vlog/vopt commands write a note to the transcript whenever they recognize an FSM.">Recognized FSM Note</a>â and â<a class="xref fm:HeadingOnly" href="FileRef_FsmRecognitionInfoNote_id8e9313b1.html#id8e9313b1-8231-426b-bbf6-b471ca8a35d3__FileRef_FsmRecognitionInfoNote_id8e9313b1.xml#id8e9313b1-8231-426b-bbf6-b471ca8a35d3" title="The vcom/vlog/vopt commands write a note to the transcript for every recognized FSM when you use the -fsmverbose switch.">FSM Recognition Info Note</a>â for more information.</p>
</li>
<li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__id42ea5b95-fa05-4d00-a6d8-7eed80151335"><p class="p">The vsim command loads the simulation
and changes the GUI layout to Coverage mode. </p>
</li>
<li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__id090c9d3b-5d74-4cb2-b00a-86a1baffeb3a"><p class="p">Several of the GUI windows will
contain coverage metrics; refer to the section â<a class="xref fm:HeadingOnly" href="Concept_FsmCoverageMetricsAvailableInGui_id3767b027.html#id3767b027-3c3e-4484-b212-651b01cacbd5__Concept_FsmCoverageMetricsAvailableInGui_id3767b027.xml#id3767b027-3c3e-4484-b212-651b01cacbd5" title="The GUI presents coverage metrics in several windows within the GUI. This section describes the windows and the metrics they display.">FSM Coverage Metrics Available in the GUI</a>â.</p>
</li>
</ul>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><ul class="ul"><li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__idb308e980-111a-47f7-81c7-a7573c28ba5b"><p class="p">Enable FSM coverage on the
complete design.</p>
<p class="lines ApplCommand">vcom a.vhdl b.vhdl<br />
vcom top.vhdl<br />
vopt +cover=f top -o opt_top<br />
vsim -coverage opt_top<br />
run -all</p>
</li>
<li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__idcd4c3890-2bb8-463e-bcdc-84dacaa7f807"><p class="p">Enable coverage for all types
on the complete design.</p>
<p class="lines ApplCommand">vlog *.v<br />
vopt +cover top -o opt_top<br />
vsim -coverage opt_top<br />
run -all</p>
</li>
<li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__id552e5d48-216a-4fa8-bf6b-9f3b80f28340"><p class="p">Enable FSM coverage, including
mutli-state transitions, on the complete design with verbose reporting.</p>
<p class="lines ApplCommand">vcom top.vhdl <br />
vcom a.vhdl b.vhdl<br />
vopt +cover=f -fsmverbose -fsmmultitrans top -o opt_top<br />
vsim -coverage opt_top<br />
run -all</p>
</li>
<li class="li" id="idfe037418-609a-421a-9635-ac4790e839dc__id35290c43-446f-4b62-8e69-003932413b18"><p class="p">Enable FSM coverage only on
selected design units.</p>
<p class="lines ApplCommand">vlog +cover=f a.v b.v<br />
vlog top.v<br />
vopt top -o opt_top<br />
vsim -coverage opt_top<br />
run -all</p>
</li>
</ul>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_FiniteStateMachines_id851e79fb.html" title="A Finite State Machine (FSM) reflects the changes a state-based design has gone through from the start of simulation to the present. Transitions indicate state changes and are described by the conditions required to enable them. Because of the complexity of FSMs, designs containing them can contain a high number of defects. It is important, therefore, to analyze the FSMs in RTL before going to the next stages of synthesis in the design cycle.">Finite State Machines</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Concept_FsmRecognition_id8eb9b323.html#id8eb9b323-3751-40f3-abd1-35ee5c839c86__" title="QuestaÂ SIM recognizes VHDL and Verilog FSMs.">FSM Recognition</a></div>
<div><a class="link" href="../topics/Concept_FsmCoverage_id42eb19f6.html#id42eb19f6-00ef-480c-b3e8-9ec33ec92caa__" title="QuestaÂ SIM recognizes FSMs in your design during the compilation stages prior to simulation. The simulation stage collects coverage metrics about which states and transitions were used while simulating the test bench with the DUT.">FSM Coverage</a></div>
<div><a class="link" href="../topics/MGCChap_CodeCoverage_idbe4a8f76.html#idbe4a8f76-06ce-44bd-9543-6af650ef3903__" title="Code coverage is the only verification metric generated automatically from design source in RTL or gates. While most verification plans require a high level of code coverage, it does not necessarily indicate correctness of your design. Code coverage measures only how often a suite of tests exercises certain aspects of the source.">Code Coverage</a></div>
<div><a class="link" href="../topics/Contain_CodeCoverageInGraphicInterface_idb52def13.html#idb52def13-0423-4f17-953a-086d9f5fb577__" title="When you simulate a design with code coverage enabled, various windows display the coverage data.">Code Coverage in the Graphic Interface</a></div>
<div><a class="link" href="../topics/Contain_FsmCoverageExclusions_id93946cc0.html#id93946cc0-f656-4e6b-a4e1-fe31468f70e1__" title="In QuestaÂ SIM, you can exclude any transition or state of an FSM from the coverage reports, either with the coverage exclude command at the command line, or by pragma.">FSM Coverage Exclusions</a></div></div>
</div></div>
<div class="fn"><a id="idfe037418-609a-421a-9635-ac4790e839dc__id9324604c-de59-4787-8ec5-1db7fe94b76b"><sup>1</sup></a>  You
can also user +cover with no arguments, which enables collection
of all coverage metrics.</div><div class="fn"><a id="idfe037418-609a-421a-9635-ac4790e839dc__id1d5e666d-451b-491c-8362-91c54128a035"><sup>2</sup></a>  You
must specify +cover=f at some point in the procedure with vcom or
vlog<span class="ph"> or vopt</span>.</div></div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter">Â </div><div class="Footer" id="Footer">Â </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "QuestaÂ® SIM User's Manual"
                PageTitle = "Collecting FSM Coverage Metrics"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CollectingFsmCoverageMetrics_idfe037418.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">QuestaÂ® SIM User's ManualÂ Software Version 2020.4<br />Unpublished work. Â©Â Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>