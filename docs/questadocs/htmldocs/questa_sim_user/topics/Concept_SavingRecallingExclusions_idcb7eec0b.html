<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Saving and Recalling Exclusions" />
<meta name="abstract" content="You can specify files and line numbers, or condition and expression FEC truth table rows, to exclude from coverage statistics. You can use vsim’s Tcl command, coverage report, to create a .do file that contains these exclusions." />
<meta name="description" content="You can specify files and line numbers, or condition and expression FEC truth table rows, to exclude from coverage statistics. You can use vsim’s Tcl command, coverage report, to create a .do file that contains these exclusions." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Saving and Recalling Exclusions</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Saving and Recalling Exclusions" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Saving and Recalling Exclusions</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can specify
files and line numbers, or condition and expression FEC truth table
rows, to exclude from coverage statistics. You can use vsim’s Tcl command,
coverage report, to create a <span class="ph filepath">.do</span> file that
contains these exclusions.</span>
</div>
<p class="p">For example:</p>
<p class="lines ApplCommand">coverage report -excluded -file &lt;filename&gt;.do</p>
<p class="p">You can use the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> command
to load this <span class="ph filepath">.do</span> file during a future analysis.
For example:</p>
<p class="lines ApplCommand">vsim -coverage &lt;design_name&gt; -do exclusions.do</p>
<p class="p">The contents of the<span class="ph filepath"> exclusions.do</span> file
will be similar to the following: </p>
<p class="lines ApplCommand leveled">coverage exclude -srcfile xyz.vhd -linerange 12 55 67-90<br />
coverage exclude -srcfile abc.vhd -linerange 3-6 9-14 77<br />
coverage exclude -srcfile pqr.vhd</p>
<p class="p">This excludes lines 12, 55, and 67 to 90 (inclusive)
of file xyz.vhd; lines 3 to 6, 9 to 14, and 77 of <span class="ph filepath">abc.vhd</span>;
and all lines from <span class="ph filepath">pqr.vhd</span>.</p>
<p class="p">This <span class="ph filepath">exclude.do</span> file can
then be used as follows: </p>
<ol class="ol"><li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id329eb82b-49d7-4b7e-a49c-9cd11b7c5384"><p class="p">Compile your design with the <span class="ph FontProperty HeadingLabel">+cover=&lt;</span>argument&gt;
to:</p>
<ul class="ul"><li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id9d883691-50eb-41a9-9d44-fcca6855825f"><p class="p"><span class="ph FontProperty HeadingLabel">vopt</span>,
if using 3-step vopt flow</p>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__idb206fb01-c84e-4d68-abb4-b17556ab785a"><p class="p"><span class="ph FontProperty HeadingLabel">vcom</span> or<span class="ph FontProperty HeadingLabel"> vlog</span>,
if not explicitly running vopt (2-step vopt flow) </p>
</li>
</ul>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id89495ed7-8b62-4ff2-90a4-e00550ba90b6"><p class="p">Load and run your design with:</p>
<p class="lines ApplCommand">vsim -coverage &lt;design_name&gt; -do “do exclude.do; run -all”</p>
</li>
</ol>
<p class="p">To avoid running the “-do exclude.do” explicitly,
you can set the default exclusion filter to run the <span class="ph filepath">exclusion.do</span> file
automatically upon invocation. </p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">: To view exclusion
failures, edit the .do file and add “transcript on” at the beginning
of the file. You can then check the generated transcript after executing
the .do file to see which exclusions have failed.</p>
</div>
<div class="fig fignone ExampleTitle" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__ide0cdaa43-346d-49d3-ba79-15c5a665197b"><span class="figcap"><span class="fig--title-label">Example 1. </span>Excluding,
Merging and Reporting on Several Runs</span></div>
<p class="p">Suppose you
are doing a number of simulations, i, numbered from 1 to n.</p>
<ol class="ol"><li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id158bda28-0ed7-432c-8403-dabac1752a86"><p class="p">Use <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vlib', 'questa_sim_ref'); return false;">vlib</a> to
create a working library.</p>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__idc3e927f5-5549-4068-bdc7-bbb6519302b1"><p class="p">Use <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcom', 'questa_sim_ref'); return false;">vcom</a> and/or <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vlog', 'questa_sim_ref'); return false;">vlog</a> to compile.</p>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__idfeed3572-606d-49d6-b3db-79c08711a286"><p class="p">Use <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> to
load and run the design:</p>
<p class="lines ApplCommand leveled">vsim -c &lt;design_i&gt; -do "log -r /*; <br />
coverage save -onexit &lt;results_i&gt;; <br />
run -all; do &lt;exclude_file_i.do&gt;; quit -f"</p>
<p class="p">Note, you can have different exclude files <span class="ph FontProperty emphasis">&lt;exclude_file_i&gt;</span> for
each run i, numbered from 1 to n.</p>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id7c4a90ed-2063-4d22-806d-b02c75bf1860"><p class="p">Use <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcover merge', 'questa_sim_ref'); return false;">vcover merge</a> to merge the coverage data:</p>
<p class="lines ApplCommand leveled">vcover merge &lt;merged_results_file&gt; &lt;results_1&gt; &lt;results_2&gt; ... &lt;results_n&gt;</p>
</li>
<li class="li" id="idcb7eec0b-c34c-41d5-b4f3-4ec7977454d6__id428113cb-87d5-4d38-99ac-c3f9ebc2d133"><p class="p">Use <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcover report', 'questa_sim_ref'); return false;">vcover report</a> to generate your report:</p>
<p class="lines ApplCommand leveled">vcover report [switches_you_want] -output &lt;report_file&gt; &lt;merged_results_file&gt;</p>
</li>
</ol>
<p class="p">Exclusions are invoked during vsim, in step
3.</p>
<p class="p">All the various results files <span class="ph filepath">&lt;results_i&gt;</span> contain
the exclusion information inserted at step 3.</p>
<p class="p">The exclusion information for the merged results
file is derived by ORing the exclusion flags from each vsim run.
So, for example, if runs 1 and 2 exclude <span class="ph filepath">xyz.vhd</span> line
12, but the other runs do not exclude that line, the exclusion flag
for <span class="ph filepath">xyz.vhd</span> line 12 is set in the merged results,
since at least one of the runs excluded that line. Then the final <span class="ph FontProperty HeadingLabel">vcover report</span> will not
show coverage results for file <span class="ph filepath">xyz.vhd</span> line
12.</p>
<p class="p">For example, if your <span class="ph filepath">&lt;exclude_file_i&gt;</span> files
are all the same, and called <span class="ph filepath">exclude.do</span>, the
contents of <span class="ph filepath">exclude.do</span> could be:</p>
<p class="lines ApplCommand leveled">coverage exclude -srcfile xyz.vhd -linerange 12 55 67-90</p>
<p class="lines ApplCommand leveled">coverage exclude -srcfile abc.vhd -linerange 3-6 9-14 77</p>
<p class="lines ApplCommand leveled">coverage exclude -srcfile pqr.vhd -linerange all</p>
<p class="p">This will exclude lines 12, 55, and 67 to 90
(inclusive) of file <span class="ph filepath">xyz.vhd</span>; lines 3 to 6,
9 to 14, and 77 of <span class="ph filepath">abc.vhd</span>; and all lines from <span class="ph filepath">pqr.vhd</span>.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CoverageExclusions_idd77be808.html" title="When code coverage is enabled for an entire design, or for the purposes of debugging a particular segment of the design, you can use coverage exclusions to exclude coverage for individual design units, files, lines of code, objects, and so on.">Coverage Exclusions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Saving and Recalling Exclusions"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SavingRecallingExclusions_idcb7eec0b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>