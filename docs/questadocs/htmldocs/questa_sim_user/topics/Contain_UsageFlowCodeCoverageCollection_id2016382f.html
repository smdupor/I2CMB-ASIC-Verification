<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="Usage Flow for Code Coverage Collection" />
<meta name="abstract" content="To collect coverage data for a design, you must actively select the type of code coverage you want to collect, and then enable the coverage collection mechanism for the simulation run." />
<meta name="description" content="To collect coverage data for a design, you must actively select the type of code coverage you want to collect, and then enable the coverage collection mechanism for the simulation run." />
<meta name="DC.subject" content="use flow, Code Coverage" />
<meta name="keywords" content="use flow, Code Coverage" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2016382f-09e8-4e7f-943a-d32940f822bc" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Usage Flow for Code Coverage Collection</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Usage Flow for Code Coverage Collection" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id2016382f-09e8-4e7f-943a-d32940f822bc">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Usage Flow for Code Coverage Collection</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">To
collect coverage data for a design, you must actively select the
type of code coverage you want to collect, and then enable the coverage
collection mechanism for the simulation run.</span>
</div>
<p class="p">You can view coverage results
during the current simulation run, or save the coverage data to
a UCDB for post-process viewing and analysis. The data can be saved either
on demand, or at the end of simulation (see <a class="xref fm:HeadingOnly" href="TaskTop_SavingCodeCoverageInUcdb_id19533d8d.html#id19533d8d-1bb8-4a9d-85aa-c81d80bbc3e7__TaskTop_SavingCodeCoverageInUcdb_id19533d8d.xml#id19533d8d-1bb8-4a9d-85aa-c81d80bbc3e7" title="When you run a design with coverage enabled, you can save the code coverage that was collected for later use, either on demand or at the end of simulation.">Saving Code Coverage in the UCDB</a>).</p>
<p class="p">Code coverage is not collected on any
code that is run at elaboration time (loading the design). For example,
a constant function that calculates the array range of a vector
signal.</p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">Coverage ignores design units compiled
with <span class="ph FontProperty HeadingLabel">-nodebug</span>,
and treats them as if they are excluded. However, toggle coverage
of ports compiled with -nodebug is supported only when you use -nodebug without
any options. For example, options like “-nodebug=ports” will disable
toggle coverage.</p>
</div>
<p class="p">The basic flow for collecting code coverage
in a <span class="ph fmvar:ProductName">Questa SIM</span> simulation
is: </p>
<ol class="ol"><li class="li" id="id2016382f-09e8-4e7f-943a-d32940f822bc__id388f4e05-03fb-431c-a740-db9432df1cbc"><p class="p">Compile the design and specify the types
of coverage to collect:</p>
<p class="lines ApplCommand">vlog top.v proc.v</p>
<p class="lines ApplCommand">vopt top -o opttop +cover=sbecft</p>
<p class="p">The vlog (or vcom, if design is VHDL)
command compiles the specified files. The vopt command performs
global analysis and optimizations on the design. The -o specifies
the output name for the optimized version of the design. The +cover
argument to the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a> command
designates all coverage types for collection. </p>
<p class="p">You can apply coverage arguments differently,
depending on whether you want to collect coverage for a specific
source file, or just a module/sub-module, or the entire design.
See “<a class="xref fm:HeadingOnly" href="Contain_SpecifyCoverageTypesForDataCollection_id9f7d6905.html#id9f7d6905-c865-4f07-9838-fc027c7bf393__Contain_SpecifyCoverageTypesForDataCollection_id9f7d6905.xml#id9f7d6905-c865-4f07-9838-fc027c7bf393" title="When you specify coverage types for data collection, you are essentially instructing the code to collect coverage statistics when coverage collection is enabled at run time. Since extra instructions reduce simulation performance, enable only code for which you intend to collect coverage statistics.">Specify Coverage Types for Data Collection</a>” for coverage application options.</p>
</li>
<li class="li" id="id2016382f-09e8-4e7f-943a-d32940f822bc__id75fb21f2-03ed-440d-998c-89711500d282"><p class="p">Enable coverage collection during simulation:</p>
<p class="lines ApplCommand">vsim -coverage opttop</p>
<p class="p">The optimized design <span class="ph FontProperty emphasis">opttop</span> enables
coverage for the entire design. See “<a class="xref fm:HeadingOnly" href="TaskTop_EnablingSimulationCodeCoverageCollection_idb5df56f5.html#idb5df56f5-eb50-4f18-9215-94fc6b9c7620__TaskTop_EnablingSimulationCodeCoverageCollection_idb5df56f5.xml#idb5df56f5-eb50-4f18-9215-94fc6b9c7620" title="Once you specify the coverage types for coverage, you must enable the simulation for code collection.">Enabling Simulation for Code Coverage Collection</a>” for further details.</p>
</li>
</ol>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Contain_SpecifyCoverageTypesForDataCollection_id9f7d6905.html" title="When you specify coverage types for data collection, you are essentially instructing the code to collect coverage statistics when coverage collection is enabled at run time. Since extra instructions reduce simulation performance, enable only code for which you intend to collect coverage statistics. ">Specify Coverage Types for Data Collection</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_EnablingSimulationCodeCoverageCollection_idb5df56f5.html" title="Once you specify the coverage types for coverage, you must enable the simulation for code collection.">Enabling Simulation for Code Coverage Collection</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_SavingCodeCoverageInUcdb_id19533d8d.html" title="When you run a design with coverage enabled, you can save the code coverage that was collected for later use, either on demand or at the end of simulation.">Saving Code Coverage in the UCDB</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_SavingCoverageUsingUvmTestName_idebc2d76f.html" title="By default, coverage data is saved to the default test name, which is derived from the basename of the output filename you specify in the coverage save command. You can use this method to create the coverage database with a UVM/OVM testname.">Saving Coverage Using the UVM Test Name</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_CoverageAutoSaveCoverstore_id270765f0.html" title="You can use a form of coverage storage called a coverstore to improve merge performance while automatically saving coverage data without specifying the coverage save command. A coverstore is a storage location (directory) that holds both design and coverage results, and which you access in a way similar to the way you access a UCDB file.  The coverstore auto-save functionality improves merge performance, when compared with the normal situation flow that uses the coverage save command. When vsim is run with -coverstore, the coverstore directory holds results from multiple tests that share the same design objects and hierarchy; in the normal situation flow, every leaf level UDCB file holds the test record data, the design objects, and the results.">Coverage Auto-save Coverstore</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CodeCoverage_idbe4a8f76.html" title="Code coverage is the only verification metric generated automatically from design source in RTL or gates. While most verification plans require a high level of code coverage, it does not necessarily indicate correctness of your design. Code coverage measures only how often a suite of tests exercises certain aspects of the source.">Code Coverage</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Usage Flow for Code Coverage Collection"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_UsageFlowCodeCoverageCollection_id2016382f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>