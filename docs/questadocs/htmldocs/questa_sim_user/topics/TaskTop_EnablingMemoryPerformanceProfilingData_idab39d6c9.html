<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Enabling Memory and Performance Profiling Data" />
<meta name="abstract" content="You can enable the collection of fine grained memory usage data for assertions and cover directives. This feature can be used to quickly identify assertions and cover directives that consume the most memory and also are performance intensive. It helps identify assertions and cover directives that should be reviewed and rewritten in order to reduce the number of threads for better performance." />
<meta name="description" content="You can enable the collection of fine grained memory usage data for assertions and cover directives. This feature can be used to quickly identify assertions and cover directives that consume the most memory and also are performance intensive. It helps identify assertions and cover directives that should be reviewed and rewritten in order to reduce the number of threads for better performance." />
<meta name="DC.subject" content="assertions, memory profiling, enabling, performance profiling, Memory profiling, assertions/cover directives, Performance profiling, Profiling, assertions/cover directives" />
<meta name="keywords" content="assertions, memory profiling, enabling, performance profiling, Memory profiling, assertions/cover directives, Performance profiling, Profiling, assertions/cover directives" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idab39d6c9-5e7e-4341-b980-c44acca72cc9" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Enabling Memory and Performance Profiling Data</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Enabling Memory and Performance Profiling Data" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idab39d6c9-5e7e-4341-b980-c44acca72cc9">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Enabling Memory and Performance Profiling Data</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">You can enable
the collection of fine grained memory usage data for assertions
and cover directives. This feature can be used to quickly identify
assertions and cover directives that consume the most memory and
also are performance intensive. It helps identify assertions and
cover directives that should be reviewed and rewritten in order
to reduce the number of threads for better performance.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__id4c0116b6-1ed8-48c5-a1c7-0da240bb2b09"><span class="ph cmd">Do either of the following:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__id58c8e5a2-7626-442a-a3b6-88de0ebd25a3"><p class="p">Use the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'assertion profile', 'questa_sim_ref'); return false;">assertion profile on </a>command. This command may be given at any time
during simulation. </p>
<p class="p">The <span class="ph FontProperty HeadingLabel">-threadthreshold</span> argument
for the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'assertion profile', 'questa_sim_ref'); return false;">assertion profile </a>command can be used to identify assertion/cover directive
threads that are exploding in memory. The correct syntax for the <span class="ph FontProperty HeadingLabel">assertion profile</span> command
is:</p>
<p class="lines ApplCommand">assertion profile [-threadthreshold &lt;number_of_threads&gt;] on|off</p>
<p class="p">The <span class="ph FontProperty HeadingLabel">assertion profile</span> command
is independent of the <span class="ph FontProperty HeadingLabel">-assertdebug</span> argument
for the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> command
(which stores assertion pass/fail data in the <span class="ph filepath">.wlf</span> file),
so it can be used even if <span class="ph FontProperty HeadingLabel">vsim</span> was
not invoked with <span class="ph FontProperty HeadingLabel">-assertdebug</span>.</p>
</li>
<li class="li" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__id01b39765-2526-4802-8e85-a471bd5d353b"><p class="p">You can also enable profiling
in the Capacity window by right-clicking Assertions, Cover Directives,
or Covergroups and selecting Profile On from the popup menu (<a class="xref fm:Figure" href="#idab39d6c9-5e7e-4341-b980-c44acca72cc9__idb9fbfe82-3faa-46e9-a787-005e76cf6d9a">Figure 1</a>).</p>
<div class="fig fignone" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__idb9fbfe82-3faa-46e9-a787-005e76cf6d9a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Selecting Profile
On from Capacity Pane</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/capacity_profile_on.gif" /></div><br /></div>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__idd5220382-6162-4cb3-b4ec-6e4f231cfb61"><span class="ph cmd">Select <span class="ph menucascade"><span class="ph uicontrol">View</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Coverage</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Assertions</span></span> and <span class="ph menucascade"><span class="ph uicontrol">View</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Coverage</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Cover Directives</span></span> to display memory
and performance profile data in the Assertions and Cover Directives
windows. </span><div class="itemgroup info StepInfo"><p class="p">Three columns in the Assertions
and Cover Directives windows display this fine grained profile information:
Current Memory, Peak Memory, and Cumulative (number of threads). </p>
<p class="p">Assertions that create the
most threads take the most time to simulate. Therefore, this information
is not only useful for memory profiling but also helps in performance profiling
as well. The cumulative number of threads can help in scenarios
where an assertion creates many short lived threads. </p>
</div></li>
</ol>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__idebbef698-b041-4d0c-88ea-063e7df1b30f"><h2 class="title Subheading sectiontitle">Threads</h2><p class="p">In the following assertion,</p>
<pre class="pre codeblock leveled"><code>assert property (@(posedge clk) a |=&gt; b);</code></pre><p class="p">if 'a' is true throughout the simulation,
the assertion will create a thread at every clock edge and the thread
will remain alive for exactly one clock cycle. This assertion may
not be one of the primary consumers of memory space but it will
produce a high cumulative thread count.</p>
</div>
<div class="section Subsection" id="idab39d6c9-5e7e-4341-b980-c44acca72cc9__idcc6720e1-f5d3-49c8-bf14-803157233ef8"><h2 class="title Subheading sectiontitle">Thresholds</h2><p class="p">The simulator will generate a message
at every clock edge if the number of threads created by an assertion
or cover directive is more than the threshold. For example, </p>
<p class="lines ApplCommand">assert profile -threadthreshold 100</p>
<p class="p">will write the following message
to the Transcript window as the simulation runs when the threshold
of 100 threads is crossed:</p>
<pre class="pre codeblock leveled"><code># ** Note: Assertion thread threshold reached. Thread count = 110, Memory = 4.8KB</code></pre><pre class="pre codeblock leveled"><code>#    Time: 215 ns  Scope: test.assert01 File: ./src/profile01.sv Line: 9</code></pre><p class="p">Note that this message is printed
at every clock edge when the thread threshold is crossed. So if
the threshold is too low, it will cause deluge of messages in the Transcript.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ConfiguringAssertions_ida3b6a761.html" title="The various tasks required to configure assertions may be invoked via the command line or the GUI.">Configuring Assertions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Enabling Memory and Performance Profiling Data"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_EnablingMemoryPerformanceProfilingData_idab39d6c9.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>