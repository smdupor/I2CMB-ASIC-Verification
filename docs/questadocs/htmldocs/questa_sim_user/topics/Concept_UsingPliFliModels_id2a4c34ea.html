<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Using PLI or FLI Models" />
<meta name="abstract" content="PLI models do not require special code to function with an elaboration file as long as the model does not create simulation objects in its standard tf routines. The sizetf, misctf and checktf calls that occur during elaboration are played back at -load_elab to ensure the PLI model is in the correct simulation state. Registered user tf routines called from the Verilog HDL will not occur until -load_elab is complete and the PLI model's state is restored." />
<meta name="description" content="PLI models do not require special code to function with an elaboration file as long as the model does not create simulation objects in its standard tf routines. The sizetf, misctf and checktf calls that occur during elaboration are played back at -load_elab to ensure the PLI model is in the correct simulation state. Registered user tf routines called from the Verilog HDL will not occur until -load_elab is complete and the PLI model's state is restored." />
<meta name="DC.subject" content="elaboration file, simulating with PLI or FLI models" />
<meta name="keywords" content="elaboration file, simulating with PLI or FLI models" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2a4c34ea-1dfb-48eb-be81-8e0014181f7a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using PLI or FLI Models</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using PLI or FLI Models" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id2a4c34ea-1dfb-48eb-be81-8e0014181f7a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Using
PLI or FLI Models</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">PLI models do not require special code to
function with an elaboration file as long as the model does not
create simulation objects in its standard tf routines. The sizetf,
misctf and checktf calls that occur during elaboration are played
back at <span class="keyword ParameterName Required">-load_elab</span> to
ensure the PLI model is in the correct simulation state. Registered
user tf routines called from the Verilog HDL will not occur until <span class="keyword ParameterName Required">-load_elab</span> is
complete and the PLI model's state is restored.</span>
</div>
<p class="p">By default, FLI models are activated
for checkpoint during elaboration file creation and are activated
for restore during elaboration file load. (See the “Using checkpoint/restore
with the FLI” section of the Foreign Language Interface Reference
manual for more information.) FLI models that support checkpoint/restore
will function correctly with elaboration files. </p>
<p class="p">FLI models that do not support checkpoint/restore
may work if simulated with the <span class="keyword ParameterName Required">‑elab_defer_fli</span> argument.
When used in tandem with <span class="keyword ParameterName Required">-elab</span>, <span class="keyword ParameterName Required">-elab_defer_fli</span> defers
calls to the FLI model's initialization function until elaboration
file load time. Deferring FLI initialization skips the FLI checkpoint/restore
activity (callbacks, mti_IsRestore(), ...) and may allow these models
to simulate correctly. However, deferring FLI initialization also
causes FLI models in the design to be initialized in order with the
entire design loaded. FLI models that are sensitive to this ordering
may still not work correctly even if you use <span class="keyword ParameterName Required">‑elab_defer_fli</span>.</p>
<p class="p">See
the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> command
for details on <span class="keyword ParameterName Required">-elab</span>, <span class="keyword ParameterName Required">-elab_cont</span>, <span class="keyword ParameterName Required">-elab_defer_fli</span>, <span class="keyword ParameterName Required">‑no_compress_elab</span>, <span class="keyword ParameterName Required">‑filemap_elab</span>,
and <span class="keyword ParameterName Required">‑load_elab</span>.</p>
<p class="p">Upon first simulating the design, use <span class="keyword ParameterName Required">vsim -elab &lt;filename&gt; &lt;library_name.design_unit&gt;</span> to
create an elaboration file that will be used in subsequent simulations. </p>
<p class="p">In subsequent simulations you simply load the
elaboration file (rather than the design) with <span class="keyword ParameterName Required">vsim -load_elab &lt;filename&gt;</span>. </p>
<p class="p">To change the stimulus without recording, recompiling,
and reloading the entire design, <span class="ph fmvar:ProductName">Questa SIM</span> allows
you to map the stimulus file (or files) of the original design unit
to an alternate file (or files) with the <span class="keyword ParameterName Required">-filemap_elab</span> switch.
For example, the VHDL code for initiating stimulus might be:</p>
<pre class="pre codeblock"><code>FILE vector_file : text IS IN "vectors";</code></pre><p class="p">where <span class="ph filepath">vectors</span> is the stimulus
file.</p>
<p class="p">If the alternate stimulus file is named, for
example, <span class="ph filepath">alt_vectors</span>, then the correct syntax
for changing the stimulus without recording, recompiling, and reloading the
entire design is as follows:</p>
<p class="lines ApplCommand">vsim -load_elab &lt;filename&gt; -filemap_elab vectors=alt_vectors</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_SimulatingElaborationFile_idc5bdbcce.html" title="The Questa SIM compiler generates a library format that is compatible across platforms. This means the simulator can load your design on any supported platform without having to recompile first. Though this architecture offers a benefit, it also comes with a possible disadvantage: the simulator has to generate platform-specific code every time you load your design. This affects the speed with which the design is loaded.">Simulating with an Elaboration File</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Using PLI or FLI Models"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_UsingPliFliModels_id2a4c34ea.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>