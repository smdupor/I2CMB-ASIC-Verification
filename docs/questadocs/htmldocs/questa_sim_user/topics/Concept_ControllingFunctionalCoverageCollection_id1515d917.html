<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Controlling Functional Coverage Collection" />
<meta name="abstract" content="Questa SIM supports several methods for enabling/disabling the collection of functional coverage. During live simulation, you can turn off the collection of coverage statistics for covergroups, coverpoints, and crosses from within the source code, using any of these methods:" />
<meta name="description" content="Questa SIM supports several methods for enabling/disabling the collection of functional coverage. During live simulation, you can turn off the collection of coverage statistics for covergroups, coverpoints, and crosses from within the source code, using any of these methods:" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id1515d917-b815-41e9-922a-bd7c41ef52f5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Controlling Functional Coverage Collection</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Controlling Functional Coverage Collection" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id1515d917-b815-41e9-922a-bd7c41ef52f5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Controlling Functional Coverage Collection</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc"><span class="ph fmvar:ProductName">Questa SIM</span> supports several methods for
enabling/disabling the collection of functional coverage. During
live simulation, you can turn off the collection of coverage statistics
for covergroups, coverpoints, and crosses from within the source
code, using any of these methods: </span>
</div>
<ul class="ul"><li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__idd89215c0-239a-48a8-b5f9-cd6cdb976a31"><p class="p">Using the SystemVerilog extension option.no_collect
of type “bit,” the default value of option.no_collect is 0, which
enables the collection of coverage. Setting the value to 1 disables
the coverage collection (see <a class="xref fm:Figure" href="#id1515d917-b815-41e9-922a-bd7c41ef52f5__id7c375597-2a5c-47ae-9ff7-fca9ea96b1c7">Figure 1</a>).</p>
</li>
<li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id7f109299-01ea-4e14-aee9-b4f47f190c01"><p class="p">Simulating with vsim -cvgzwnocollect
enabled, when option.weight is set to 0 within the source code (see
also the <a class="xref fm:HeadingOnly" href="Command_Svcovergroupzwnocollect_idd1da0e22.html#idd1da0e22-53fa-4738-b940-d81fd823cfb0__Command_Svcovergroupzwnocollect_idd1da0e22.xml#idd1da0e22-53fa-4738-b940-d81fd823cfb0" title="This variable is used to disable coverage collection for any coverage item (coverpoint or cross or the entire covergroup), when 0 is assigned as its option.weight. Item will not be displayed in any coverage report, nor will it contribute to any coverage score computation.">SVCovergroupZWNoCollect</a> <span class="ph filepath">modelsim.ini</span> variable)
has the effect of disabling coverage collection for all zero weighted
items.</p>
</li>
<li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id5f789610-21ab-4815-bacf-a2740a1debdf"><p class="p">Simulating with vsim -nocvg disables
covergroup object construction and removes the ability to run built-in
covergroup methods during simulation. An svverification license
is not required when -nocvg is used in the simulation.</p>
</li>
</ul>
<p class="p">To print a report of functional coverage items
which have been actively selected for non-collection, use -nocollect
with the coverage report or vcover report commands.</p>
<div class="fig fignone" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id7c375597-2a5c-47ae-9ff7-fca9ea96b1c7"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Turning
off Collection for a Coverpoint Using option.no_collect</span></div>
<pre class="pre codeblock"><code>covergroup cvg (bit val);
   coverpoint data {
        option.no_collect = val; 
        ...
    }
endgroup</code></pre><div class="section Subsections"><div class="section Subsection" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id4367d9dd-824a-4788-9968-a62eba58f9cf"><h2 class="title Subheading sectiontitle">Controlling
Presence and Visibility of Aggregated Bins</h2><p class="p">By default, covergroup instances
(and the bins therein) are shown, irrespective of their option.per_instance
value. However, aggregated bins under the type coverage are only
available when type_option.merge_instances=1. You can choose from
among three possibilities when specifying how merge_instances are
set in a given covergroup type:</p>
<ul class="ul"><li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__ida93a184a-0bd3-4ace-ab91-837457e16cf0"><p class="p">set to 0 in the SystemVerilog code —
aggregated bins do not exist for this algorithm choice.</p>
</li>
<li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id1b07003b-4946-4d82-8df2-934a7d2ebee8"><p class="p">set to 1 in the SystemVerilog code —
aggregated bins do exist.</p>
</li>
<li class="li" id="id1515d917-b815-41e9-922a-bd7c41ef52f5__id353520a3-8ba4-4eb7-90ab-f1d4a43390e7"><p class="p">not set — in this case, the <span class="ph fmvar:ProductName">Questa SIM</span> default is determined according
to the dictates outlined in the section “<a class="xref fm:HeadingOnly" href="General_Systemverilog2009TypeOptionMergeInstances_id4ba9bf0d.html#id4ba9bf0d-b4d0-4633-8fc8-3c69dd371bd8__General_Systemverilog2009TypeOptionMergeInstances_id4ba9bf0d.xml#id4ba9bf0d-b4d0-4633-8fc8-3c69dd371bd8" title="The merge_instances option was introduced in IEEE Std 1800-2009. The merge_instances value determines the algorithm for computing the coverage score for a covergroup type and is defined in the LRM.">SystemVerilog 2009 type_option.merge_instances</a>”. If the tool chooses to set it
to 0, you will not have any aggregated bins, or you can use vsim
‑cvgmergeinstances at runtime to override the default tool setting.</p>
</li>
</ul>
<p class="p">The same behavior can be achieved using the<span class="ph filepath">modelsim.ini</span> variable<a class="xref fm:HeadingOnly" href="Command_Svcovergroupmergeinstancesdefault_id258510f6.html#id258510f6-ef8f-4d42-87fa-854e7b9cc1f1__Command_Svcovergroupmergeinstancesdefault_id258510f6.xml#id258510f6-ef8f-4d42-87fa-854e7b9cc1f1" title="This variable exists in the vsim sections of the modelsim.ini file.">SVCovergroupMergeInstancesDefault</a>. For more information and some
examples of SystemVerilog code containing these options, see “<a class="xref fm:HeadingOnly" href="Contain_IeeeStd18002009OptionBehavior_id2706489f.html#id2706489f-911d-4095-9e83-9c5af43f5c08__Contain_IeeeStd18002009OptionBehavior_id2706489f.xml#id2706489f-911d-4095-9e83-9c5af43f5c08" title="The coverage system default behavior for SystemVerilog covergroups (Questa SIM version 6.6 and higher) is compliant with the latest IEEE Std1800-2009 clarifications and changes.">IEEE Std 1800-2009 Option Behavior</a>.”</p>
<h2 class="title Subheading sectiontitle">Controlling
Optimization with a UCDB File</h2><p class="p">You can load a functional coverage database
(UCDB file) into your simulation and use it to control optimization
by using the -cvgprecollect argument with the vsim command. </p>
<p class="p">When a coverpoint, cross, or covergroup instance
is pre-covered in the input UCDB—namely the coverage score is 100%—the
presence of the -cvgprecollect argument instructs the simulator
to disable the matching instance in the new simulation. When the
optimization is enabled for an instance, the instance is removed
from the simulation, therefore no coverage data is collected or
saved into the UCDB. </p>
<p class="p">Optimization is not always possible. For example,
if a coverpoint participates in a cross, it cannot be disabled,
because sampling the cross may require sampling the coverpoint.
In such cases, the coverpoint, cross, or covergroup instance will
be handled as in a normal simulation.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_FunctionalCoverageControlOptions_id791cbfe2.html" title="SystemVerilog offers a set of facilities for configuring covergroups, coverpoints, and crosses through the option and type_option structures. These structures can be used to control various aspects of SystemVerilog simulations, using guidelines which apply to each of the settings.">Functional Coverage Control Options</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'change', 'questa_sim_ref'); return false;">change [Questa SIM Command Reference Manual]</a></div>
<div><a class="link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim [Questa SIM Command Reference Manual]</a></div>
<div><a class="link" href="../topics/Contain_LoadingFunctionalCoverageDatabaseIntoSimulation_id9c27a028.html#id9c27a028-45ac-49c4-a8e2-8419092aa4fc__" title="To load a functional coverage database into simulation, use the $load_coverage_db(), a standard SystemVerilog built-in system task, which loads covergroup data once it has been saved. It loads the data from a specified UCDB file into the current simulation. In cases where there are differences in design hierarchy or covergroups between the loaded design and the saved UCDB file, the $load_coverage_db system task loads as much data as possible.">Loading a Functional Coverage Database into Simulation</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Controlling Functional Coverage Collection"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ControllingFunctionalCoverageCollection_id1515d917.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>