<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Coverage Binning and Calculation" />
<meta name="abstract" content="The calculation of coverage in terms of how the items are binned is expressed in this section." />
<meta name="description" content="The calculation of coverage in terms of how the items are binned is expressed in this section." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Coverage Binning and Calculation</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Coverage Binning and Calculation" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Coverage Binning and Calculation</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The calculation
of coverage in terms of how the items are binned is expressed in
this section.</span>
</div>
<p class="p">The general algorithm for coverage
aggregation can be expressed in the following formula:</p>
<div class="fig fignone" id="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__idb58b9910-fbe3-4293-8b81-640ac02aaaa7"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics_composites/_recap_6_icons.png" /></div><br /></div>
<p class="p">where:</p>
<p class="p"><span class="ph FontProperty emphasis">cov(t)</span> =
#covered bins / #bins<a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a></p>
<p class="p"><span class="ph FontProperty emphasis">t</span> =
the set of all coverage types</p>
<p class="p">The coverage types (<span class="ph FontProperty emphasis">t</span>)
are as shown in <a class="xref fm:Table" href="#idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__iddd8d5d8d-0fe8-40e4-bd3d-801bd28efbb1">Table 1</a>. Each type of coverage
has its own definition of how bins are created and how many bins
exist.</p>
<p class="p">Aggregation is performed across different scopes
depending on the UI command issued (that is, you can aggregate across
a single design unit, or you can aggregate across the entire design,
or various ranges between those extremes). The region in which coverage
is calculated is known as the “scope of aggregation”. For each coverage
type, <span class="ph FontProperty emphasis">cov(t)</span> is
calculated across the complete set of bins visible in the scope
of aggregation. </p>
<p class="p">Individual weights can be assigned for all
coverage types in the table below, using the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'coverage weight', 'questa_sim_ref'); return false;">coverage weight</a> command. Additional methods for assigning weights
are detailed for each type.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__iddd8d5d8d-0fe8-40e4-bd3d-801bd28efbb1" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Coverage Calculation for Each Coverage Type</span></caption><colgroup><col style="width:1.026in" /><col style="width:1.418in" /><col style="width:1.963in" /><col style="width:2.092in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d295333e201"><p class="p">Coverage Type</p>
</th>
<th class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" id="d295333e204"><p class="p">Binning
and Calculation Methods for cov(t)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d295333e207"><p class="p">Weighting<a name="fnsrc_2" href="#fntarg_2"><sup>2</sup></a></p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Assertion</p>
</td>
<td class="entry cellrowborder default-entry" id="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__id5b5d7345-a033-471f-b282-3bde0d27bc26" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">There is one bin per assertion,
which defines the pass status of the assertion. If neither ‑assertcounts
nor -assertdebug are used with vsim, the bin consists of only one
bit that is set to 1 if the assertion passes, and 0 if it does not
(that is, if the assertion status is fail, vacuous, disable or active).
If either -assertcounts or -assertdebug are used with vsim, the
Pass Count is a 32-bit value that stores the actual count of assertion passes.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Each assertion is weighted
equally. Assertions may be weighted individually through the <span class="ph fmvar:ProductName">Questa SIM</span> user interface<a name="fnsrc_3" href="#fntarg_3"><sup>3</sup></a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Branch</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">All True
branches and “AllFalse” branches in the scope of aggregation form
the complete set of bins. Calculation follows the general algorithm.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Condition</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">All FEC
table rows in the scope of aggregation form the complete set of
bins. Rows that contain X and Z values are excluded. FEC numbers
are calculated separately, then the weighted average is calculated
for Condition coverage.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Covergroup</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">Performed
as if $get_coverage() was called on the scope of aggregation. $get_coverage()
is described in SV1800-2009, Clause 19.11, Coverage Computation.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Controlled by type_option.weight</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Cover Directive</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">There is
one bin per cover directive. The bin count is incremented when the
cover directive passes.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally, unless
-weight is used with the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'fcover configure', 'questa_sim_ref'); return false;">fcover configure</a> command</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Expression </p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">All FEC
table rows in the scope of aggregation form the complete set of
bins. Rows that contain X and Z values are excluded. FEC numbers
are calculated separately, then the weighted average is calculated
for Expression coverage.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">FSM</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">The complete
set of states in the scope of aggregation forms the state bins,
similar for transitions. State coverage and Transition coverage
are calculated separately according to the general formula. Then
the weighted average is calculated for FSM coverage.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Statement</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">There is
one bin per statement. The bin count is incremented when the statement executes.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Weighted equally</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e201 "><p class="p">Toggle</p>
</td>
<td class="entry cellrowborder default-entry" colspan="2" style="vertical-align:top;" headers="d295333e204 "><p class="p">Binning
varies based on the type of togglenode. Enum, integer, and real
types are binned specially. Extended toggle mode binning is different
than regular toggle mode binning. See <a class="xref fm:HeadingOnly" href="Contain_ToggleCoverage_id0471906c.html#id0471906c-bbe3-42a0-91e1-70f9a9d0b241__Contain_ToggleCoverage_id0471906c.xml#id0471906c-bbe3-42a0-91e1-70f9a9d0b241" title="Toggle coverage is the ability to count and collect changes of state on specified nodes for various Verilog, SystemVerilog, and VHDL signal types.">Toggle Coverage</a> and <a class="xref fm:HeadingOnly" href="Contain_ToggleCounts_id22058a28.html#id22058a28-10b9-428f-bb63-b59a9a095e1f__Contain_ToggleCounts_id22058a28.xml#id22058a28-10b9-428f-bb63-b59a9a095e1f" title="This section defines what is considered as a “toggle” during a simulation.">Toggle Counts</a> for further description. The complete
set of all toggle bins in the scope of aggregation is used when calculating
cov(t).</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d295333e207 "><p class="p">Toggle nodes are effectively
weighted according to how many bins exist for the type of togglenode</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Weights in the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'coverage weight', 'questa_sim_ref'); return false;">coverage weight</a> command for assertion counts (other than non-vacuous
passes) are not used for any purpose.</p>
</div>
<p class="p">The weights, listed by the different kinds
of coverage, are shown by entering:</p>
<p class="lines ApplCommand">coverage weight -byinstance</p>
<p class="p">You can find out exactly what the coverage
was for each coverage type using either of the following commands:</p>
<p class="lines ApplCommand">coverage analyze -path &lt;instance&gt; -summary</p>
<p class="lines ApplCommand">coverage analyze -du &lt;du_name&gt; -summary</p>
<p class="p">The information returned by these commands,
along with <a class="xref fm:Table" href="#idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__iddd8d5d8d-0fe8-40e4-bd3d-801bd28efbb1">Table 1</a>, can help you understand the Total Coverage
number. See <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'coverage analyze', 'questa_sim_ref'); return false;">coverage analyze</a> for further details.</p>
<div class="section Subsections"><div class="section Subsection" id="idd6cf61bf-7dc7-4f11-977e-5d6b513bf43d__ida5000cd4-bc07-4926-8d1d-5657e107f271"><h2 class="title Subheading sectiontitle">Note on Transition Bin iff Enable Semantics</h2><p class="p">The
exact semantic behavior of the bin enable expression applied to
a transition bin is not clearly explained in the SystemVerilog LRM
("Specifying bins for transitions" section). This is the “iff” (expression)
in a transition bins definition.</p>
<p class="p">For a regular value-bin it is clear: If this expression is in
the enable condition when the sample is taken, and the bin value
matches, the bin count increments. Otherwise the bin count does
not increment.</p>
<p class="p">A transition bin counts the occurrence of a sequence of samples,
and the bin enable may not be stable as you track each of these
sequence samples.</p>
<p class="p">The <span class="ph fmvar:ProductName">Questa SIM</span> implementation
only tests the bin enable expression on the final transition bin
sequence sample that will trigger the bin count update and terminate the
sequence matching. The state of the transition bin enable expression
is ignored at other intermediate sequence sample points. This is
equivalent to the regular bin behavior at the sample point where
the count is incremented.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalculationTotalCoverage_idae9c89e2.html" title="The calculation of Total Coverage which appears in various windows and reports depends on several factors, discussed in the following sections.">Calculation of Total Coverage</a></div>
</div>
</div></div>
<div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  In the case of conditions/expressions,
this # is of terms rather than bins.</div><div class="fn"><a name="fntarg_2" href="#fnsrc_2"><sup>2</sup></a>  Individual weights assignment supported for all
types using coverage weight command.</div><div class="fn"><a name="fntarg_3" href="#fnsrc_3"><sup>3</sup></a>  Assertions can also be weighted through the UCDB
or UCIS API.</div></div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Coverage Binning and Calculation"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CoverageBinningCalculation_idd6cf61bf.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>