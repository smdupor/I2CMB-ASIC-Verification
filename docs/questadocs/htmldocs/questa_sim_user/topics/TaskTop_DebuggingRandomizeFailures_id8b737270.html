<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Debugging randomize() Failures" />
<meta name="abstract" content="Contradicting constraints, such as x &gt; 5 and x &lt; 3, causes the randomize() function to fail (the return value of the function is 0). When a randomize () failure occurs due to contradicting constraints and if the SolveFailSeverity and SolveFailDebug modelsim.ini variables are set to non-zero values, Questa SIM generates a constraint contradiction report for randomize() calls that fail due to having no solutions. This report enables debugging of randomize() failures." />
<meta name="description" content="Contradicting constraints, such as x &gt; 5 and x &lt; 3, causes the randomize() function to fail (the return value of the function is 0). When a randomize () failure occurs due to contradicting constraints and if the SolveFailSeverity and SolveFailDebug modelsim.ini variables are set to non-zero values, Questa SIM generates a constraint contradiction report for randomize() calls that fail due to having no solutions. This report enables debugging of randomize() failures." />
<meta name="DC.subject" content="randomize() failures, debugging, Debugging, randomize() failures" />
<meta name="keywords" content="randomize() failures, debugging, Debugging, randomize() failures" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8b737270-50a3-463e-bb32-41746162cd0e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Debugging randomize() Failures</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Debugging randomize() Failures" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id8b737270-50a3-463e-bb32-41746162cd0e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Debugging randomize() Failures</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">Contradicting
constraints, such as x &gt; 5 and x &lt; 3, causes the randomize()
function to fail (the return value of the function is 0). When a
randomize () failure occurs due to contradicting constraints <span class="ph FontProperty emphasis">and</span> if
the SolveFailSeverity and SolveFailDebug <span class="ph filepath">modelsim.ini</span> variables
are set to non-zero values, <span class="ph fmvar:ProductName">Questa SIM</span> generates
a constraint contradiction report for randomize() calls that fail
due to having no solutions. This report enables debugging of randomize()
failures.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><div class="li step p" id="id8b737270-50a3-463e-bb32-41746162cd0e__id1cb4a0d2-db29-4c8d-92da-4e9d4f5ea8b0"><span class="ph cmd">The <a class="xref fm:HeadingOnly" href="Command_Solvefaildebug_ide12b1484.html#ide12b1484-a17a-42d1-9d65-71452e344253__Command_Solvefaildebug_ide12b1484.xml#ide12b1484-a17a-42d1-9d65-71452e344253" title="This variable enables debugging SystemVerilog randomize() failures. By default, (SolveFailDebug - 1) Questa SIM generates a constraint contradiction report for randomize() calls that fail due to having no solutions when SolveFailSeverity is set to a non-zero value. The report displays the minimum set of constraints that caused the randomize() call to fail.">SolveFailDebug</a> simulator control variable controls
whether or not the constraint contradiction report is generated
when randomize() fails due to contradicting constraints. By default,
“basic” debug is enabled (SolveFailDebug = 1). Basic debug allows
you to generate a simplified constraint contradiction report when
randomize() fails, without incurring any runtime performance penalty.
You can generate a more informative constraint contradiction report
by enabling “enhanced” debugging (SolveFailDebug = 2). Enhanced
debugging incurs a runtime performance penalty and is only recommended
when actively debugging failing randomize() scenarios. You can use
any one of the following three methods to set the SolveFailDebug option:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id8b737270-50a3-463e-bb32-41746162cd0e__ide5ad4fd0-28cf-4dd0-a1b7-6d7e01dbe5e4"><p class="p">Set the <a class="xref fm:HeadingOnly" href="Command_Solvefaildebug_ide12b1484.html#ide12b1484-a17a-42d1-9d65-71452e344253__Command_Solvefaildebug_ide12b1484.xml#ide12b1484-a17a-42d1-9d65-71452e344253" title="This variable enables debugging SystemVerilog randomize() failures. By default, (SolveFailDebug - 1) Questa SIM generates a constraint contradiction report for randomize() calls that fail due to having no solutions when SolveFailSeverity is set to a non-zero value. The report displays the minimum set of constraints that caused the randomize() call to fail.">SolveFailDebug</a> simulator control variable to
0, 1, or 2 in the <span class="ph filepath">modelsim.ini</span> file. </p>
</li>
<li class="li" id="id8b737270-50a3-463e-bb32-41746162cd0e__ida20929c8-3d2e-45ef-a3cb-a3b0f7a3914b"><p class="p">Use the -solvefaildebug[=&lt;value&gt;]
argument on the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> command
line (value=0,1,2). If no value is specified, a default value of
1 is set.</p>
</li>
<li class="li" id="id8b737270-50a3-463e-bb32-41746162cd0e__id5c404563-f2a9-4c3f-9cb2-2ab073bc5d1d"><p class="p">Use the solvefaildebug[=&lt;value&gt;]
SystemVerilog attribute in your source code (value=0,1,2). If no
value is specified, a default value of 1 is set. This attribute overrides
the value of the SolveFailDebug <span class="ph filepath">modelsim.ini</span> variable
for the associated SystemVerilog randomize() call, as well as the <span class="keyword ParameterName Required">vsim -solvefaildebug</span> command. </p>
</li>
</ul>
</div></div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock"><code>status = randomize (* solvefaildebug *) (a, b) with { a &gt; b; a &lt; b; };
status = randomize (* solvefaildebug=2 *) (a, b) with { a &gt; b; a &lt; b; };
status = randomize (* solvefaildebug=0 *) (a, b) with { a &gt; b; a &lt; b; };</code></pre><p class="p">The following example demonstrates the difference
between using -solvefaildebug=1 and ‑solvefaildebug=2. Given the
design:</p>
<pre class="pre codeblock"><code>debug.sv
module top;class TFoo;
  rand bit other_mode;
  rand bit m_en_ctx_reuse;
  rand reg [3:0] bypass_en;
  reg [3:0] bypass_en_prev;  constraint c1 {
     if (!m_en_ctx_reuse) {
       bypass_en &gt; 10;
     }
     if (other_mode) {
       !m_en_ctx_reuse;
     }
     bypass_en &lt; 10;
  }
endclassTFoo f = new;
int status;initial
begin
  status = f.randomize() with {
     other_mode;
  };
  $display(status);
endendmodule</code></pre><p class="p">When -solvefaildebug=1 is used:</p>
<ul class="ul"><li class="li" id="id8b737270-50a3-463e-bb32-41746162cd0e__id7a9d75cc-ae5b-41b8-824f-0aadccd940db"><p class="p">$ vsim
-solfefaildebug=1 -c top</p>
</li>
</ul>
<pre class="pre codeblock"><code>VSIM 1&gt; run -all        
# debug.sv(27): randomize() failed due to conflicts between the following constraints:
        #       debug.sv(13): c1 { (bypass_en &gt; 10); }
        #       debug.sv(18): c1 { (bypass_en &lt; 10); }
        # Given:
        #       logic [3:0] bypass_en</code></pre><p class="p">When -solvefaildebug=2 is used:</p>
<ul class="ul"><li class="li" id="id8b737270-50a3-463e-bb32-41746162cd0e__id19a4a498-8795-4013-93b3-8b0f609d3c78"><p class="p">$vsim -solvefaildebug=2
-c top</p>
</li>
</ul>
<pre class="pre codeblock"><code> VSIM 1&gt; run -all        
 # debug.sv(27): randomize() failed due to conflicts between the following constraints:
        #   debug.sv(13): c1 { if ((!m_en_ctx_reuse)) {(bypass_en &gt; 10);} }
       #   debug.sv(16): c1 { if (other_mode) {(!m_en_ctx_reuse);} }
       #   debug.sv(18): c1 { (bypass_en &lt; 10); }
       #   debug.sv(28): other_mode;        # Where:
       #       other_mode = 1'h1
       #       m_en_ctx_reuse = 1'h0        # Given:
       #       logic [3:0] bypass_en</code></pre><p class="p">Use -solvefailtestcase[=&lt;filename&gt;] with the vsim command
to enable generation of a simplified testcase. The testcase output
will be directed to the specified filename. If no filename is specified,
the testcase will be output to the Transcript. Testcases for 'no-solution'
failures will only be produced if -solvefaildebug is enabled.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_AttributesRandomization_idc8267804.html" title="The modelsim.ini file contains numerous variables whose settings control solver behavior for randomization. You can also use attributes that correspond to these variables when calling randomize() to apply their control only to that call. Using an attribute allows you to override the variable setting on a per-randomize basis.">Attributes Of Randomization</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Debugging randomize() Failures"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_DebuggingRandomizeFailures_id8b737270.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>