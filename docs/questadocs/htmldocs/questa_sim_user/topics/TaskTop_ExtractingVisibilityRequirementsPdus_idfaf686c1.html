<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Extracting Visibility Requirements for PDUs" />
<meta name="abstract" content="A PDU may contain objects within its hierarchy that need to retain visibility for a successful simulation." />
<meta name="description" content="A PDU may contain objects within its hierarchy that need to retain visibility for a successful simulation." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfaf686c1-d32b-481d-b646-fd179b258ca2" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Extracting Visibility Requirements for PDUs</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Extracting Visibility Requirements for PDUs" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idfaf686c1-d32b-481d-b646-fd179b258ca2">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Extracting Visibility Requirements for PDUs</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">A PDU may contain
objects within its hierarchy that need to retain visibility for
a successful simulation. </p>
<p class="p">The following steps demonstrate how to extract
acc directives for two Verilog PDU candidates. The -pduspec
argument to <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a> enables
the extraction of the visibility requirements (acc statements) for
such objects and creates an output file containing +acc statements.
The generated output files are then used by vopt -pdu to create
PDUs for the specified boundary modules or instances. Because the
only intent of this step is the extraction of visibility requirements
for the PDUs, vopt exits after the output files are written. Therefore,
vopt does not require the -o argument when specifying -pduspec. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">QIS is the preferred method
to use when optimizing designs with vopt for debug/visibility purposes.
Refer to “<a class="xref fm:HeadingAndPage" href="Concept_QuestaDumpingAndVisibility_id71148e4b.html#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23__Concept_QuestaDumpingAndVisibility_id71148e4b.xml#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23" title="QIS in the tool enables full vopt simulations while providing debug or visibility capabilities.">Questa Dumping and Visibility</a>” for complete details. </p>
</div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__idcd307e26-153b-4983-a572-db4663befe71"><p class="p">In order to maintain necessary visibility,
run the vopt command with appropriate ‑pduspec values and an <span class="ph filepath">acc</span> file
that contains all hierarchical references. In some scenarios, you
may need to run vsim -learn as well. </p>
<p class="p">Refer to “<a class="xref fm:HeadingOnly" href="TaskTop_PreservingDesignVisibilityLearnFlow_idb92b598c.html#idb92b598c-f5b3-4747-baad-946edacc9279__TaskTop_PreservingDesignVisibilityLearnFlow_idb92b598c.xml#idb92b598c-f5b3-4747-baad-946edacc9279" title="To ensure that you retain the proper level of design visibility when performing an optimized simulation (using vopt in the Three-Step flow), you can use the vsim -learn command. This command creates control files that include instructions for preserving visibility of the design.">Preserving Design Visibility with the Learn Flow</a>” for more information.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__idcb443ea9-7ec4-46f6-bff5-aaa9cd3ce23d"><span class="ph cmd">Compile your design:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlog *.sv</p>
</div></li>
<li class="li step stepexpand" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__id50487fbd-a11f-45ca-b1ea-ad0f21aef1ca"><span class="ph cmd">(Optional) Simulate with vsim
-learn and full visibility into your design to generate a control
file with instructions for preserving visibility: </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vsim -voptargs="+acc" -learn mylearn top</p>
<p class="p">This step will create the file <span class="ph FontProperty emphasis">mylearn.acc</span>.</p>
<p class="p">This step is required only when there are indirect hierarchical
references used inside the PDU, through PLI, VPI, or CLI commands.
If there are direct language hierarchical references used inside
PDU, this step can be skipped.</p>
</div></li>
<li class="li step stepexpand" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__idcc5d85c7-048d-4823-9db0-8290431516ab"><span class="ph cmd">Create the PDU visibility
file, <span class="ph FontProperty emphasis">dut1.acc</span>,
using compiled top. If the <span class="ph FontProperty emphasis">mylearn.acc</span> file
is generated by ‑learn in Step 2, specify that file here as well.</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt top -pduspec+dut1+facc=dut1.acc -f mylearn.acc</p>
<p class="p">This generates a unified .acc file for the PDU.</p>
</div></li>
<li class="li step stepexpand" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__id870485a6-6277-471b-b6f2-97370cca6573"><span class="ph cmd">Create a PDU for dut1 that
references the visibility requirements generated in Step 3:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt -pdu -o dut1_pdu dut1 -f dut1.acc</p>
</div></li>
<li class="li step stepexpand" id="idfaf686c1-d32b-481d-b646-fd179b258ca2__id2198f769-b1b6-409f-a6aa-1b027db9a68c"><span class="ph cmd">Optimize the top-level design.</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt -o top_opt top</p>
<p class="p">If step 2 was run, you may want to include <span class="ph FontProperty emphasis">mylearn.acc</span> for
any visibility requirement outside dut1</p>
<p class="lines ApplCommand">vopt -o top_opt top -f mylearn.acc</p>
</div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PreoptimizingRegionsYourDesign_idb52a229b.html" title="A Preoptimized Design Unit (PDU) is a region of your design that you can identify for a one-time optimization by using the -pdu argument of the vopt command. You can then reuse the PDU and exclude it from being optimized. This reduces the amount of time for future optimization and simulation runs by preoptimizing (black-boxing) static or unchanging regions of your design.">Preoptimizing Regions of Your Design</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Extracting Visibility Requirements for PDUs"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ExtractingVisibilityRequirementsPdus_idfaf686c1.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>