<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Debugging Source-Level Code" />
<meta name="abstract" content="In order to debug your SystemC source code, you must compile the design for debug using the ‑g C++ compiler option." />
<meta name="description" content="In order to debug your SystemC source code, you must compile the design for debug using the ‑g C++ compiler option." />
<meta name="DC.subject" content="source-level debug, SystemC, enabling" />
<meta name="keywords" content="source-level debug, SystemC, enabling" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id136d32bb-21f0-45e2-a1c1-c7145e268d6e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Debugging Source-Level Code</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Debugging Source-Level Code" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id136d32bb-21f0-45e2-a1c1-c7145e268d6e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Debugging Source-Level Code</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">In order
to debug your SystemC source code, you must compile the design for
debug using the ‑g C++ compiler option.</span>
</div>
<p class="p">You
can add this option directly to the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'sccom', 'questa_sim_ref'); return false;">sccom</a> command
line on a per run basis, with a command such as:</p>
<p class="lines ApplCommand">sccom mytop -g</p>
<p class="p">Or, if you plan to use it every time you run
the compiler, you can specify it in the <span class="ph filepath">modelsim.ini</span> file
with the <a class="xref fm:HeadingOnly" href="Command_Cppoptions_id3d91c77c.html#id3d91c77c-e459-4070-8d75-7ee4ff2e03aa__Command_Cppoptions_id3d91c77c.xml#id3d91c77c-e459-4070-8d75-7ee4ff2e03aa" title="This variable adds any specified C++ compiler options to the sccom command line at the time of invocation.">CppOptions</a> variable. See the <a class="xref fm:HeadingOnly" href="MGCAppe_ModelsimIniVariables_id074e042a.html#id074e042a-3efa-4437-bacc-37844845a06b__MGCAppe_ModelsimIniVariables_id074e042a.xml#id074e042a-3efa-4437-bacc-37844845a06b" title="The modelsim.ini file is the default initialization file and contains control variables that specify reference library paths, optimization, compiler and simulator settings, and various other functions. This chapter covers the contents and modification of the modelsim.ini file.">modelsim.ini Variables</a> for more information.</p>
<p class="p">The source code debugger, <a class="xref fm:HeadingOnly" href="MGCChap_CDebug_id09ef9fb0.html#id09ef9fb0-0633-41f8-b251-328216a113d1__MGCChap_CDebug_id09ef9fb0.xml#id09ef9fb0-0633-41f8-b251-328216a113d1" title="C Debug allows you to interactively debug FLI/PLI/VPI/DPI/SystemC/C/C++ source code with the GNU Debugger (gdb), which is open‑source debugging software.">C Debug</a>, is automatically invoked when
the design is compiled for debug in this way.</p>
<p class="p"><a class="xref fm:Figure" href="#id136d32bb-21f0-45e2-a1c1-c7145e268d6e__idec9c90f2-2689-49a0-a96d-46bf029285af">Figure 1</a> shows an example of how
to set breakpoints in a Source window (Line 59) and single-step
through your SystemC/C++ source code. </p>
<div class="fig fignone" id="id136d32bb-21f0-45e2-a1c1-c7145e268d6e__idec9c90f2-2689-49a0-a96d-46bf029285af"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Breakpoint in SystemC Source</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/sysC_breakpoint.gif" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">To disallow source
annotation, use the -nodbgsym argument for the sccom command. This
disables the generation of symbols for the debugging database in
the library. </p>
</div>
<div class="section Subsections"><div class="section Subsection" id="id136d32bb-21f0-45e2-a1c1-c7145e268d6e__id49544006-32f7-4352-af01-a9ba713c7900"><h2 class="title Subheading sectiontitle">Stepping Out From OSCI Library Functions</h2><p class="p">When you are using C Debug to single-step through
the SystemC code, you may find that stepping through the code often
ends up going inside SystemC library routines. This can be a distraction
from debugging your actual code. </p>
<p class="p">By default, auto-stepping out of the library
for debugging is enabled, which means stepping into the library
is not allowed (<a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'cdbg', 'questa_sim_ref'); return false;">cdbg allow_lib_step off</a>). So, if you step into a library function,
execution will automatically return to your code.</p>
<p class="p">You can use the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'cdbg', 'questa_sim_ref'); return false;">cdbg</a> command
to disable this behavior: </p>
<p class="lines ApplCommand">cdbg allow_lib_step on </p>
<p class="p">Now, execution will not automatically step
out from library functions, but it will step into the library code.</p>
<p class="p">The allow_lib_step argument to the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'cdbg', 'questa_sim_ref'); return false;">cdbg</a> command
takes a value of "on" or "off." </p>
<p class="p">You can also perform this
action in the GUI by selecting <span class="ph menucascade"><span class="ph uicontrol">Tools</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">CDebug</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Allow lib step</span></span> from
the menus (<a class="xref fm:Figure" href="#id136d32bb-21f0-45e2-a1c1-c7145e268d6e__idd3c9c3df-c042-42f2-bd41-6c65a9860252">Figure 2</a>).</p>
<div class="fig fignone" id="id136d32bb-21f0-45e2-a1c1-c7145e268d6e__idd3c9c3df-c042-42f2-bd41-6c65a9860252"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Setting the Allow lib step Function</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/cdebug_allowlibstep.gif" /></div><br /></div>
<p class="p">For example, assume that the debugger has stepped
to a library function call. If this were the only library function
call in the current line, execution would go the next line in your
code (there would be no need for the “step out” action). However,
if there are more function calls in the current line, execution
comes back to the same line, and the next 'step -over' operation
goes to the next line in your code. So the debugging operation always
stays in your code, regardless of where it steps. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DebuggingDesign_id09aaf3d3.html" title="You can debug SystemC designs using all the debugging features of Questa SIM, with the exception of the Dataflow and Schematic windows. You must have compiled the design using the sccom -g argument in order to debug the SystemC objects in your design.">Debugging the Design</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Debugging Source-Level Code"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DebuggingSourceLevelCode_id136d32bb.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>