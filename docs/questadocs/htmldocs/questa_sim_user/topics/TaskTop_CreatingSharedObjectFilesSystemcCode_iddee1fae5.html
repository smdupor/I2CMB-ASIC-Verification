<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Creating Shared Object Files for SystemC Code" />
<meta name="abstract" content="The simulator has the ability to create intermediate shared object files for SystemC. These intermediate shared object files can then be linked together to create the final shared object file for simulation use." />
<meta name="description" content="The simulator has the ability to create intermediate shared object files for SystemC. These intermediate shared object files can then be linked together to create the final shared object file for simulation use." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Creating Shared Object Files for SystemC Code</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Creating Shared Object Files for SystemC Code" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Creating Shared Object Files for SystemC Code</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The simulator
has the ability to create intermediate shared object files for SystemC.
These intermediate shared object files can then be linked together
to create the final shared object file for simulation use.</p>
<p class="p">This method of managing can reduce both disk
space and linking time for large SystemC environments. </p>
<p class="p">Consider the following scenario: There is a common SystemC file
– <span class="ph FontProperty emphasis">common.cpp</span> –
that is used in all tests. There are also test-specific SystemC
files – <span class="ph filepath">test1.cpp</span>, <span class="ph filepath">test2.cpp</span>,
and so on. The following example procedure shows how to manage the
tests and common code.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id50246cb0-437e-46b0-9d29-fb621866d8de"><p class="p">Must
be running <span class="ph fmvar:ProductName">Questa SIM</span> 6.6a
or higher.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id402ab2e5-382f-4887-a32e-9ad8b06f68a9"><span class="ph cmd">Create a library for your
intermediate shared object:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlib common</p>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__idb480ef35-3c2b-4b75-8433-40c3defb9582"><span class="ph cmd">Compile all common SystemC
files into this library:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">sccom -work common common.cpp</p>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id1a45d798-a534-498c-a04d-04850f02f142"><span class="ph cmd">Link the files to create an
intermediate shared object: </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">sccom -linkshared -work common</p>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id17fdb2cf-b9ce-4bf6-b304-9b2fe0f9324a"><span class="ph cmd">Create a library for your
SystemC test code:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlib test1</p>
<p class="lines ApplCommand">vlib test2</p>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id01099d9f-2b85-4cf5-9f47-f12d9f859b87"><span class="ph cmd">Compile the test-specific
code into each library:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">sccom -work test1 test1.cpp</p>
<p class="lines ApplCommand">sccom -work test2 test2.cpp</p>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id300c4bde-6591-42c3-9a96-41af581fbb88"><span class="ph cmd">Link the test specific object
files with the shared object in each of the test libraries:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">sccom -link -libshared common -work test1</p>
<p class="lines ApplCommand">sccom -link -libshared common -work test2</p>
<ul class="ul"><li class="li" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id94cb24d8-bcd3-499e-bb24-dab5afa588b8"><p class="p">-libshared
specifies the location of the intermediate shared object</p>
</li>
<li class="li" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__id259d69b3-bf48-4bd5-b250-a7305c5b16ad"><p class="p">-work specifies
the location of the final systemc.so</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="iddee1fae5-114c-4b15-bc9c-bda4f546c9d8__idc41d0211-3283-489b-abb1-e74d70f5dd8a"><span class="ph cmd">Run the tests:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt -work test1 top -o opt</p>
<p class="lines ApplCommand">vsim -lib test1 opt</p>
<p class="lines ApplCommand">vopt -work test2 top -o opt</p>
<p class="lines ApplCommand">vsim -lib test2 opt</p>
</div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_SystemcSimulation_id0a80723e.html" title="This chapter describes how to compile and simulate SystemC designs with the Questa SIM simulator. The simulator implements the SystemC language based on the Open SystemC Initiative (OSCI) proof-of-concept SystemC simulator. The default supported version of SystemC is the IEEE 1666-2011 standard, SystemC-2.3.2. Release 2.3.2 of SystemC includes Release 2.0.3 of Transaction Level Modeling (TLM) code. It is recommended that you obtain the OSCI functional specification or the latest version of the IEEE Std 1666-2011, IEEE Standard SystemC Language Reference Manual.">SystemC Simulation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Creating Shared Object Files for SystemC Code"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CreatingSharedObjectFilesSystemcCode_iddee1fae5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>