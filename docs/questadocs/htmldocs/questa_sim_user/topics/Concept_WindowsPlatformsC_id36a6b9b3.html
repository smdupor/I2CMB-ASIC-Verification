<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Windows Platforms — C" />
<meta name="abstract" content="Windows platforms for C are supported for Microsoft Visual Studio and MinGW." />
<meta name="description" content="Windows platforms for C are supported for Microsoft Visual Studio and MinGW." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id36a6b9b3-6658-4239-8c2c-7a76714e7222" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Windows Platforms — C</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Windows Platforms — C" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id36a6b9b3-6658-4239-8c2c-7a76714e7222">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Windows Platforms
— C</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Windows platforms
for C are supported for Microsoft Visual Studio and MinGW.</span>
</div>
<ul class="ul"><li class="li" id="id36a6b9b3-6658-4239-8c2c-7a76714e7222__ida9a77e85-ff8c-406c-a6ca-4fc59c75e4fa"><p class="p">Microsoft Visual Studio 2013 </p>
<p class="p">Refer to “<a class="xref Link" href="../../questa_sim_install/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Creating dll or exe Files using Compiled lib Files on Windows Platforms', 'questa_sim_install'); return false;">Creating .dll or .exe Files using Compiled .lib files on Windows Platforms</a>”
in the <cite class="cite">Installation and Licensing Guide</cite> for information
on using Microsoft Visual Studio 2013.</p>
<p class="p">For 32-bit:</p>
<pre class="pre codeblock"><code>cl -c -I&lt;install_dir&gt;\<span class="ph fmvar:InstallDir">questasim</span>\include app.c
link -dll -export:&lt;init_function&gt; app.obj &lt;install_dir&gt;\win32\mtipli.lib -out:app.dll</code></pre><p class="p">For 64-bit:</p>
<pre class="pre codeblock"><code>cl -c -I&lt;install_dir&gt;\<span class="ph fmvar:InstallDir">questasim</span>\include app.c
link -dll -export:&lt;init_function&gt; app.obj &lt;install_dir&gt;\win64\mtipli.lib -out:app.dll</code></pre><p class="p">For the Verilog PLI, the &lt;init_function&gt;
should be "init_usertfs". Alternatively, if there is no init_usertfs
function, the &lt;init_function&gt; specified on the command line should
be "veriusertfs". </p>
<p class="p">For the Verilog VPI, the &lt;init_function&gt;
should be "vlog_startup_routines". These requirements ensure that
the appropriate symbol is exported, and thus <span class="ph fmvar:ProductName">Questa SIM</span> can find the symbol when it dynamically
loads the DLL.</p>
<p class="p">If you need to run the profiler (see <a class="xref fm:HeadingOnly" href="MGCChap_PerformanceProfiling_idef53009a.html#idef53009a-7335-4c12-9d5b-359a3b97632c__MGCChap_PerformanceProfiling_idef53009a.xml#idef53009a-7335-4c12-9d5b-359a3b97632c" title="The Questa SIM statistical sampling profiler provides instance specific execution so you can easily identify areas in your simulation where performance can be improved. The profiler can be used at all levels of design simulation—Functional, RTL, and Gate‑Level—and has the potential to save hours of regression test time. In addition, ASIC and FPGA design flows benefit from the use of this tool.">Performance Profiling</a>) on a design that contains interface
code, add these two switches to the link commands shown above:</p>
<pre class="pre codeblock"><code>/DEBUG /DEBUGTYPE:COFF</code></pre><p class="p">These switches add symbols to the <span class="ph filepath">.dll</span> that
the profiler can use in its report.</p>
<p class="p">If you have Cygwin installed, make sure that
the Cygwin <span class="ph filepath">link.exe</span> executable is not in your
search path ahead of the Microsoft Visual Studio 2013 <span class="ph filepath">link</span> executable.
If you mistakenly bind your dll's with the Cygwin <span class="ph filepath">link.exe</span> executable,
the <span class="ph filepath">.dll</span> will not function properly. It may
be best to rename or remove the Cygwin <span class="ph filepath">link.exe</span> file
to permanently avoid this scenario. </p>
</li>
<li class="li" id="id36a6b9b3-6658-4239-8c2c-7a76714e7222__idb653942e-34c4-416e-82e8-57495a847527"><p class="p">MinGW </p>
<p class="p">For 32-bit:</p>
<pre class="pre codeblock"><code>gcc -c -I&lt;install_dir&gt;\include app.c
gcc -shared -Bsymbolic -o app.dll app.o -L&lt;install_dir&gt;\win32 
-lmtipli</code></pre><p class="p">The <span class="ph fmvar:ProductName">Questa SIM</span> tool
requires the use of the MinGW gcc compiler rather than the Cygwin
gcc compiler. Remember to add the path to your gcc executable in
the Windows environment variables.</p>
<p class="p">Refer to <a class="xref Link" href="../../questa_sim_install/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'SystemC Supported Platforms', 'questa_sim_install'); return false;">SystemC Supported Platforms</a> in the <cite class="cite">Installation and Licensing
Guide</cite> for more information. </p>
<p class="p">For 64-bit:</p>
<pre class="pre codeblock"><code>gcc -c -I&lt;install_dir&gt;\include app.c
gcc -shared -Bsymbolic -o app.dll app.o -L&lt;install_dir&gt;\win64 
-lmtipli</code></pre><p class="p">SystemC is not supported on Windows 64-bit.
However, the gcc-4.5.0-mingw64 compiler is shipped along with QuestaSim
to enable users compile their C-interfaces source files with mingw-gcc.
The C Debug feature is not supported with this compiler. </p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CompilingLinkingCApplicationsInterfaces_idd933c82e.html" title="The following platform-specific instructions show you how to compile and link your HDL interface C applications so that they can be loaded by Questa SIM. Various native C/C++ compilers are supported on different platforms. The gcc compiler is supported on all platforms.">Compiling and Linking C Applications for Interfaces</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Windows Platforms — C"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_WindowsPlatformsC_id36a6b9b3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>