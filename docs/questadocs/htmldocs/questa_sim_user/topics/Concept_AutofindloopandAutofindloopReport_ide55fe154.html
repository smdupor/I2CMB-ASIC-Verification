<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Autofindloop and the Autofindloop Report" />
<meta name="abstract" content="When a simulation enters a zero delay loop, and the iteration count exceeds the iteration limit setting, autofindloop (vsim –autofindloop) attempts to detect the loop and to create a report describing it. When possible, the report identifies the active processes and event and signal activity." />
<meta name="description" content="When a simulation enters a zero delay loop, and the iteration count exceeds the iteration limit setting, autofindloop (vsim –autofindloop) attempts to detect the loop and to create a report describing it. When possible, the report identifies the active processes and event and signal activity." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide55fe154-5c3a-4773-ac62-c5c373c9ada0" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Autofindloop and the Autofindloop Report</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Autofindloop and the Autofindloop Report" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Autofindloop
and the Autofindloop Report</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">When a simulation
enters a zero delay loop, and the iteration count exceeds the iteration
limit setting, autofindloop (vsim –autofindloop) attempts to detect the
loop and to create a report describing it. When possible, the report
identifies the active processes and event and signal activity. </span>
</div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">QIS is the preferred
method to use when optimizing designs with vopt for debug/visibility
purposes. Refer to “<a class="xref fm:HeadingAndPage" href="Concept_QuestaDumpingAndVisibility_id71148e4b.html#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23__Concept_QuestaDumpingAndVisibility_id71148e4b.xml#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23" title="QIS in the tool enables full vopt simulations while providing debug or visibility capabilities.">Questa Dumping and Visibility</a>” for complete details. </p>
</div>
<p class="p">Design content, optimization, and design visibility
can have an impact on the content and detail of the reported results.
For behavioral designs, the best practice is to preserve line numbers
with +acc=l. For gate-level designs, having net visibility can provide
additional information allowing primitive process drivers to be
identified.</p>
<p class="p">The autofindloop feature is implemented in the simulation kernel.
It has no overhead associated with it until it reaches the iteration
limit. Exceeding the limit causes a process trace to be performed
until either the loop is identified, the simulation escapes the
execution loop, or a findloop step limit is exceeded. You can modify
the default findloop step limit of 500 by setting the MTI_FINDLOOP_STEP_LIMIT
environment variable before invoking vsim.</p>
<p class="p">The autofindloop report includes the following information:</p>
<ul class="ul"><li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id2e6a697d-659c-4c70-be51-9fa716ff9645"><p class="p">Active
processes – Processes activated for evaluation.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id7b4f7bdf-5881-426f-b67f-5dc22af18156"><p class="p">Wakeup Events
– Events scheduled with a distributed delay.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__idc003c7b0-ca5f-4322-b87d-0704254a7912"><p class="p">Wakeup Event
Master Processes – Active processes that are members of a wakeup
activation block.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__idfd6101b5-1d46-4093-ade2-710a06be6e00"><p class="p">Signal activity:</p>
<ul class="ul"><li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id0b24d2a2-42a6-427e-8c66-c303bc1c3953"><p class="p">Driving
nets – Nets that are driven by an associated process.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id652a50c5-eb66-4755-b499-26e6cd874362"><p class="p">Signal – Nets
that are activated due to a value change during loop execution.</p>
</li>
</ul>
</li>
</ul>
<p class="p">Wakeup events that appear in the zero delay loop are zero delay
events. Any non-zero delay event that appears in the loop output
is denoted as special, and terminates the loop analysis. This action
indicates that the simulation iteration limit is not large enough
for the design.</p>
<p class="p">The report uses indentation to associate information for display
with the active processes. An indented block can include the source
file, the line number, and the driving nets.The report also uses
indentation to indicate the importance of loop activity; events
and processes appear leftmost in the output, and signal activity
is indented further to denote reduced importance.</p>
<p class="p">The autofindloop feature has some limitations, including:</p>
<ul class="ul"><li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id6389ac0f-efa8-4686-9962-3cd7eecd929a"><p class="p">Vopt optimizations
can affect the quality of the autofindloop output.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__idbbe33a73-5874-4ae6-b014-27ff2e5548fb"><p class="p">There is no
causality tracing to refine the reported loop activity.</p>
</li>
<li class="li" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id37a71516-5237-4b34-9384-8a44a8539f6a"><p class="p">autofindloop
does not require or use a generated QFD debug database.</p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="ide55fe154-5c3a-4773-ac62-c5c373c9ada0__id4ddf2b8c-3cd5-4b4e-8184-1c739dfe0c0d"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">The following design has a zero delay loop
which is caused by Tvco_4 having an initial value of 0:</p>
<pre class="pre codeblock leveled"><code>1 `timescale 1 ps / 1 ps
2 
3 module top;
4 
5 wire o;
6 reg some_clk, clk2;
7 real Tvco_4 = 1 / 4;
8 
9 initial begin
10  $monitor ($time, " : %b %g", o , Tvco_4);
11  #0 clk2 = 0;
12  #10 some_clk = 0;
13  end
14 
15 dut d1(clk2, o );
16 always @ (clk2)
17  #(Tvco_4) some_clk = clk2;
18 
19 always @ (some_clk)
20  #(Tvco_4) clk2 = ~clk2;
21 
22 endmodule
23 
24 module dut (input i, output y);
25 
26 mycell u1 (i, y);
27 
28 endmodule
29 
30 module mycell (input i, output o);
31 
32 buf b (o, i);
33 
34 endmodule</code></pre><p class="p">The following report shows the autofindloop
output for this design when simulated with full visibility (+acc).
Note that this output optimizes the dut and u1 instances into a
continuous assignment, and denotes the implicit wire connection
to clk2. The process associated with $monitor is not activated,
because of its lower priority and the activation mechanism used
by unoptimized system tasks:</p>
<pre class="pre codeblock"><code>############# Autofindloop Analysis ###############
############# Loop found at time 0 ns ###############
# Active process: /top/#ALWAYS#19 @ sub-iteration 0
#  Source: test.v:19
# Wakeup process: /top/#ALWAYS#19 @ sub-iteration 1
#  Source: test.v:19
# Active process: /top/#IMPLICIT-WIRE(clk2)#15 @ sub-iteration 2
#  Source: test.v:15
# Wakeup process: /top/#ALWAYS#16 @ sub-iteration 3
#  Source: test.v:16
# Active process: /top/#ALWAYS#19 @ sub-iteration 4
#  Source: test.v:19
################# END OF LOOP #################
# ** Error (suppressible): (vsim-3601) Iteration limit 10000000 reached at time 0 ns.</code></pre><p class="p">The following report shows the autofindloop output for the same
design, with optimizations and  preserved line numbers (+acc=l).
Native code optimizations implement the $monitor system task in
this case. Also, optimizations cause the native code implementation
of the dut and u1 instances, and the use of wakeup events arrays
for process delays:</p>
<pre class="pre codeblock"><code>############# Autofindloop Analysis ###############
############# Loop found at time 0 ns ###############
# Active process: /top/#ALWAYS#19 @ sub-iteration 0
#  Source: test.v:19
# Wakeup Event Array : @ sub-iteration 1
#  Member process: /top/#ALWAYS#19 @ sub-iteration 1
#   Source: test.v:19
# Active process: /top/#ALWAYS#16 @ sub-iteration 2
#  Source: test.v:16
# Active process: Native Verilog Function @ sub-iteration 2
#  Source: test.v:10
# Wakeup process: Native Verilog Function @ sub-iteration 3
#  Source: test.v:0
# Wakeup Event Array : @ sub-iteration 3
#  Member process: /top/#ALWAYS#16 @ sub-iteration 3
#   Source: test.v:16
# Active process: /top/#ALWAYS#19 @ sub-iteration 4
#  Source: test.v:19
################# END OF LOOP #################
# ** Error (suppressible): (vsim-3601) Iteration limit 10000000 reached at time 0 ns.</code></pre><p class="p">The following report shows the autofindloop output for the same
design fully optimized (no acc settings).</p>
<pre class="pre codeblock"><code>############# Autofindloop Analysis ###############
############# Loop found at time 0 ns ###############
# Active process: Native Verilog @ sub-iteration 0
#  Source: test.v:0
# Wakeup Event Array : @ sub-iteration 1
#  Member process: Native Verilog @ sub-iteration 1
#   Source: test.v:0
# Active process: Native Verilog @ sub-iteration 2
#  Source: test.v:0
# Active process: Native Verilog Function @ sub-iteration 2
#  Source: test.v:0
# Wakeup process: Native Verilog Function @ sub-iteration 3
#  Source: test.v:0
# Wakeup Event Array : @ sub-iteration 3
# Member process: Native Verilog @ sub-iteration 3
#  Source: test.v:0
# Active process: Native Verilog @ sub-iteration 4
#  Source: test.v:0
################# END OF LOOP #################
# ** Error (suppressible): (vsim-3601) Iteration limit 10000000 reached at time 0 ns.</code></pre><p class="p">The following portion of a report shows the autofindloop output
for a gate-level design with net and line visibility (+acc=nl).
In the case of gate-level designs, active processes can map to gate
primitive instances. Net visibility then provides driving net names
and values, and also provides additional signal activity to offer
additional context to the loop activity:</p>
<pre class="pre codeblock"><code># Active process: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/ms_imqb @ sub-iteration 2
#  Source: f.v:102
#  Driving net: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/mq_b to St1
# Active process: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/ms_imqb @ sub-iteration 3
#  Source: f.v:102
#  Driving net: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/mq_b to St1
#   Signal: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/q_b @ sub-iteration 3 at Value St1 (f.v:17)
#   Signal: /MBIST_uSRAM_tb/E1/u0/iaddra_0_/mq_b @ sub-iteration 3 at Value St1 (f.v:17)</code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">Line number information for gate primitives currently references
their parent instance.</p>
</div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_VerilogSystemverilogSimulation_ide0ef3c7a.html" title="Introduction to the process of compiling and simulating Verilog and SystemVerilog designs with Questa SIM.">Verilog and SystemVerilog Simulation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Autofindloop and the Autofindloop Report"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_AutofindloopandAutofindloopReport_ide55fe154.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>