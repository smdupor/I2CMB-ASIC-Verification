<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Approximating Metastability" />
<meta name="abstract" content="The ability to approximate metastability for Verilog gate-level designs is useful for simulating synchronizer flops used to synchronize inputs from one clock domain to another, and allows a known random state to be latched when timing between domains is violated." />
<meta name="description" content="The ability to approximate metastability for Verilog gate-level designs is useful for simulating synchronizer flops used to synchronize inputs from one clock domain to another, and allows a known random state to be latched when timing between domains is violated." />
<meta name="DC.subject" content="Metastability, approximating for Verilog, Verilog, approximating metastability, Gate-level, metastability" />
<meta name="keywords" content="Metastability, approximating for Verilog, Verilog, approximating metastability, Gate-level, metastability" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id49fd6cde-056a-4590-8189-fb8bb9a38f34" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Approximating Metastability</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Approximating Metastability" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id49fd6cde-056a-4590-8189-fb8bb9a38f34">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Approximating Metastability</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The ability
to approximate metastability for Verilog gate-level designs is useful
for simulating synchronizer flops used to synchronize inputs from
one clock domain to another, and allows a known random state to
be latched when timing between domains is violated. </span>
</div>
<p class="p">Without this feature, you need
to selectively use a version of the cell that does not generate unknowns
from timing check violations, or disable/force notifiers to override
the timing check violation toggle that introduced unknown states
into the circuit.</p>
<p class="p">Standard timing simulation Verilog cells have
timing checks with notifier registers. The notifier registers are
inputs to user defined primitives (UDPs), which are coded to generate
an unknown output state when the notifier input changes.</p>
<p class="p">During standard simulation, a timing check
violation generates a violation message and the notifier register
value is toggled. The notifier register change causes an evaluation
of the UDP which generates an unknown state.</p>
<p class="p">During metastable approximation the timing
check operates as normal. When a timing check violation occurs,
the notifier is toggled and the UDP is evaluated in a manner to
approximate metastability. The metastable UDP evaluation does not
generate an unknown state, but rather a random 1 or 0 logic state.</p>
<p class="p">The metastability feature is implemented accepting
a standard Verilog UDP description and interpreting it in a non-standard
manner as follows.</p>
<div class="section Subsections"><div class="section Subsection" id="id49fd6cde-056a-4590-8189-fb8bb9a38f34__idb4fdc762-0bec-4879-bd2b-54973607ddeb"><h2 class="title Subheading sectiontitle">Standard UDP definition
for a notifier evaluation:</h2><pre class="pre codeblock"><code>table
// clk   d    r  notif  : state :  next_state
    ?    ?    ?    *        ?          x;</code></pre></div>
<div class="section Subsection" id="id49fd6cde-056a-4590-8189-fb8bb9a38f34__idcd80ef99-9bd6-449b-8632-5a1fe9db67f2"><h2 class="title Subheading sectiontitle">Metastable Approximation
(non-standard Verilog):</h2><pre class="pre codeblock"><code>table
// clk   d    r  notif  : state :  next_state
    ?    ?    ?    *        ?          b;</code></pre><p class="p">where b is randomly generated 0 or 1 state
from a specified seed.</p>
</div>
<div class="section Subsection" id="id49fd6cde-056a-4590-8189-fb8bb9a38f34__id02f6ac24-412a-4752-aa0e-72c7c78e4f67"><h2 class="title Subheading sectiontitle">Usage</h2><p class="p">To allow metastable approximation
simulation, Verilog cells must be optimized (<a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a> command)
with the proper optimization visibility.</p>
<ul class="ul"><li class="li" id="id49fd6cde-056a-4590-8189-fb8bb9a38f34__idad8ad699-4cbe-43f4-bc69-4b6cee1c90c4"><p class="p"><span class="keyword ParameterName Required">-randmetastable[+&lt;subopt&gt;[+&lt;subopt&gt;]]</span> —
provides the necessary visibility to allow metastability simulation
of select Verilog cells.</p>
</li>
</ul>
<p class="p">To enable the metastable approximation during
simulation, the following simulator command line option (<a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> command)
must be specified:</p>
<ul class="ul"><li class="li" id="id49fd6cde-056a-4590-8189-fb8bb9a38f34__idf9c965e8-68a1-4198-9ae0-2c49a7351e1f"><p class="p"><span class="keyword ParameterName Required">+notiftoggle01[+&lt;seed&gt;] </span> —
uses the metastable UDP evaluation of enabled cells in simulation.
Default seed value is 0.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CellLibraries_idc8098903.html" title="Many ASIC and FPGA vendors’ Verilog cell libraries are compatible with Questa SIM Verilog.">Cell Libraries</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Approximating Metastability"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ApproximatingMetastability_id49fd6cde.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>