<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Checkpoint and Restore in a SystemC Design" />
<meta name="abstract" content="Generally, if a design contains one or more SystemC modules, the checkpoint and restore feature is disabled for the entire design. However, with some SystemC modules, you can use the ‑scchkpntrestore argument of the vsim command to allow checkpoint and restore." />
<meta name="description" content="Generally, if a design contains one or more SystemC modules, the checkpoint and restore feature is disabled for the entire design. However, with some SystemC modules, you can use the ‑scchkpntrestore argument of the vsim command to allow checkpoint and restore." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id27d98228-52af-40b6-b797-a13035dffc7a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Checkpoint and Restore in a SystemC Design</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Checkpoint and Restore in a SystemC Design" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id27d98228-52af-40b6-b797-a13035dffc7a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Checkpoint and Restore in a SystemC Design</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">Generally,
if a design contains one or more SystemC modules, the checkpoint
and restore feature is disabled for the entire design. However,
with some SystemC modules, you can use the ‑scchkpntrestore argument
of the vsim command to allow checkpoint and restore.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id27d98228-52af-40b6-b797-a13035dffc7a__ida0d4acef-885d-4c2a-8963-60aefbfb8134"><p class="p">In most occurrences of SystemC in a mixed-language
design, the checkpoint and restore feature is disabled for the entire
design. However, if the SystemC hierarchy is dummy wrapper without
any active constructs (such as signals, variables, or processes),
you can use vsim -scchkpntrestore to allow checkpoint and restore
on the design. </p>
<p class="p">If you use use vsim -scchkpntrestore on a design
that has active SystemC regions, <span class="ph fmvar:ProductName">Questa SIM</span> will
issue one or more warning messages to indicate that allowing checkpoint
and restore is not expected usage—<span class="ph fmvar:ProductName">Questa SIM</span> will try
to ignore unsupported usage and proceed with simulation. For example: </p>
<pre class="pre codeblock"><code># ** Warning: (vsim-6699) SystemC checkpoint/restore flow does not allow sc_event: '/top/dut/myevent' in the design. If 'sc_events(s)' are actively used by the design, then design may not simulate correctly.</code></pre><pre class="pre codeblock"><code># ** Warning: (vsim-6699) SystemC checkpoint/restore flow does not allow variable: '/top/dut/myvar' in the design. If 'variable(s)' are actively used by the design, then design may not simulate correctly. </code></pre><p class="p">However, if the usage cannot be ignored (SystemC
processes are present), <span class="ph fmvar:ProductName">Questa SIM</span> will
produce a fatal runtime error. For example:</p>
<pre class="pre codeblock"><code># ** Warning: (vsim-6699) SystemC checkpoint/restore flow does not allow 
# SC_THREAD/SC_CTHREAD: '/top/dut/main_action' in the design. 
# If 'SC_THREAD(s)/SC_CTHREAD(s)' are actively used by the design, 
# then design may not simulate correctly.

# ** Fatal: (vsim-6604) unable to create process /top/dut/main_action
# ** Fatal: Fatal SystemC error detected, exiting...&lt;
# Time: 0 ns Iteration: 0 Instance: /top/dut File: src/sc_args/test.h
# FATAL ERROR while loading design
# Error loading design</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_UsageFlowSystemcOnlyDesigns_id775912ba.html" title="Questa SIM allows users to simulate SystemC, either alone or in combination with other VHDL/Verilog modules.">Usage Flow for SystemC-Only Designs</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Checkpoint and Restore in a SystemC Design"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_CheckpointAndRestoreInASystemcDesign_id27d98228.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>