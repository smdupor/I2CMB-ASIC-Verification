<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Differences Between the Simulator and OSCI" />
<meta name="abstract" content="Questa SIM is based upon the OSCI proof-of-concept SystemC simulator. However, there are some minor but key differences to be aware of." />
<meta name="description" content="Questa SIM is based upon the OSCI proof-of-concept SystemC simulator. However, there are some minor but key differences to be aware of." />
<meta name="DC.subject" content="vsim, differences with OSCI simulator, simulator, difference from OSCI, OSCI simulator, differences with vsim" />
<meta name="keywords" content="vsim, differences with OSCI simulator, simulator, difference from OSCI, OSCI simulator, differences with vsim" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id789bca99-10e3-47d4-8bec-86c11a256a54" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Differences Between the Simulator and OSCI</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Differences Between the Simulator and OSCI" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id789bca99-10e3-47d4-8bec-86c11a256a54">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Differences Between the Simulator and OSCI</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc"><span class="ph fmvar:ProductName">Questa SIM</span> is based upon the OSCI proof-of-concept
SystemC simulator. However, there are some minor but key differences
to be aware of.</span>
</div>
<ul class="ul"><li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__id00aeef43-f798-47e6-90ac-4563ffefc172"><p class="p">The default time resolution of the simulator
is 1ps. For vsim it is 1ns. You can change the value for time resolution
by using the vsim command with the<span class="ph FontProperty HeadingLabel"> -t</span> option
or by modifying the value of the <a class="xref fm:HeadingOnly" href="Command_Resolution_idd6eb8585.html#idd6eb8585-e2b2-4381-973a-a9363b42ad3b__Command_Resolution_idd6eb8585.xml#idd6eb8585-e2b2-4381-973a-a9363b42ad3b" title="This variable specifies the simulator resolution. The argument must be less than or equal to the UserTimeUnit and must not contain a space between value and units.">Resolution</a> variable in the <span class="ph filepath">modelsim.ini</span> file.</p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__idfbb5359c-3b96-4ed6-bec3-ada5d40c96b6"><p class="p">The run command in <span class="ph fmvar:ProductName">Questa SIM</span> is equivalent to <span class="ph FontProperty HeadingLabel">sc_start()</span>.
In the SystemC simulator, <span class="ph FontProperty HeadingLabel">sc_start()</span> runs
the simulation for the duration of time specified by its argument.
In <span class="ph fmvar:ProductName">Questa SIM</span> the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'run', 'questa_sim_ref'); return false;">run</a> command
runs the simulation for the amount of time specified by its argument.</p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__idc2bcdd4b-f3a6-43f3-9df5-9d05110849af"><p class="p">The <span class="ph FontProperty HeadingLabel">sc_cycle()</span>,
and <span class="ph FontProperty HeadingLabel">sc_start()</span> functions
are not supported in <span class="ph fmvar:ProductName">Questa SIM</span>.</p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__id27a4eb10-ee82-400f-9866-91971d8162c9"><p class="p">The default name for <span class="ph FontProperty HeadingLabel">sc_object()</span> is bound
to the actual C object name. However, this name binding only occurs
after all <span class="ph FontProperty HeadingLabel">sc_object</span> constructors
are executed. As a result, any <span class="ph FontProperty HeadingLabel">name()</span> function
call placed inside a constructor will not pick up the actual C object
name. </p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__idac8b9f45-ee6b-43ac-b657-676d3ed9c156"><p class="p">The value returned by the <span class="ph FontProperty HeadingLabel">name()</span> method
prefixes OSCI-compliant hierarchical paths with "sc_main", which
is <span class="ph fmvar:ProductName">Questa SIM</span>'s implicit
SystemC root object. For example, for the following example code:</p>
<pre class="pre codeblock"><code>#include "systemc.h"

SC_MODULE(bloc)
{
	SC_CTOR(bloc) {} 
};

SC_MODULE(top)
{
	bloc b1 ;
	SC_CTOR(top) : b1("b1") { cout &lt;&lt; b1.name() &lt;&lt; endl ; }
};


int sc_main(int argc, char* argv[])
{
	top top_i("top_i");
	sc_start(0, SC_NS);
	return 0;
}

the OSCI returns: 
top_i.b1

and <span class="ph fmvar:ProductName">Questa SIM</span> returns:
sc_main.top_i.b1</code></pre></li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__iddb68c86e-1e90-4e02-803b-5cccd832ae86"><p class="p">With the IEEE 1666-2011 std, OSCI introduced
a new sc_starvation_policy SC_EXIT_ON_STARVATION. <span class="ph fmvar:ProductName">Questa SIM</span> does not support the SC_EXIT_ON_STARVATION_POLICY. <span class="ph fmvar:ProductName">Questa SIM</span> supports only the
SC_RUN_TO_TIME policy.</p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__idad8f8a3a-bee3-4851-9232-11caf4e069ac"><p class="p">With the IEEE 1666-2011 std, OSCI issues
a warning when sc_start is called with a zero-valued time argument,
the set of runnable processes is empty, the set of update requests
is empty, and the set of delta notifications and time-outs is empty. <span class="ph fmvar:ProductName">Questa SIM</span> does not issue
this warning.</p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id789bca99-10e3-47d4-8bec-86c11a256a54__id5d43c063-e68d-4cc2-8fd0-429c7653a947"><h2 class="title Subheading sectiontitle">Fixed-Point Types</h2><p class="p">Contrary
to OSCI, <span class="ph fmvar:ProductName">Questa SIM</span> compiles
the SystemC kernel with support for fixed-point types. If you want
to compile your own SystemC code to enable that support, you must
first define the compile time macro SC_INCLUDE_FX. </p>
<p class="p">You can do this in one of two ways: </p>
<ul class="ul"><li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__ida1e9acf7-0434-411d-87df-3c39378a97c9"><p class="p">Enter the g++/aCC argument -DSC_INCLUDE_FX
on the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'sccom', 'questa_sim_ref'); return false;">sccom</a> command
line, such as:</p>
<p class="lines ApplCommand">sccom -DSC_INCLUDE_FX top.cpp</p>
</li>
<li class="li" id="id789bca99-10e3-47d4-8bec-86c11a256a54__ida101f262-ddf8-49f9-9c4f-ac3882990eb2"><p class="p">Add a define statement to the C++ source
code before the inclusion of the <span class="ph filepath">systemc.h,</span> as
shown below:</p>
<p class="lines ApplCommand">#define SC_INCLUDE_FX<br />
#include "systemc.h"</p>
</li>
</ul>
<h2 class="title Subheading sectiontitle">Algorithmic C Datatype Support</h2><p class="p"><span class="ph fmvar:ProductName">Questa SIM</span> supports
native debug for the Algorithmic-C data types <span class="ph FontProperty HeadingLabel">ac_int</span> and <span class="ph FontProperty HeadingLabel">ac_fixed</span>.
The Algorithmic C data types are used in Catapult C Synthesis, a
tool that generates optimized RTL from algorithms written as sequential
ANSI-standard C/C++ specifications. These data types are synthesizable
and run faster than their SystemC counterparts sc_bigint, sc_biguint,
sc_fixed and sc_ufixed.</p>
<p class="p">To use these data types in the simulator, you
must obtain the datatype package and specify the path containing
the Algorithmic C header files with the -I argument on the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'sccom', 'questa_sim_ref'); return false;">sccom</a> command
line:</p>
<p class="lines ApplCommand">sccom -I &lt;path_to_AC_headers&gt; top.cpp</p>
<p class="p">To enable native debug support for these datatypes,
you must also specify the -DSC_INCLUDE_MTI_AC argument on the sccom
command line. </p>
<p class="lines ApplCommand">sccom -DSC_INCLUDE_MTI_AC -I &lt;path_to_AC_headers&gt; top.cpp</p>
<p class="p">Native debug is only supported for Version
1.2 and above. If you do not specify -DSC_INCLUDE_MTI_AC, the GUI
displays the C++ layout of the datatype classes.</p>
<h2 class="title Subheading sectiontitle">Support for cin</h2><p class="p">The <span class="ph fmvar:ProductName">Questa SIM</span> simulator
has a limited support for the C++ standard input cin.</p>
<p class="p">To enable support for cin, the design source
files must be compiled with -DUSE_MTI_CIN <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'sccom', 'questa_sim_ref'); return false;">sccom</a> option.
For example:</p>
<p class="lines ApplCommand">sccom -DUSE_MTI_CIN top.cpp</p>
<h2 class="title Subheading sectiontitle">Limitations</h2><p class="p"><span class="ph fmvar:ProductName">Questa SIM</span> does
not support cin when it is passed as a function parameter of type
istream. This is true for both C++ functions and member functions
of a user-defined class/struct. </p>
<p class="p">For example, the following cin usage is not
supported: </p>
<pre class="pre codeblock"><code>void getInput(istream&amp; is)
{
    int input_data;
    ...
    is &gt;&gt; input_data;
    ....

getinput(cin);</code></pre><p class="p">A workaround for this case, the source code
needs to be modified as shown below:</p>
<pre class="pre codeblock"><code>void getinput()
{
    int input_data;
    ...
    cin &gt;&gt; input_data;
    ..
}
getinput();</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_SystemcSimulation_id0a80723e.html" title="This chapter describes how to compile and simulate SystemC designs with the Questa SIM simulator. The simulator implements the SystemC language based on the Open SystemC Initiative (OSCI) proof-of-concept SystemC simulator. The default supported version of SystemC is the IEEE 1666-2011 standard, SystemC-2.3.2. Release 2.3.2 of SystemC includes Release 2.0.3 of Transaction Level Modeling (TLM) code. It is recommended that you obtain the OSCI functional specification or the latest version of the IEEE Std 1666-2011, IEEE Standard SystemC Language Reference Manual.">SystemC Simulation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Differences Between the Simulator and OSCI"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DifferencesBetweenSimulatorOsci_id789bca99.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>