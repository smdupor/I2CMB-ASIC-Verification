<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Hierarchical References In Mixed HDL and SystemC Designs" />
<meta name="abstract" content="A SystemC signal (including sc_signal, sc_buffer, sc_signal_resolved, and sc_signal_rv) can control or observe an HDL signal using two member functions of sc_signal:" />
<meta name="description" content="A SystemC signal (including sc_signal, sc_buffer, sc_signal_resolved, and sc_signal_rv) can control or observe an HDL signal using two member functions of sc_signal:" />
<meta name="DC.subject" content="Hierarchical references, SystemC/mixed-HDL designs, SystemC, hierarchical references in mixed designs" />
<meta name="keywords" content="Hierarchical references, SystemC/mixed-HDL designs, SystemC, hierarchical references in mixed designs" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id13df72d0-29d8-4573-88bd-83bf6204df78" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Hierarchical References In Mixed HDL and SystemC Designs</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Hierarchical References In Mixed HDL and SystemC Designs" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id13df72d0-29d8-4573-88bd-83bf6204df78">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Hierarchical References In
Mixed HDL and SystemC Designs</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">A SystemC
signal (including sc_signal, sc_buffer, sc_signal_resolved, and
sc_signal_rv) can control or observe an HDL signal using two member functions
of sc_signal: </span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id13df72d0-29d8-4573-88bd-83bf6204df78__id2821e61c-623a-44b7-bb96-a93495ddaa57"><pre class="pre codeblock leveled"><code>bool control_foreign_signal(const char* name);
bool observe_foreign_signal(const char* name);</code></pre><p class="p">The argument (const char* name)
is a full hierarchical path to an HDL signal or port. These functions
always return “true” for all cases (even if the call failed). However,
an error is issued if the call could not be completed due to any
reason. See tables for Verilog/SystemVerilog (<a class="xref fm:HeadingOnly" href="General_VerilogSystemverilogSystemcSignalInteractionMappings_id18a5c771.html#id18a5c771-66b8-478a-a60f-8c257ea11fbb__id7eed109b-59d2-4bdb-9878-94a0b44584a6">Data Type Mapping from SystemC to Verilog or SystemVerilog</a>) and VHDL (<a class="xref fm:HeadingOnly" href="General_VhdlSystemcSignalInteractionMapping_ida00b103d.html#ida00b103d-fe54-47f5-a977-4b020698ab2d__id838ead9e-879c-4dbf-9d33-a41524fd43b1">Data Type Mapping Between SystemC and VHDL</a>) to view a list of types supported
at the mixed language boundary. If it is a supported boundary type,
it is supported for hierarchical references. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">SystemC control/observe
always return “true” for all cases (even if the call failed).</p>
</div>
</div>
<div class="section Subsection" id="id13df72d0-29d8-4573-88bd-83bf6204df78__id985448bf-5487-4f50-8dfa-c8dfaf5497c8"><h2 class="title Subheading sectiontitle">Control</h2><p class="p">When a SystemC signal calls <span class="ph FontProperty HeadingLabel">control_foreign_signal()</span> on
an HDL signal, the HDL signal is considered a fanout of the SystemC
signal. This means that every value change of the SystemC signal
is propagated to the HDL signal. If there is a pre-existing driver
on the HDL signal which has been controlled, the value of the HDL
signal is the resolved value of the existing driver and the SystemC
signal. This value remains in effect until a subsequent driver transaction
occurs on the HDL signal, following the semantics of the <span class="ph FontProperty HeadingLabel">force -deposit</span> command.</p>
</div>
<div class="section Subsection" id="id13df72d0-29d8-4573-88bd-83bf6204df78__idd8e5f5eb-08bd-4ac5-8aef-0e0ef1bbc13f"><h2 class="title Subheading sectiontitle">Observe</h2><p class="p">When a SystemC signal calls <span class="ph FontProperty HeadingLabel">observe_foreign_signal()</span> on
an HDL signal, the SystemC signal is considered a fanout of the
HDL signal. This means that every value change of the HDL signal
is propagated to the SystemC signal. If there is a pre-existing
driver on the SystemC signal which has been observed, the value
is changed to reflect that of the HDL signal. This value remains
in effect until a subsequent driver transaction occurs on the SystemC
signal, following the semantics of the <span class="ph FontProperty HeadingLabel">force -deposit</span> command.</p>
</div>
<div class="section Subsection" id="id13df72d0-29d8-4573-88bd-83bf6204df78__idcd517b23-ee19-4660-98db-8aa96421d706"><h2 class="title Subheading sectiontitle">Example</h2><pre class="pre codeblock leveled"><code>SC_MODULE(test_ringbuf)
{
    sc_signal&lt;bool&gt; observe_sig;
    sc_signal&lt;sc_lv&lt;4&gt; &gt; control_sig;

    // HDL module instance
    ringbuf* ring_INST;

    SC_CTOR(test_ringbuf)
    {
        ring_INST = new ringbuf("ring_INST", "ringbuf");
        .....
observe_sig.observe_foreign_signal("/test_ringbuf/ring_INST/block1_INST/buffers(0)");</code></pre><pre class="pre codeblock leveled"><code>control_sig.control_foreign_signal("/test_ringbuf/ring_INST/block1_INST/sig");
    }
};</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuntimeModelingSemantics_id6f641cae.html" title="The Questa SIM simulator is compliant with all pertinent Language Reference Manuals for each language of a mixed-language design.">Runtime Modeling Semantics</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Hierarchical References In Mixed HDL and SystemC Designs"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_HierarchicalReferencesInMixedHdlSystemcDesigns_id13df72d0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>