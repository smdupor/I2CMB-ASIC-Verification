<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="X Propagation Miscellaneous Features" />
<meta name="abstract" content="The simulator supports error detection and reporting related to X propagation." />
<meta name="description" content="The simulator supports error detection and reporting related to X propagation." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfe4a837e-b02a-4288-9ff1-95302de56fd3" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>X Propagation Miscellaneous Features</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="X Propagation Miscellaneous Features" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idfe4a837e-b02a-4288-9ff1-95302de56fd3">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">X Propagation
Miscellaneous Features</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The simulator
supports error detection and reporting related to X propagation.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__ida24fa343-c178-4f59-a421-9dfc4d447c58"><h2 class="title Subheading sectiontitle">Error
Messages for X Propagation </h2><p class="p">The simulator detects error conditions for X propagation according
to the type of model in the design (such as finite state machines,
latches, clocks). The following error message categories are listed
in order of importance. </p>
<h2 class="title Subheading sectiontitle">Finite State Machine </h2><p class="p">If the current state variable (cst) of an FSM becomes X, the
simulator issues an error message. For example, if the value of
cst is an X: </p>
<pre class="pre codeblock"><code>always @(posedge clk or posedge rst or posedge cnd)
  if (rst) cst &lt;= s0;
  else if (cnd) cst &lt;= 3'hx;
  else     cst &lt;= nst;

always @(cst or inp or enb)
  case (cst)
  s0: begin out = inp[4]; if (enb) nst = s1; end
  s1: begin out = inp[5]; if (enb) nst = s2; end
  s2: begin out = inp[6]; if (enb) nst = s3; end
  s3: begin out = inp[7]; if (enb) nst = s0; end
  endcase</code></pre><p class="p">The simulator displays the following error message: </p>
<pre class="pre codeblock"><code># ** Error: XPROP_FSM_27: 'cst' goes X.
#    Time: 0 ns  Scope: tb.top_vl File: ./src/vl_fsm_case/top.v Line: 27</code></pre><h2 class="title Subheading sectiontitle">Flip-Flop, Asynchronous Control </h2><p class="p">If any asynchronous control input signal (non-clocked) to a flip-flop
becomes X, the simulator issues an error message. For example, if
the following reset (rst) or set value is an X:</p>
<pre class="pre codeblock"><code>always @(posedge clk, posedge rst,posedge set)
begin
    if(rst)
        q &lt;= 1'b0;
    else if (set)
        q &lt;= 1'b1;
    else
        q &lt;= d;
end</code></pre><p class="p">The simulator displays the following error message: </p>
<pre class="pre codeblock"><code># ** Error: XPROP_FF_75: 'rst' goes X.
#    Time: 66 ns  Scope: tb File: ./src/vl_limit_messages1/tb.v Line: 75</code></pre><h2 class="title Subheading sectiontitle">Latch</h2><p class="p">If the value of the enable signal in an always block of a latch
becomes X, the simulator issues an error message. For example, if
the following value of en is an X:</p>
<pre class="pre codeblock"><code>always @(en)
begin
    if(en)
        out &lt;= in1;
end</code></pre><p class="p">The simulator displays the following error message:</p>
<pre class="pre codeblock"><code># ** Error: XPROP_LAT_12: 'a' goes X.
#    Time: 4 ns  Scope: tb.top_vl File: ./src/vl_if_delay/top.v Line: 12</code></pre><h2 class="title Subheading sectiontitle">Flip-Flop, Clock</h2><p class="p">If the synchronous control input signal (clock) to a flip-flop
becomes X, the simulator issues an error message. For example, if
the following clock value (clk) is an X:</p>
<pre class="pre codeblock"><code>always @(posedge clk, posedge rst,posedge set)
begin
    if(rst)
        q &lt;= 1'b0;
    else if (set)
        1 &lt;= 1'b1;
    else
        q &lt;= d;
end</code></pre><p class="p">The simulator displays the following error message:</p>
<pre class="pre codeblock"><code># ** Error: XPROP_CLK_73: 'clk' goes X.
#    Time: 14 ns  Scope: tb File: ./src/vl_limit_messages1/tb.v Line: 73</code></pre><h2 class="title Subheading sectiontitle">Miscellaneous Combinatorial Logic</h2><p class="p">If variables in a condition or case statement become X, the simulator
issues an error message. For example, if values of en1 and en2 in
the following if statement becomes X:</p>
<pre class="pre codeblock"><code>always@(*)
 if(en1 &amp;&amp; en2)
    out = a;
 else
    out = b;</code></pre><p class="p">The simulator displays the following error message:</p>
<pre class="pre codeblock"><code># ** Error: XPROP_COMB_8: 'en1 and en2' goes X.
#    Time: 14 ns  Scope: tb File: ./src/vl_limit_messages1/tb.v Line: 8</code></pre></div>
<div class="section Subsection" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__id4c6578a7-62d5-4ab4-b0ee-b8f0b159d721"><h2 class="title Subheading sectiontitle">Error Messages for Out-of-Bounds
Indexes</h2><p class="p">Use the xprop enable command to detect out-of-bounds
indexes for array expressions. This command implements assertions
to find WRITE and READ operations that are out of bounds, as shown
in the following examples. </p>
<h2 class="title Subheading sectiontitle">WRITE Example</h2><pre class="pre codeblock leveled"><code>out[index] = in /*index value is out of bound array indices*/</code></pre><p class="p">Assertion Message: </p>
<pre class="pre codeblock leveled"><code>** Error: XPROP_OUT_OF_BOUNDS_WRITE_25: 'out[index]' goes out of bounds.</code></pre><h2 class="title Subheading sectiontitle">READ Example</h2><pre class="pre codeblock leveled"><code>out = in[index] /*index value is out of bound array indices*/</code></pre><p class="p">Assertion Message: </p>
<pre class="pre codeblock leveled"><code>** Error: XPROP_OUT_OF_BOUNDS_READ_25: 'in[index]' goes out of bounds.</code></pre></div>
<div class="section Subsection" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__idbe2dc137-32c6-4ef8-8a3e-4c78f2d5f9a0"><h2 class="title Subheading sectiontitle">Error
Messages for Array Indexes</h2><p class="p">The following options to the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99vopt -xprop', 'questa_sim_ref'); return false;">vopt -xprop</a> command provide different methods of applying propagation
control of X values in WRITE and READ operations on an array index: </p>
<ul class="ul"><li class="li" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__idf1d6b202-5008-4a91-adfe-ea0062b57171"><p class="p">Pass mode
— vopt -xprop, mode=pass</p>
</li>
<li class="li" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__id55884e7f-2dcb-446a-8b80-4be3f9ac369f"><p class="p">Resolve mode
— vopt -xprop, mode=resolve</p>
</li>
</ul>
<h2 class="title Subheading sectiontitle">Pass mode</h2><p class="p">If you specify pass mode of X propagation control, the simulator
implements assertions for WRITE and READ operations that produce
X values on array indexes. For example: </p>
<pre class="pre codeblock"><code>assign B = A[i]; //index i is 'x'</code></pre><p class="p">Assertion message: </p>
<pre class="pre codeblock"><code># ** Error: XPROP_X_INDEX_READ_17: 'A[i]' array index goes X.
# ** Error: XPROP_X_INDEX_WRITE_33: 'XW[i2]' array index goes X</code></pre><h2 class="title Subheading sectiontitle">Resolve mode</h2><p class="p">If you specify resolve mode of X propagation control, the simulator
enables a more fine-grain evaluation of X values in WRITE and READ
operations on an array index (resulting in more accurate error reporting).
The simulator checks for every bit of the array, and if they are
same then no error is reported—even if index becomes X. </p>
<p class="p">Consider the same example as given above for pass mode:</p>
<pre class="pre codeblock"><code>assign B = A[i]; //index i is 'x'</code></pre><p class="p">where all A[i] are the same. In this case, no error is reported
since both simulation and silicon behavior would be the same (that
is, an XPROP_X_INDEX_READ error would be noise in the report). </p>
</div>
<div class="section Subsection" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__id24ab3a1e-3a28-424f-8692-7d3ab569da0f"><h2 class="title Subheading sectiontitle">Limited
X-Propagation Checking on Arrays Only</h2><p class="p">To enable X-propagation checking only on out-of-bounds arrays
and array indexes, specify the following argument for vopt:</p>
<pre class="pre codeblock"><code>vopt -xprop_enable=indexcheck</code></pre><p class="p">The simulator applies no other xprop functionality to the design.</p>
</div>
<div class="section Subsection" id="idfe4a837e-b02a-4288-9ff1-95302de56fd3__idc8858351-439b-45cc-860d-11bdf95d0bce"><h2 class="title Subheading sectiontitle">Error
Messages for Out-of-Range Indexes in VHDL Designs</h2><p class="p">If you use the xprop enable command, you may receive fatal out-of-range
index errors for VHDL designs. The following example shows a VHDL
index and process that can cause this condition, along with the
resulting error message. </p>
<h2 class="title Subheading sectiontitle">Example</h2><p class="p">As shown below, if the value of en becomes X, then the simulator
applies the largest -ve value on 'index' to signify X propagation.
In turn, this would cause the out of range fatal error (vsim‑3421).
These errors usually happens at time 0, just as the design is initializing
and hence many signals are still at the X or Z state. </p>
<pre class="pre codeblock"><code>signal index : integer  range 0 to 23...process(en)
begin
   if(en) then
       index &lt;= 0;
   end if;
end

A[index] &lt;= 5;</code></pre><pre class="pre codeblock"><code># ** Fatal: (vsim-3421) Value -2147483648 is out of range 0 to 23.
#    Time: 0 ps  Iteration: 0  Process: …/u_rs422/u_rs422_rx/comb File: …/users/mdang_ae/mdang_verification/src/rs422_rx.vhd</code></pre><h2 class="title Subheading sectiontitle">Solution</h2><p class="p">From the command line, turn off xprop during time 0, then restore
it after time 0, as follows:</p>
<p class="lines ApplCommand">vsim&gt;xprop disable<br />
vsim&gt;run 0<br />
vsim&gt;xprop enable<br />
vsim&gt;run ‑all</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_XPropagationInSimulation_id13e7634f.html" title="The simulator provides several commands to manage the propagation of X values that occur in RTL simulation (for both Verilog and VHDL models). These commands enable you to modify the simulation behavior so that it corresponds more closely to the silicon behavior.">X Propagation in Simulation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "X Propagation Miscellaneous Features"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_XPropagationMiscellaneousFeatures_idfe4a837e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>