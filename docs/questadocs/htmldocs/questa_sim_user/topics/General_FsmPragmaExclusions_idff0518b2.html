<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="FSM Pragma Exclusions" />
<meta name="abstract" content="You can use coverage pragmas to selectively turn coverage off and on for FSM state variables and their associated transitions." />
<meta name="description" content="You can use coverage pragmas to selectively turn coverage off and on for FSM state variables and their associated transitions." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idff0518b2-5998-4152-a673-6352b06a8860" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>FSM Pragma Exclusions</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="FSM Pragma Exclusions" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="idff0518b2-5998-4152-a673-6352b06a8860">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">FSM
Pragma Exclusions</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">You can
use coverage pragmas to selectively turn coverage off and on for
FSM state variables and their associated transitions.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="idff0518b2-5998-4152-a673-6352b06a8860__id9d490bf0-b17e-41d8-adc0-1303407d2590"><p class="p">Three pragmas are available:</p>
<ol class="ol"><li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id1884529b-1aa4-40ba-a633-52d72fcec593"><p class="p">“coverage
off [f]” — excludes any FSM states and associated transitions that
appear after “coverage off” and before “coverage on” in the code. Current
state variables declared between “// coverage off” and “// coverage
on” pragmas are excluded from the FSM coverage; however, the FSM
is recognized. This is consistent with the behavior of the “// coverage
fsm_off ” pragma. For example:</p>
<pre class="pre codeblock"><code>module mid(clock);
input clock;
// coverage off
reg [1:0] cst;
localparam s0 = 2'b00, s1 = 2'b01;
// coverage on
always @(posedge clock)
begin
         case (cst)
            s0:   cst = s1;
            s1:   cst = s0;
         endcase
end
endmodule</code></pre><p class="p">The FSM is recognized, but is excluded from
coverage. See “<a class="xref fm:HeadingOnly" href="Command_CoverageOnCoverageOffPragmaSyntax_ided14f82c.html#ided14f82c-e2d0-4dfc-a9b5-cddb41241ddd__Command_CoverageOnCoverageOffPragmaSyntax_ided14f82c.xml#ided14f82c-e2d0-4dfc-a9b5-cddb41241ddd" title="The coverage on|off pragma has two forms; one for general exclusions of specific coverage types, or for all types if none are specified, and another for fine-grained exclusion, used to exercise very precise control over exclusions in complex code constructs.">coverage on and coverage off Pragma Syntax</a>” for further details.</p>
</li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__idce6ebf86-e444-4149-8b36-2ece2df86e96"><p class="p">“coverage
fsm_off” — </p>
<p class="p">In Verilog, the pragma is:</p>
<pre class="pre codeblock"><code>// coverage fsm_off {&lt;state_var_name&gt;
| -fstate &lt;state_var_name&gt; [&lt;state_list&gt;]
| -ftrans &lt;state_var_name&gt; [&lt;transition_list&gt;] 
| -fsamestate &lt;state_var_name&gt; [&lt;state_list&gt;]</code></pre><p class="p">In VHDL, the pragma is:</p>
<pre class="pre codeblock"><code>-- coverage fsm_off {&lt;state_var_name&gt; 
| -fstate &lt;state_var_name&gt; [&lt;state_list&gt;]
| -ftrans &lt;state_var_name&gt; [&lt;transition_list&gt;] 
| -fsamestate &lt;state_var_name&gt; [&lt;state_list&gt;]</code></pre><p class="p">where, a transition in &lt;transition_list&gt;
is of the form: state1-&gt;state2.</p>
<p class="p">Entire FSM(s) with current state variable
&lt;state_var_name&gt; are excluded from coverage if '-fstate', -fsamestate'
and '-ftrans' options in the pragma are not used. The pragma should
come after the object declaration; otherwise, it will have no effect. </p>
<p class="p">The following examples demonstrate the use
of pragmas for excluding individual states, individual transitions,
or(and) the entire FSM:</p>
<ol class="ol" type="a"><li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id2d255c19-f0ac-476d-af0d-cafabec06ca1"><p class="p">To exclude the entire FSM with the state_variable <span class="ph FontProperty emphasis">cst</span>:</p>
<pre class="pre codeblock leveled"><code>//coverage fsm_off cst</code></pre></li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id809fe807-bfce-40f4-b509-eabd37d5d57e"><p class="p">To exclude the entire FSM that has state_variable <span class="ph FontProperty emphasis">cst</span> and
excludes those states and transitions which constitute <span class="ph FontProperty emphasis">s1</span> and <span class="ph FontProperty emphasis">s2</span> of
another FSM (<span class="ph FontProperty emphasis">cst2</span>):</p>
<pre class="pre codeblock leveled"><code>// coverage fsm_off cst -fstate cst2 s1 s2</code></pre></li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id74f08fd0-92ad-442c-b080-345782f5f766"><p class="p">To exclude only the <span class="ph FontProperty emphasis">s1</span>-&gt;<span class="ph FontProperty emphasis">s0</span> transition
of the FSM <span class="ph FontProperty emphasis">cst.</span>:</p>
<pre class="pre codeblock leveled"><code>//coverage fsm_off -ftrans cst s1-&gt;s0</code></pre></li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__iddd006117-1758-4173-922c-ea5e12433035"><p class="p">To exclude state <span class="ph FontProperty emphasis">s1</span> and
all related transitions of <span class="ph FontProperty emphasis">s1</span>,
and excludes <span class="ph FontProperty emphasis">s2</span>-&gt;<span class="ph FontProperty emphasis">s0</span> and <span class="ph FontProperty emphasis">s3</span>-&gt;<span class="ph FontProperty emphasis">s1</span> transitions
of the other FSM (cst2):</p>
<pre class="pre codeblock leveled"><code>//coverage fsm_off -fstate cst1 s1 -ftrans cst2 s2-&gt;s0 s3-&gt;s1</code></pre></li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id3ffddae0-2958-44ea-a8a5-0b3a04719468"><p class="p">To exclude same state transitions of <span class="ph FontProperty emphasis">s1</span> and <span class="ph FontProperty emphasis">s2</span> for FSM <span class="ph FontProperty emphasis">cst</span>:</p>
<pre class="pre codeblock leveled"><code>//coverage fsm_off -fsamestate cst s1 s2</code></pre><p class="p">which excludes s1-&gt;s1 and s2-&gt;s2 transitions.</p>
</li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__idb93419ed-a39f-4576-a7e6-f40629bca1ac"><p class="p">To exclude all same state transitions of FSM <span class="ph FontProperty emphasis">cst</span>:</p>
<pre class="pre codeblock leveled"><code>//coverage fsm_off -fsamestate cst</code></pre></li>
</ol>
<p class="p">The state and transition name (strings) are
the same as those recognized by the FSM and as reported in the vsim
FSM coverage report.</p>
<p class="p">Warnings are printed only if code coverage
is turned on with the +cover=f argument during compile (with <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcom', 'questa_sim_ref'); return false;">vcom</a> or <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vlog', 'questa_sim_ref'); return false;">vlog</a>).
If an FSM coverage pragma is specified and coverage is turned on,
the Warning may look like the following:</p>
<pre class="pre codeblock leveled"><code>	** Warning: [13] fsm_safe1.vhd(18): Turning off FSM coverage for 
		"state".</code></pre><p class="p">If an FSM coverage pragma is specified before
the object declaration, the Warning may appear as follows:</p>
<pre class="pre codeblock leveled"><code>	** Warning: [13] fsm_safe1.vhd(17): Can't find decl "state" for turning 
		off FSM coverage.</code></pre></li>
<li class="li" id="idff0518b2-5998-4152-a673-6352b06a8860__id6ae286f3-3085-4046-978d-b626b7e5d928"><p class="p">“coverage
never” —</p>
<p class="p">The behavior of "// coverage fsm_off" matches
that of "// coverage on/off" pragma — the FSM will be pragma excluded,
and can only be included in coverage by clearing the pragma exclusion
at the vsim command line.</p>
</li>
</ol>
<p class="p">The order of precedence for these three pragma
exclusions is:</p>
<p class="p BlockIndent">// coverage never &gt; // coverage fsm_off &gt; // coverage
on/off</p>
</div>
<div class="section Subsection" id="idff0518b2-5998-4152-a673-6352b06a8860__id216c0522-ea9d-41a4-ad7d-edea617e5f13"><h2 class="title Subheading sectiontitle">Simultaneous Behavior
of Pragmas</h2><p class="p">If “//
coverage on-off” and “// coverage fsm_off” are used simultaneously
then “// coverage fsm_off” pragma will override the “// coverage
on/off” pragma. For example:</p>
<pre class="pre codeblock"><code>module top(clock);
input clock;
// coverage on
reg [1:0] cst;
// coverage fsm_off cst
localparam s0 = 2'b00, s1 = 2'b01;
always @(posedge clock)
begin
         case (cst)
            s0:   cst = s1;
            s1:   cst = s0;
         endcase
end
endmodule</code></pre><p class="p">Even though coverage was ON while 'cst' was
encountered, the 'fsm_off' pragma will override it to turn off coverage
for FSM (cst).</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_FsmCoverageExclusions_id93946cc0.html" title="In Questa SIM, you can exclude any transition or state of an FSM from the coverage reports, either with the coverage exclude command at the command line, or by pragma.">FSM Coverage Exclusions</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_FsmCoverageExclusions_id93946cc0.html#id93946cc0-f656-4e6b-a4e1-fe31468f70e1__" title="In Questa SIM, you can exclude any transition or state of an FSM from the coverage reports, either with the coverage exclude command at the command line, or by pragma.">FSM Coverage Exclusions</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "FSM Pragma Exclusions"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_FsmPragmaExclusions_idff0518b2.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>