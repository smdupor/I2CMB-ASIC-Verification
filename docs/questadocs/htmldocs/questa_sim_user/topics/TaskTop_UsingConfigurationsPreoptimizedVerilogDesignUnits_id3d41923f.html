<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Using Configurations with Preoptimized Verilog Design Units" />
<meta name="abstract" content="You can use a Verilog configuration with the ‑pdu argument to vopt." />
<meta name="description" content="You can use a Verilog configuration with the ‑pdu argument to vopt." />
<meta name="DC.subject" content="Preoptimized Design Unit (PDU), Verilog, PDU" />
<meta name="keywords" content="Preoptimized Design Unit (PDU), Verilog, PDU" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id3d41923f-92f0-4c2b-aafa-165533f29793" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using Configurations with Preoptimized Verilog Design Units</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using Configurations with Preoptimized Verilog Design Units" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id3d41923f-92f0-4c2b-aafa-165533f29793">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Using Configurations with Preoptimized
Verilog Design Units</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">You can use a
Verilog configuration with the ‑pdu argument to vopt. </span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id3d41923f-92f0-4c2b-aafa-165533f29793__idff7435fe-f7fb-439e-91e5-8016855b2de3"><p class="p">Create
the following files, which set up a Verilog configuration to use
with the PDU capability of vopt. Given these files, you can use
the procedure below to simulate your design using Preoptimized Design
Units (black-boxed regions). </p>
<ul class="ul"><li class="li" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id7c8694a4-f5f2-4c7c-bd56-808db2dc870b"><p class="p"><span class="keyword ParameterName Required">topcfg.v </span></p>
<pre class="pre codeblock"><code>config topcfg;
  design work.top;
  instance top.u0 use foo10;
  instance top.u1 use foo20;
endconfig</code></pre></li>
<li class="li" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id7195724d-2ed8-4f12-9981-340961429b62"><p class="p"><span class="keyword ParameterName Required">top.v</span></p>
<pre class="pre codeblock"><code>module top;
  foo u0();
  foo u1();
endmodule</code></pre></li>
<li class="li" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id5a51df8c-51dc-45f0-b585-9e8e3d25c3fc"><p class="p"><span class="keyword ParameterName Required">foo.v</span></p>
<pre class="pre codeblock"><code>module foo10;
  foo_lower #10 u0();
endmodule</code></pre><pre class="pre codeblock"><code>module foo20;
  foo_lower #20 u0();
endmodule</code></pre><pre class="pre codeblock"><code>module foo_lower;
parameter N=99;
  initial begin
    $display("N=%d", N);
  end
endmodule</code></pre></li>
</ul>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id1c6fa707-0175-43fd-a8bb-40d6a807633e"><span class="ph cmd">Create the work library: </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlib work</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id6155e1d4-e014-49c7-8cfd-867e0352bd54"><span class="ph cmd">Compile foo.v into the work
library: </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlog foo.v</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id44a0b57f-06f4-4e7a-95fd-20605ff6fd52"><span class="ph cmd">Create a PDU named foo10_pdu
based on the foo10 module in foo.v. Whenever a part of the design
is dependent upon foo10, the simulator loads the PDU foo10_pdu to
speed up the elaboration process.</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt -pdu foo10 -o foo10_pdu</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id82788d8f-455a-4b1e-af31-04711cfbe82b"><span class="ph cmd">Create a PDU named foo20_pdu
based on the foo20 module in foo.v:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vopt -pdu foo20 -o foo20_pdu</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__idebc7289b-ca84-4f03-a8e9-00d208a412e7"><span class="ph cmd">Compile top.v into the work
library: </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlog top.v</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__idc0bed9a9-86b4-4637-a507-58750952ae2b"><span class="ph cmd">Compile the configuration,
topcfg.v, into the work library:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vlog topcfg.v</p>
</div></li>
<li class="li step stepexpand" id="id3d41923f-92f0-4c2b-aafa-165533f29793__id0f30f8a2-1531-41c5-81b3-15c0dbec0c61"><span class="ph cmd">Elaborate the configuration
and run the simulation. </span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vsim topcfg -do "run -all"</p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">When the simulator encounters <span class="keyword ParameterName Required">top.u0</span>,
it will use <span class="keyword ParameterName Required">foo10</span> (as
defined in the configuration). The simulator will then use your
PDU <span class="keyword ParameterName Required">foo10_pdu</span> (and apply
the same process for <span class="keyword ParameterName Required">top.u1</span> and <span class="keyword ParameterName Required">foo20</span>).</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PreoptimizingRegionsYourDesign_idb52a229b.html" title="A Preoptimized Design Unit (PDU) is a region of your design that you can identify for a one-time optimization by using the -pdu argument of the vopt command. You can then reuse the PDU and exclude it from being optimized. This reduces the amount of time for future optimization and simulation runs by preoptimizing (black-boxing) static or unchanging regions of your design.">Preoptimizing Regions of Your Design</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Using Configurations with Preoptimized Verilog Design Units"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_UsingConfigurationsPreoptimizedVerilogDesignUnits_id3d41923f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>