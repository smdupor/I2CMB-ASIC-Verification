<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Merging In A Multi-User Environment" />
<meta name="abstract" content="To allow merging of coverage results in a multi-user environment, irrespective of the paths of the source files, Questa SIM incorporates the concept of file signatures." />
<meta name="description" content="To allow merging of coverage results in a multi-user environment, irrespective of the paths of the source files, Questa SIM incorporates the concept of file signatures." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb2948e10-038d-4f06-82a3-be3db755de8f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Merging In A Multi-User Environment</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Merging In A Multi-User Environment" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idb2948e10-038d-4f06-82a3-be3db755de8f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Merging In A Multi-User Environment</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">To allow merging of
coverage results in a multi-user environment, irrespective of the
paths of the source files, <span class="ph fmvar:ProductName">Questa SIM</span> incorporates
the concept of <span class="ph FontProperty emphasis">file signatures</span>.</p>
<p class="p">The multi-user merging
feature computes a file signature (32 Bit, MD5) for each source
file. Each file signature is dependent only on the contents, not
the location, of the file. File signatures are saved in the Library
for later retrieval, and then dumped into the UCDB. The file signatures are
then used when merging.</p>
<p class="p">If file locations are the same, then the traditional merging
occurs. But if file locations do not match, the UCDB is merged based
on the file signatures. If there are files with the same file signatures,
they are used for merging coverage bins. In other words, the merge
will not perform a union of bins but will add up the bins’ coverage
count properly.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">File signatures are different
from design unit signatures. In addition to the content of a design unit,
the design unit signature may also depend upon the way by which
the design unit gets compiled. Some common factors (in addition
to the design unit content) that can affect the design unit signature
are:</p>
<ul class="ul NoteList"><li class="li NoteListItem">The timescale
used to compile the design unit</li>
<li class="li NoteListItem">The -mfcu argument used with the vlog
command</li>
<li class="li NoteListItem">The compile order of the design unit</li>
</ul>
</div>
<p class="p">File signature-based merging occurs as follows:</p>
<ol class="ol"><li class="li" id="id1260a10e-3910-4cd0-b335-ad0ae3283b16"><p class="p">The file
signature is dumped into the library when you compile the RTL. If
a file has multiple design units (DUs), then each DU contains the
same file signature.</p>
</li>
<li class="li" id="idb2773156-a872-4eb1-90e1-9b930d383f0c"><p class="p">When you save
the UCDBs after each simulation run, the file signature is searched
in the library and saved in the file table of the UCDBs.</p>
</li>
<li class="li" id="id25f8071a-931e-4dcc-90c7-ebaca964712b"><p class="p">These UCDBs
can be taken to any environment and merged using the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcover merge', 'questa_sim_ref'); return false;">vcover merge</a> command.
While merging, file signatures are taken into account.</p>
</li>
</ol>
<p class="p">To merge in a multi-user environment, and
to generate file signatures, you must first compile with the ‑covermultiuserenv
argument to <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcom', 'questa_sim_ref'); return false;">vcom</a> or <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vlog', 'questa_sim_ref'); return false;">vlog</a>.</p>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idb2948e10-038d-4f06-82a3-be3db755de8f__id50692a04-5331-4a6b-bbc9-09172b68a768"><span class="ph cmd">Compile
your design with the -covermultiuserenv argument.</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vcom/vlog -covermultiuserenv</p>
<p class="p">This step generates file signatures for all source files. </p>
</div></li>
<li class="li step stepexpand" id="idb2948e10-038d-4f06-82a3-be3db755de8f__id05d38933-1f34-4699-b3ee-9d3946c6ac43"><span class="ph cmd">Run <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a>/<a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vsim', 'questa_sim_ref'); return false;">vsim</a> as required.</span></li>
<li class="li step stepexpand" id="idb2948e10-038d-4f06-82a3-be3db755de8f__id6effc227-5e9a-4a59-8b75-d20ad28a381a"><span class="ph cmd">Generate
a coverage database (UCDB) with the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'coverage save', 'questa_sim_ref'); return false;">coverage save</a> command.</span></li>
<li class="li step stepexpand" id="idb2948e10-038d-4f06-82a3-be3db755de8f__idd87b9899-d132-4202-9beb-9e1883668104"><span class="ph cmd">Merge coverage
databases using <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vcover merge', 'questa_sim_ref'); return false;">vcover merge</a> -multiuserenv.</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vcover merge -out &lt;out_filename&gt; &lt;ucdb_1&gt; &lt;ucdb_2&gt;... &lt;ucdb_x&gt; -multiuserenv</p>
<p class="p">Your command might look like this:</p>
<p class="lines ApplCommand">vcover merge -out out.ucdb run1.ucdb run2.ucdb -multiuserenv </p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">You can view the file signatures generated
during compile with the <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vdir', 'questa_sim_ref'); return false;">vdir</a> command:</p>
<p class="lines ApplCommand">vdir -l -lib &lt;name_of_library&gt; [name of module]</p>
<p class="p">Your results may look like the following:</p>
<div class="fig fignone" id="idb2948e10-038d-4f06-82a3-be3db755de8f__idfcd12458-ff03-419f-ac8f-54dc701d7ef2"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Example
of File Signature</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/file_signature.gif" /></div><br /></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ManageTestDataInUCDBs_id3082cd3f.html" title="Once you have run tests and collected coverage, the real task of analyzing the coverage can begin. Managing the coverage data which has been collected and stored in one or more UCDBs is critical to the task.">Manage Test Data in UCDBs</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Merging In A Multi-User Environment"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_MergingInAMultiUserEnvironment_idb2948e10.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>