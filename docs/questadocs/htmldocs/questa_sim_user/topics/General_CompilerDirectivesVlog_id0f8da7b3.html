<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Compiler Directives for vlog" />
<meta name="abstract" content="The `protect/`endprotect vlog directives are specific to the Questa SIM simulator and are not compatible with other simulators." />
<meta name="description" content="The `protect/`endprotect vlog directives are specific to the Questa SIM simulator and are not compatible with other simulators." />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0f8da7b3-9c09-4a02-baec-31446f7474c8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Compiler Directives for vlog</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Compiler Directives for vlog" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id0f8da7b3-9c09-4a02-baec-31446f7474c8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Compiler Directives for vlog</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">The `protect/`endprotect
vlog directives are specific to the <span class="ph fmvar:ProductName">Questa SIM</span> simulator and are not compatible with other simulators.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id0f8da7b3-9c09-4a02-baec-31446f7474c8__id5ada915e-cb47-4451-8112-f58f96ef9c84"><h2 class="title Subheading sectiontitle">`protect
and `endprotect</h2><p class="p">This directive pair allows you to encrypt selected
regions of your source code. The code in `protect regions has all debug
information stripped out. Using these directives behaves exactly
as if using:</p>
<p class="lines ApplCommand leveled">vlog -nodebug=ports+pli </p>
<p class="p">except that it applies to selected regions
of code rather than the whole file. The directive pair enables usage
scenarios such as making module ports, parameters, and specify blocks publicly
visible while keeping the implementation private. </p>
<p class="p">The `protect directive is ignored by default
unless you use the +protect argument to vlog. Once compiled, the
original source file is copied to a new file in the current work
directory. The name of the new file is the same as the original
file with a “p” appended to the suffix. For example, <span class="ph filepath">top.v</span> is
copied to <span class="ph filepath">top.vp</span>. You can deliver this new
file to be used as a replacement for the original source file. </p>
<p class="p">A usage scenario might be that a vendor uses
the `protect / `endprotect directives on a module or a portion of
a module in a file named <span class="ph filepath">encrypt.v</span>. Further,
the vendor would compile this file with vlog +protect encrypt.v
to produce a new file named <span class="ph filepath">encrypt.vp</span>. Anyone
can then compile <span class="ph filepath">encrypt.vp</span> just like any other
Verilog file. The protection is not compatible among different simulators,
so the vendor must ship you a different <span class="ph filepath">encrypt.vp</span> than
they ship to someone who uses a different simulator.</p>
<p class="p">You can use vlog +protect=&lt;filename&gt; to
create an encrypted output file, with the designated filename, in
the current directory (not in the <span class="ph filepath">work</span> directory, as
in the default case where [=&lt;filename&gt;] is not specified). For
example:</p>
<p class="lines ApplCommand">   vlog test.v +protect=test.vp</p>
<p class="p">If the filename is specified in this manner,
all source files on the command line are concatenated together into
a single output file. Any `include files are also inserted into
the output file.</p>
<p class="p">You cannot nest `protect and `endprotect
directives.</p>
<p class="p">If errors are detected in a protected region,
the error message always reports the first line of the protected
block.</p>
<p class="p">If any `include directives occur within a
protected region, the compiler generates a copy of the include file
with a <span class="ph filepath">.vp</span> suffix and protects the entire contents
of the include file. However, when you use vlog +protect to generate
encrypted files, the original source files must all be complete
Verilog modules or packages. Compiler errors result if you attempt
to perform compilation of a set of parameter declarations within
a module. </p>
<p class="p">You can avoid such errors by creating a dummy
module that includes the parameter declarations. For example, if
you have a file that contains your parameter declarations and a
file that uses those parameters, you can do the following:</p>
<pre class="pre codeblock leveled"><code>module dummy;</code></pre><pre class="pre codeblock leveled"><code>	`protect
	`include "params.v" // contains various parameters
	`include "tasks.v" // uses parameters defined in params.v
	`endprotect</code></pre><pre class="pre codeblock leveled"><code>endmodule</code></pre><p class="p">Then, compile the dummy module with the +protect
switch to generate an encrypted output file with no compile errors.</p>
<p class="lines ApplCommand">   vlog +protect dummy</p>
<p class="p">After compilation, the work library contains
encrypted versions of <span class="ph filepath">params.v</span> and <span class="ph filepath">tasks.v</span>,
called <span class="ph filepath">params.vp</span> and <span class="ph filepath">tasks.vp</span>.
You may then copy these encrypted files out of the work directory
to more convenient locations. These encrypted files can be included
within your design files; for example:</p>
<pre class="pre codeblock"><code>module main
`include "params.vp"
`include "tasks.vp"
        ...</code></pre><p class="p">Though other simulators have a `protect directive,
the algorithm <span class="ph fmvar:ProductName">Questa SIM</span> uses
to encrypt source files is different. As a result, even though an
uncompiled source file with `protect is compatible with another
simulator, once the source is compiled in <span class="ph fmvar:ProductName">Questa SIM</span>, you could not simulate it elsewhere.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CompilerDirectives_id14f7741f.html" title="The Questa SIM simulator support of SystemVerilog includes all of the compiler directives defined in the IEEE Std 1800, some Verilog-XL compiler directives, and some that are proprietary.">Compiler Directives</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Compiler Directives for vlog"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_CompilerDirectivesVlog_id0f8da7b3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>