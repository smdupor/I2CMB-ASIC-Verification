<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Parameter Support for Verilog Instantiating SystemC" />
<meta name="abstract" content="You can pass and retrieve parameter values from a Verilog parent and a SystemC child using Verilog override syntax." />
<meta name="description" content="You can pass and retrieve parameter values from a Verilog parent and a SystemC child using Verilog override syntax." />
<meta name="DC.subject" content="parameter support, Verilog instantiating SystemC, Verilog, parameter support, instantiating SystemC, parameter support, Verilog instantiating SC" />
<meta name="keywords" content="parameter support, Verilog instantiating SystemC, Verilog, parameter support, instantiating SystemC, parameter support, Verilog instantiating SC" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7aa7ac1b-041e-4d87-a222-42e4a51f5295" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Parameter Support for Verilog Instantiating SystemC</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Parameter Support for Verilog Instantiating SystemC" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id7aa7ac1b-041e-4d87-a222-42e4a51f5295">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Parameter Support for Verilog Instantiating SystemC</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">You can
pass and retrieve parameter values from a Verilog parent and a SystemC
child using Verilog override syntax. </span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id7aa7ac1b-041e-4d87-a222-42e4a51f5295__id05833b5f-b646-4fbe-9a2c-10ae9702a679"><h2 class="title Subheading sectiontitle">Passing Parameters
from Verilog to SystemC</h2><p class="p">To pass actual parameter values,
you can use the native Verilog/SystemVerilog parameter override
syntax. Parameters are passed to SystemC using the module instance
parameter value list. </p>
<p class="p"><span class="ph fmvar:ProductName">Questa SIM</span> supports
passing parameters with a bit range, and types: int, real, and string. </p>
<p class="p">Named parameter association
must be used for all Verilog/SystemVerilog modules that instantiate
SystemC.</p>
</div>
<div class="section Subsection" id="id7aa7ac1b-041e-4d87-a222-42e4a51f5295__id04314086-7c63-4464-9d73-d228be292818"><h2 class="title Subheading sectiontitle">Retrieving
Parameter Values</h2><p class="p">To retrieve parameter override information
from Verilog/SystemVerilog, you can use the following functions:</p>
<pre class="pre codeblock leveled"><code>int sc_get_param(const char* param_name, int&amp; param_value); 
int sc_get_param(const char* param_name, double&amp; param_value); 
int sc_get_param(const char* param_name, sc_string&amp; param_value, char format_char = 'a'); </code></pre><p class="p">The first argument to sc_get_param defines
the parameter name, the second defines the parameter value. For
retrieving string values, <span class="ph fmvar:ProductName">Questa SIM</span> also
provides a third optional argument, format_char. It is used to specify
the format for displaying the retrieved string. The format can be
ASCII (“a” or “A”), binary (“b” or “B”), decimal (“d” or “D”), octal (“o”
or “O”), or hexadecimal (“h” or “H”). Binary is the default. These
functions return a 1 if successful, otherwise they return a 0.</p>
<p class="p">Alternatively, you can use the following forms
of the above functions in the constructor initializer list:</p>
<pre class="pre codeblock leveled"><code>int sc_get_int_param(const char* param_name, int* is_successful);
double sc_get_real_param(const char* param_name, int* issuccessful);
sc_string sc_get_string_param(const char* param_name, char format_char = 
		'a', int* is_successful);
</code></pre><div class="fig fignone ExampleTitle" id="id7aa7ac1b-041e-4d87-a222-42e4a51f5295__id135be360-bdf7-4919-adb2-12b58d77f88c"><span class="figcap"><span class="fig--title-label">Example 1. </span>Verilog/SystemVerilog
Instantiating SystemC, Parameter Information</span></div>
<p class="p">The following ring buffer example includes
all the files necessary for simulation.</p>
<pre class="pre codeblock leveled"><code>// test_ringbuf.v

`timescale 1ns / 1ps
module test_ringbuf();
    reg clock;
	...
	parameter int_param = 4;
    parameter real_param = 2.6;
    parameter str_param = "Hello World";
    parameter [7:0] reg_param = 'b001100xz;

    // Instantiate SystemC module
    ringbuf #(.int_param(int_param),
              .real_param(real_param),
              .str_param(str_param),
              .reg_param(reg_param))
         chip(.clock(clock),
				...
				... };
	endmodule</code></pre><pre class="pre codeblock leveled"><code>-------------------------------------------------------------------------</code></pre><pre class="pre codeblock leveled"><code>// ringbuf.h
#ifndef INCLUDED_RINGBUF
#define INCLUDED_RINGBUF</code></pre><pre class="pre codeblock"><code>#include &lt;systemc.h&gt; 
#include "control.h" 
...</code></pre><pre class="pre codeblock leveled"><code>SC_MODULE(ringbuf)
{
public:
    // Module ports
    sc_in clock;
    	...
	...</code></pre><pre class="pre codeblock"><code>    SC_CTOR(ringbuf)
        : clock("clock"),
 		...
		...
	{
		int int_param = 0
		if (sc_get_param(“int_param”, int_param))
				cout &lt;&lt; “int_param” &lt;&lt; int_param &lt;&lt; end1;</code></pre><pre class="pre codeblock"><code>		double real_param = 0.0;
		int is_successful = 0;
		real_param = sc_get_real_param(“real_param”, &amp;is_successful); 
		if (is_successful) 
			cout &lt;&lt; “real_param” &lt;&lt; real_param &lt;&lt; end1;</code></pre><pre class="pre codeblock"><code>		std::string str_param;
		str_param = sc_get_string_param(“str_param”, ‘a’, &amp;is_successful);
		if (is_successful) 
			cout &lt;&lt; “str_param=” &lt;&lt; str_param.c_str() &lt;&lt; end1;</code></pre><pre class="pre codeblock"><code>		str::string reg_param;
		if (sc_get_param(“reg_param”, ‘b’))
			cout &lt;&lt; “reg_param=” &lt;&lt; reg_param.c_str() &lt;&lt; end1;

    }
</code></pre><pre class="pre codeblock leveled"><code>    ~ringbuf() {}
};

#endif

------------------------------------------------------------------------</code></pre><pre class="pre codeblock leveled"><code>// ringbuf.cpp
#include "ringbuf.h"

SC_MODULE_EXPORT(ringbuf);</code></pre><p class="p">To run the simulation, you enter the following
commands:</p>
<p class="lines ApplCommand">vlib work<br />
sccom ringbuf.cpp<br />
vlog test_ringbuf.v<br />
sccom -link<br />
vsim test_ringbuf</p>
<p class="p">The simulation will return the following:</p>
<pre class="pre codeblock leveled"><code># int_param=4
# real_param=2.6
# str_param=Hello World
# reg_param=001100xz
</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_VerilogSystemverilogInstantiatingSystemc_id16dae6b0.html" title="You can reference a SystemC module from Verilog/SystemVerilog as though the design unit is a module of the same name.">Verilog or SystemVerilog Instantiating SystemC</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Parameter Support for Verilog Instantiating SystemC"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_ParameterSupportVerilogInstantiatingSystemc_id7aa7ac1b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>