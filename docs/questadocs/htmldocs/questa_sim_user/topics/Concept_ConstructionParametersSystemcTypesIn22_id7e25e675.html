<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Construction Parameters for SystemC Types in 2.2" />
<meta name="abstract" content="The information in this section applies only to SystemC signals, ports, variables, or fifos that use one of the following fixed-point types:" />
<meta name="description" content="The information in this section applies only to SystemC signals, ports, variables, or fifos that use one of the following fixed-point types:" />
<meta name="DC.subject" content="SystemC, construction parameters, fixed-point types, construction parameters, SystemC, default SystemC parameter values, overriding, sc_fix and sc_ufix, sc_fixed and sc_ufixed, sc_signed and sc_unsigned" />
<meta name="keywords" content="SystemC, construction parameters, fixed-point types, construction parameters, SystemC, default SystemC parameter values, overriding, sc_fix and sc_ufix, sc_fixed and sc_ufixed, sc_signed and sc_unsigned" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7e25e675-bc8b-45d2-b6d1-ed6a703d5892" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Construction Parameters for SystemC Types in 2.2</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Construction Parameters for SystemC Types in 2.2" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id7e25e675-bc8b-45d2-b6d1-ed6a703d5892">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Construction
Parameters for SystemC Types in 2.2</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The information
in this section applies only to SystemC signals, ports, variables,
or fifos that use one of the following fixed-point types: </span>
</div>
<pre class="pre codeblock"><code>sc_signed
sc_unsigned
sc_fix
sc_fix_fast
sc_ufix
sc_ufix_fast</code></pre><p class="p">These are the only SystemC types that
have construction time parameters. The default size for these types
is 32. If you require values other than the default parameters,
you need to read this section. </p>
<p class="p">If you are using one of these types in a SystemC
signal, port, fifo, or an aggregate of one of these (such as an
array of sc_signal), you cannot pass the size parameters to the
type. This is a limitation imposed by the C++ language. Instead,
SystemC provides a global default size (32) that you can control. </p>
<p class="p">For sc_signed and sc_unsigned, you need to
use the two objects, sc_length_param and sc_length_context, and
you need to use them in an unusual way. If you just want the default vector
length, simply do this:</p>
<pre class="pre codeblock leveled"><code>SC_MODULE(dut) {      	</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_signed&gt; s1;
	sc_signal&lt;sc_signed&gt; s2;</code></pre><pre class="pre codeblock leveled"><code>	SC_CTOR(dut)
	: s1("s1"), s2("s2")
	{
	}
}
</code></pre><p class="p">For a single setting, such as using five-bit
vectors, your module and its constructor would look like the following:</p>
<pre class="pre codeblock leveled"><code>SC_MODULE(dut) {
	sc_length_param l;
	sc_length_context c;</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_signed&gt; s1;
	sc_signal&lt;sc_signed&gt; s2;</code></pre><pre class="pre codeblock leveled"><code>	SC_CTOR(dut)</code></pre><pre class="pre codeblock leveled"><code>	: l(5), c(l), s1("s1"), s2("s2")
	{
	}
}
</code></pre><p class="p">Notice that the constructor initialization
list sets up the length parameter first, assigns the length parameter
to the context object, and then constructs the two signals. You
DO pass the name to the signal constructor, but the name is passed
to the signal object, not to the underlying type. There is no way
to reach the underlying type directly. Instead, the default constructors
for sc_signed and sc_unsigned reach out to the global area and get
the currently defined length parameter—the one you just set. </p>
<p class="p">If you need to have signals or ports with different
vector sizes, you need to include a pair of parameter and context
objects for each different size. For example, the following uses
a five-bit vector and an eight-bit vector:</p>
<pre class="pre codeblock leveled"><code>SC_MODULE(dut) {</code></pre><pre class="pre codeblock leveled"><code>	sc_length_param l1;
	sc_length_context c1;</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_signed&gt; s1;
	sc_signal&lt;sc_signed&gt; s2;</code></pre><pre class="pre codeblock leveled"><code>
	sc_length_param l2;
	sc_length_context c2;</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_signed&gt; u1;
	sc_signal&lt;sc_signed&gt; u2;</code></pre><pre class="pre codeblock leveled"><code>	SC_CTOR(dut)
	: l1(5), c1(l1), s1("s1"), s2("s2"),
		 l2(8), c2(l2), u1("u1"), u2("u2")
	{
	}
}
</code></pre><p class="p">With simple variables of this type, you reuse
the context object. However, you must have the extra parameter and
context objects when you are using them in a constructor-initialization list
because the compiler does not allow repeating an item in that list.</p>
<p class="p">The four fixed-point types that use construction
parameters work exactly the same way, except that they use the objects
sc_fxtype_contxt and sc_fxtype_params to do the work. Also, there
are more parameters you can set for fixed-point numbers. Assuming
you want to set only the length of the number and the number of
fractional bits, the following example is similar to the preceding
example, modified for fixed-point numbers:</p>
<pre class="pre codeblock leveled"><code>SC_MODULE(dut) {</code></pre><pre class="pre codeblock leveled"><code>	sc_fxtype_params p1;
	sc_fxtype_contxt c1;</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_fix&gt; s1;
	sc_signal&lt;sc_fix&gt; s2;</code></pre><pre class="pre codeblock leveled"><code>	sc_fxtype_params p2;
	sc_fxtype_contxt c2;</code></pre><pre class="pre codeblock leveled"><code>	sc_signal&lt;sc_ufix&gt; u1;
	sc_signal&lt;sc_ufix&gt; u2;</code></pre><pre class="pre codeblock leveled"><code>	SC_CTOR(dut)
	: p1(5,0), c1(p1), s1("s1"), s2("s2"),
	  p2(8,5), c2(p2), u1("u1"), u2("u2")
	{
	}
}</code></pre></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_Osci22FeatureImplementationDetails_id6b7c1c61.html" title="The implementation details related to OSCI SystemC 2.2 release are provided in this section.">OSCI 2.2 Feature Implementation Details</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Construction Parameters for SystemC Types in 2.2"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ConstructionParametersSystemcTypesIn22_id7e25e675.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>