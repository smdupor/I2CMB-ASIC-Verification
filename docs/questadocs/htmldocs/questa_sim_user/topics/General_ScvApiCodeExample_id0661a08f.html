<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="SCV API Code Example" />
<meta name="abstract" content="This SCV API code example is distributed with Questa SIM and can be found in the following location of your installation directory: install_dir/examples/systemc/transactions/simple" />
<meta name="description" content="This SCV API code example is distributed with Questa SIM and can be found in the following location of your installation directory: install_dir/examples/systemc/transactions/simple" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0661a08f-be0d-4d1d-ab80-caf09f674288" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>SCV API Code Example</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="SCV API Code Example" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id0661a08f-be0d-4d1d-ab80-caf09f674288">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">SCV
API Code Example</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">This SCV
API code example is distributed with <span class="ph fmvar:ProductName">Questa SIM</span> and
can be found in the following location of your installation directory: <span class="ph filepath">install_dir/examples/systemc/transactions/simple</span></span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id0661a08f-be0d-4d1d-ab80-caf09f674288__ide8b73917-4bf7-4742-aaeb-95de8bfaacfa"><pre class="pre codeblock"><code>#include &lt;systemc.h&gt;
#include &lt;scv.h&gt;</code></pre><pre class="pre codeblock"><code>typedef scv_tr_generator&lt;int, int&gt; generator;</code></pre><pre class="pre codeblock"><code>SC_MODULE(tx)
{
    public:
    scv_tr_db        *txdb;        /* a handle to a transaction database  */
    scv_tr_stream    *stream;      /* a handle to a transaction stream   */
    generator        *gen;         /* a handle to a transaction generator */</code></pre><pre class="pre codeblock"><code>    SC_CTOR(tx)
    {
        SC_THREAD(initialize);
        SC_THREAD(thread);
    }</code></pre><pre class="pre codeblock"><code>    /* initialize transaction recording, create one new transaction */
    /* database and one new transaction stream */
	void initialize(void) {
        scv_startup();
        scv_tr_wlf_init();
        txdb = new scv_tr_db("txdb");
        stream = new scv_tr_stream("Stream", "** TRANSACTOR **", txdb);
    }</code></pre><pre class="pre codeblock"><code>    /* create one new transaction */
    void thread(void) {
        scv_tr_handle trh;</code></pre><pre class="pre codeblock"><code>        gen = new generator("Generator", *stream, "begin", "end");</code></pre><pre class="pre codeblock"><code>        wait(10, SC_NS);                     /* Idle period         */
        trh = gen-&gt;begin_transaction(10);    /* Start a transaction */
        wait(2, SC_NS);
        trh.record_attribute("special", 12); /* Add an attribute    */
        wait(2, SC_NS);
        gen-&gt;end_transaction(trh, 14);       /* End a transaction   */
        wait(2, SC_NS);                      /* Idle period         */
    }
};</code></pre><pre class="pre codeblock"><code>SC_MODULE(top)
{
 public:
  tx *a;
  SC_CTOR(top)
  {
      a = new tx("tx");
  }
};</code></pre><pre class="pre codeblock"><code>SC_MODULE_EXPORT(top);</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_TransactionRecordingProcedures_id36a0ba64.html" title="The procedures for recording transactions depend on the language you are using.">Transaction Recording Procedures</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/TaskTop_InitializingScvCreatingWlfDatabaseObject_id860c1940.html#id860c1940-b344-4a21-a41c-7153fbc1569c__" title="Before transactions can be recorded, the design must initialize the SCV library once, as part of its own initialization.">Initializing SCV and Creating WLF Database Object</a></div>
<div><a class="link" href="../topics/Concept_TransactionGenerators_id4c101a62.html#id4c101a62-d195-4a12-953e-1f647ddefb14__" title="Using Standard C and SystemC types for attributes enable transaction generators without additional preparation with SystemC Verification (SCV).">Transaction Generators</a></div>
<div><a class="link" href="../topics/TaskTop_WritingScvTransactions_iddd95aa46.html#iddd95aa46-b1dd-496d-b89a-e7faea0b94a6__" title="The steps for recording SystemC Verification (SCV) transactions require you to define a transaction stream, start a transaction, record special attributes, specify transaction start and end times, and end the transaction.">Recording SCV Transactions</a></div>
<div><a class="link" href="../topics/Concept_ScvLimitations_id46c7b4aa.html#id46c7b4aa-7c08-40c7-bbf2-9326ae25991e__" title="There are a couple limitations to SystemC and transaction recording.">SCV Limitations</a></div>
<div><a class="link" href="../topics/TaskTop_RecordingTransactionsInSystemc_id7cdc0cbd.html#id7cdc0cbd-5962-4f83-8945-40e5ee2c292d__" title="Use the SystemC Verification (SCV) library’s transaction recording API routines to define transactions, to start them, to end them, to create relationships between them, and to attach additional information (attributes) to them.">Recording Transactions in SystemC</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "SCV API Code Example"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_ScvApiCodeExample_id0661a08f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>