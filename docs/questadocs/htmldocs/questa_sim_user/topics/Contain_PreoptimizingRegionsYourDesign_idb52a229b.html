<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="Preoptimizing Regions of Your Design" />
<meta name="abstract" content="A Preoptimized Design Unit (PDU) is a region of your design that you can identify for a one-time optimization by using the -pdu argument of the vopt command. You can then reuse the PDU and exclude it from being optimized. This reduces the amount of time for future optimization and simulation runs by preoptimizing (black-boxing) static or unchanging regions of your design." />
<meta name="description" content="A Preoptimized Design Unit (PDU) is a region of your design that you can identify for a one-time optimization by using the -pdu argument of the vopt command. You can then reuse the PDU and exclude it from being optimized. This reduces the amount of time for future optimization and simulation runs by preoptimizing (black-boxing) static or unchanging regions of your design." />
<meta name="DC.subject" content="&lt;$nopage&gt;black-boxing, &lt;$singlepage&gt;Preoptimized Design Unit" />
<meta name="keywords" content="&lt;$nopage&gt;black-boxing, &lt;$singlepage&gt;Preoptimized Design Unit" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb52a229b-7844-4d9f-af92-c6000daa2433" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Preoptimizing Regions of Your Design</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Preoptimizing Regions of Your Design" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idb52a229b-7844-4d9f-af92-c6000daa2433">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Preoptimizing Regions
of Your Design</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">A Preoptimized
Design Unit (PDU) is a region of your design that you can identify
for a one-time optimization by using the -pdu argument of the vopt command.
You can then reuse the PDU and exclude it from being optimized.
This reduces the amount of time for future optimization and simulation
runs by preoptimizing (black-boxing) static or unchanging regions
of your design. </span>
</div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">QIS is the preferred
method to use when optimizing designs with vopt for debug/visibility
purposes. Refer to “<a class="xref fm:HeadingAndPage" href="Concept_QuestaDumpingAndVisibility_id71148e4b.html#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23__Concept_QuestaDumpingAndVisibility_id71148e4b.xml#id71148e4b-8e58-4bc9-b2f3-20f1bab7ec23" title="QIS in the tool enables full vopt simulations while providing debug or visibility capabilities.">Questa Dumping and Visibility</a>” for complete details. </p>
</div>
<p class="p">Identifying a preoptimized design unit (PDU) optimizes portions
of the design while allowing other portions to be modified or recompiled.
Using vopt -pdu maximizes throughput for designs with many different
test benches and an unchanged device under test (DUT). You can also
use the -pdu argument for different configurations of the same DUT,
such as a fully optimized configuration and a debug configuration
with full or partial visibility. For any future use of this PDU, <span class="ph fmvar:ProductName">Questa SIM</span> automatically recognizes
and uses it, which reduces the runtime of vopt. </p>
<p class="p">The difference between using a PDU and standard optimization
is that you run vopt twice. The first run creates the PDU (usually
the DUT). The optional second run of vopt optimizes the testbench
and loads the previously optimized DUT (under another name). Note that
creating a PDU does not improve simulation run-time compared to
standard optimization—a PDU helps reduce optimization time by reusing
optimized portions of the design. </p>
<p class="p">For
an example, refer to <a class="xref fm:HeadingOnly" href="TaskTop_SimulatingDesignsMultipleTestBenches_id871316ea.html#id871316ea-5dfc-4eda-a620-d4aca0321155__TaskTop_SimulatingDesignsMultipleTestBenches_id871316ea.xml#id871316ea-5dfc-4eda-a620-d4aca0321155" title="When using multiple test benches to simulate a design, you typically use vopt -pdu to optimize each design under test (DUT) as a preoptimized design unit (PDU). You would then use the Three-Step simulation on the different test benches, which prevents having to optimize each DUT.">Simulating Designs with Multiple Test Benches</a>. </p>
<p class="p">When you are using <a class="xref Link" href="../../questa_sim_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'vopt', 'questa_sim_ref'); return false;">vopt</a> -pdu,
you should associate the optimized name with the original name using
the -o argument. For example:</p>
<p class="lines ApplCommand">vopt -pdu moda -o moda_pdu_opt</p>
<p class="p">In this example, any design that contains
an instantiation of the module <span class="ph FontProperty emphasis">moda</span>, <span class="ph fmvar:ProductName">Questa SIM</span> runs a design analysis
and automatically includes the Preoptimized Design Unit <span class="ph FontProperty emphasis">moda_pdu_opt</span>. </p>
<p class="p">When using vopt -pdu, be aware of the
following:</p>
<ul class="ul"><li class="li" id="idb52a229b-7844-4d9f-af92-c6000daa2433__id1881cc39-1912-4d0d-8265-1aa02778557c"><p class="p">When you instantiate a region that
has been preoptimized (black-boxed), you do not need to run vopt
on the top level module.</p>
</li>
<li class="li" id="idb52a229b-7844-4d9f-af92-c6000daa2433__id712874fd-078f-4c06-a259-97c746cb3bb9"><p class="p">During optimization, <span class="ph fmvar:ProductName">Questa SIM</span> does not descend into the PDU,
which results in faster operation. However, parameters passing through and
hierarchical references across the PDU are restricted. You can retain
visibility into a PDU by using the -pdusavehierrefs argument to
vopt, but it can reduce simulation performance.</p>
</li>
<li class="li" id="idb52a229b-7844-4d9f-af92-c6000daa2433__idf61437b0-69e9-4eef-8972-97f72ac3446b"><p class="p">You will need to manage both the
original portion (<span class="ph FontProperty emphasis">moda</span>)
and its optimized version (<span class="ph FontProperty emphasis">moda_pdu_opt</span>).
Specifically, you must not remove the optimized version without
also removing or recompiling the original version.</p>
</li>
</ul>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_SimulatingDesignsMultipleTestBenches_id871316ea.html" title="When using multiple test benches to simulate a design, you typically use vopt -pdu to optimize each design under test (DUT) as a preoptimized design unit (PDU). You would then use the Three-Step simulation on the different test benches, which prevents having to optimize each DUT. ">Simulating Designs with Multiple Test Benches</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_ExtractingVisibilityRequirementsPdus_idfaf686c1.html" title="A PDU may contain objects within its hierarchy that need to retain visibility for a successful simulation. ">Extracting Visibility Requirements for PDUs</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_UsingConfigurationsPreoptimizedVerilogDesignUnits_id3d41923f.html" title="You can use a Verilog configuration with the ‑pdu argument to vopt. ">Using Configurations with Preoptimized Verilog Design Units</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_UsingConfigurationsPreoptimizedVhdlDesignUnits_id2c1831e4.html" title="You can use a VHDL configuration with the ‑pdu argument to vopt. ">Using Configurations with Preoptimized VHDL Design Units</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Trouble_ResolvingPreoptimizedDesignUnitLoadingErrors_id559fe706.html" title="A Preoptimized Design Unit does not allow mapping of libraries inside the PDU, though you can use mapping to find the upper-level PDU library. Compiling libraries and optimizing design units on one machine and then simulating the design on another machine (such as in a grid environment) can lead to an error condition—most frequently resulting from a changed file dependency or library path. ">Resolving Preoptimized Design Unit Loading Errors</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_OptimizingDesignsVopt_id37377122.html" title="Questa SIM, by default, performs built-in optimizations on your design to maximize simulator performance.">Optimizing Designs with vopt</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Preoptimizing Regions of Your Design"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_PreoptimizingRegionsYourDesign_idb52a229b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>