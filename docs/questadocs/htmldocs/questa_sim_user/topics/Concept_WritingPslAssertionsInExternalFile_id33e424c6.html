<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Writing PSL Assertions in an External File" />
<meta name="abstract" content="PSL assertions in an external file are grouped into vunits." />
<meta name="description" content="PSL assertions in an external file are grouped into vunits." />
<meta name="DC.subject" content="assertions, external file, contained in, PSL, in external file" />
<meta name="keywords" content="assertions, external file, contained in, PSL, in external file" />
<meta name="prodname" content="Questa SIM User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM User's Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id33e424c6-f65a-4117-9679-77564dafc86c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Writing PSL Assertions in an External File</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Writing PSL Assertions in an External File" />
<meta name="attributes" content="product.version.2020.4,sort.order.020,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id33e424c6-f65a-4117-9679-77564dafc86c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Writing PSL Assertions in an External File</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">PSL assertions
in an external file are grouped into vunits.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id33e424c6-f65a-4117-9679-77564dafc86c__id07beb80e-9d35-4f1d-85dc-98bea51d5d78"><h2 class="title Subheading sectiontitle">Syntax</h2><p class="lines ApplCommand">vunit name [(&lt;HDL_design_unit&gt;)]<br />
{<br />
    default clock = &lt;clock_decl&gt;;<br />
    &lt;assertions&gt;;<br />
    ...<br />
}</p>
<pre class="pre codeblock leveled"><code>name </code></pre><p class="p">The name of the vunit.</p>
<pre class="pre codeblock leveled"><code>&lt;HDL_design_unit&gt; </code></pre><p class="p">The module or entity/architecture to which
the vunit is bound.</p>
<p class="p">Can also be a design unit instance if you
are running the simulation without optimization (see <a class="xref fm:HeadingOnly" href="Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.html#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70__Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.xml#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70" title="The use of PSL assertions differs from the use SystemVerilog assertions because PSL assertions can be embedded in your code or supplied in an external file, while SystemVerilog assertions are always embedded in your code.">Using PSL Assertions and Cover Directives</a>).</p>
<p class="p">Optional. </p>
<p class="p">If the design unit is unspecified the vunit
does not bind to anything.</p>
<p class="p">Unbound vunits may be "inherited" from other
vunits using the PSL keyword <span class="ph FontProperty HeadingLabel">inherit</span>.
This option is available only if you are running the simulation
with optimization. (See <a class="xref fm:HeadingOnly" href="Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.html#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70__Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.xml#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70" title="The use of PSL assertions differs from the use SystemVerilog assertions because PSL assertions can be embedded in your code or supplied in an external file, while SystemVerilog assertions are always embedded in your code.">Using PSL Assertions and Cover Directives</a>).</p>
<pre class="pre codeblock leveled"><code>&lt;clock_decl&gt;</code></pre><p class="p">The default clock declaration for the vunit.</p>
<pre class="pre codeblock leveled"><code>&lt;assertions&gt;</code></pre><p class="p">Any number of verification directives or
PSL statements.</p>
<h2 class="title Subheading sectiontitle">Restrictions</h2><p class="p">The following restrictions exist when providing
PSL assertions in a separate file.</p>
<ul class="ul"><li class="li" id="id33e424c6-f65a-4117-9679-77564dafc86c__id6dda0b5c-bc6d-4a0c-b45e-a06d744169fc"><p class="p">Vunits can be bound only to a module,
entity, or architecture.</p>
<p class="p">Unless you are running the simulation
without optimization (see <a class="xref fm:HeadingOnly" href="Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.html#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70__Contain_UsingPslAssertionsCoverDirectives_id9a502aa1.xml#id9a502aa1-cfbd-4083-9ebe-a0e5d852dd70" title="The use of PSL assertions differs from the use SystemVerilog assertions because PSL assertions can be embedded in your code or supplied in an external file, while SystemVerilog assertions are always embedded in your code.">Using PSL Assertions and Cover Directives</a>).</p>
</li>
<li class="li" id="id33e424c6-f65a-4117-9679-77564dafc86c__id94f70966-740a-4bee-b5f7-b2c8f99db368"><p class="p">The PSL file and its corresponding HDL
file must be compiled together if you are running the debug flow. </p>
</li>
</ul>
<h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Example 11-2 shows how three assertions are
written in one vunit using Verilog syntax.</p>
<div class="fig fignone ExampleTitle" id="id33e424c6-f65a-4117-9679-77564dafc86c__id0cae0137-3ac9-47e3-b670-600d164b3ee9"><span class="figcap"><span class="fig--title-label">Example 1. </span>Writing
Assertions in an External File</span><pre class="pre codeblock leveled"><code>vunit check_dram_controller(dram_control)
{
  default clock = rose(clk);

  // declare refresh sequence
  sequence refresh_sequence = {
   !cas_n &amp;&amp; ras_n &amp;&amp; we_n; [*1]; 
   (!cas_n &amp;&amp; !ras_n &amp;&amp; we_n)[*2]; 
   cas_n &amp;&amp; ras_n};

  sequence signal_refresh = {[*24]; rose(refresh)};

  property refresh_rate = always {rose(reset_n) || rose(refresh)} |=&gt; {signal_refresh};

  assert refresh_rate;

  property check_refresh = always ({rose(refresh)} |-&gt;
      {(mem_state != IDLE)[*0:14]; (mem_state == IDLE); refresh_sequence}
               abort fell(reset_n));

  assert check_refresh;

  // Check the write cycle
property check_write  = always {fell(as_n) &amp;&amp; !rw} |=&gt; {
          [*0:5];
          (!ras_n &amp;&amp; cas_n &amp;&amp; (addr_out == addr_in[7:4]));
          (!ras_n &amp;&amp; cas_n &amp;&amp; (addr_out == addr_in[3:0]))[*2];
          (!ras_n &amp;&amp; !cas_n)[*2];
          ack};

  assert check_write;

  // check the read cycle
  property check_read = always {fell(as_n) &amp;&amp; rw} |=&gt; {
          [*0:5];
          (!ras_n &amp;&amp; cas_n &amp;&amp; (addr_out == addr_in[7:4]));
          (!ras_n &amp;&amp; cas_n &amp;&amp; (addr_out == addr_in[3:0]))[*2];
          (!ras_n &amp;&amp; !cas_n)[*3];
          ack};

  assert check_read;
}</code></pre></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CommonPslAssertionsCodingTasks_idd04561e6.html" title="Common tasks associated with coding PSL assertions include embedding them in your code, writing them to an external file, putting HDL code inside PSL statements, and others.">Common PSL Assertions Coding Tasks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_user"
                DocTitle = "Questa® SIM User's Manual"
                PageTitle = "Writing PSL Assertions in an External File"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_WritingPslAssertionsInExternalFile_id33e424c6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM User's Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>