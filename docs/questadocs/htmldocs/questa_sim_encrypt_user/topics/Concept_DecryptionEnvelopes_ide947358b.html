<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Decryption Envelopes" />
<meta name="abstract" content="From this point Alice will use IEEE 1735 specified pragmas, Bob’s public encryption keys, and various command line arguments to produce the final output of the encryption process which is a decryption envelope. Alice gives Rahul a final set of files with decryption envelopes. Rahul uses these files as input into Bob’s tools. Bob’s tools use his private encryption key to decrypt the IP." />
<meta name="description" content="From this point Alice will use IEEE 1735 specified pragmas, Bob’s public encryption keys, and various command line arguments to produce the final output of the encryption process which is a decryption envelope. Alice gives Rahul a final set of files with decryption envelopes. Rahul uses these files as input into Bob’s tools. Bob’s tools use his private encryption key to decrypt the IP." />
<meta name="prodname" content="" />
<meta name="version" content="3.4" />
<meta name="release" content="10.7b" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation" />
<meta name="DC.Date.Created" content="2018-01-16" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® " />
<meta name="SourceHandle" content="questa_sim_encrypt_user" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="ShowConditionIndicators" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="IncludeInInventory" content="Yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="none" />
<meta name="HighlightColor" content="Pale%20Green" />
<meta name="HighlightChanges" content="none" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="EclipsePluginName" content="none" />
<meta name="Draft" content="None" />
<meta name="DraftDate" content="None" />
<meta name="DocumentTitle" content="Questa® SIM Encryption User’s Manual" />
<meta name="DocPackages" content="none" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="None" />
<meta name="ActiveStatus" content="Active" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide947358b-8f1b-40a3-934a-18ec998e56d5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Decryption Envelopes</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Decryption Envelopes" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ide947358b-8f1b-40a3-934a-18ec998e56d5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Decryption Envelopes</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">From this point Alice
will use IEEE 1735 specified pragmas, Bob’s public encryption keys,
and various command line arguments to produce the final output of
the encryption process which is a <span class="ph FontProperty emphasis">decryption envelope</span>. Alice
gives Rahul a final set of files with decryption envelopes. Rahul
uses these files as input into Bob’s tools. Bob’s tools use his
private encryption key to decrypt the IP.</span>
</div>
<p class="p">The contents of the
source is not important at this point, only the output decryption
envelope. By understanding the decryption envelope, Bob, Alice and
Rahul will understand the inputs required to produce an encrypted
file.</p>
<pre class="pre codeblock"><code>1  `pragma protect begin_protected
2  `pragma protect version=2
3  `pragma protect encrypt_agent="Mentor Graphics, Inc.", encrypt_agent_info="Questa 10.7b"
4
5  `pragma protect  begin_commonblock
6  `pragma protect  end_commonblock
7
8  `pragma protect  begin_toolblock
9  `pragma protect key_keyowner="ABC Tools"
10  `pragma protect key_keyname="ABC-KEY-1024"
11  `pragma protect key_method="rsa"
12  `pragma protect rights_digest_method="sha256"
13  `pragma protect key_block
14  LVNUh72QqU4giJYSCZXnwfBRqAhUgKadk8P5C4FcQYB8Amf+y5GpzE1vf1xog/Xr
15  +gBBCxJ2KLvYWufLjM6ez3/9GTJOgGpRijQUFu9nhqFCtWb5zJOWhRMqau1tFszZ
16  eu906q+8n/lWtCbdYmq8DzIL1Vpunf/SXOrbPNJN2lM=
17
18  `pragma protect end_toolblock="b/7dpb9vQtHMBxsHFWHVOXL07X6oEtkkX5ys="
19  `pragma protect  begin_toolblock
20  `pragma protect key_keyowner="Mentor Graphics Corporation"
21  `pragma protect key_keyname="MGC-VERIF-SIM-RSA-2"
22  `pragma protect key_method="rsa"
23  `pragma protect rights_digest_method="sha256"
24  `pragma protect key_block
25  KyCByJ5KXJSmGKYSRxhmF091VakDdm1IoiZQ4ta4UrZlr90OaOasmZAdDWEhXmpj
26  Pl7s3ubwt4QNbL1HKJpmsvlxyThWxgXjN3VtQcTDHNA3Q554HH2GZeOEQO6L/JU/
27  alwloeJKeUZD0uLRaDpJKE/ep90+W3wr1kW6pVCNguhBsDrzCy/0vkbPTqA5Ya23
28  T1zCoLvgreCMFkjD43uAFXao3J7lNeOFSKouxDBsSk2P/SiLFBQ9+Na/4YowZTSR
29  NaZAuWY/Bp3tsA7d5D4pTvwezhpBSBrzECJtlAT1j7LgZcMQI1FZW9waJtRuHcIS
30  G+Pwgrl0sUY4Hsb1gtw+fw==
31
32  `pragma protect end_toolblock="C0XGjmTI1AO4Wg61NLmo2j3Ng1I84FM5IYiz="
33  `pragma protect data_method="aes128-cbc"
34  `pragma protect data_block
35  ZV/gs4OIhQrYmUjl78J0//LyJcAeuhHuUoj11DDwFW4=
36  `pragma protect end_protected</code></pre><p class="p">There are three important sections in the decryption
envelope that allow Bob’s tools to properly decrypt the source:</p>
<ul class="ul"><li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__idcd0a1303-a3d7-4a29-a967-872a96622df1"><p class="p">Bob’s tools must find a public key that they recognize
to use the decrypted code. The owner of the key is specified by
the <span class="ph FontProperty shellcommand">key_keyowner</span> and <span class="ph FontProperty shellcommand">key_keyname </span>pragmas.
This gives Bob’s tools everything they need to start the decryption.</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id3b5d79a8-b3de-49b5-8a61-b9fcd0e1debe"><p class="p">Bob’s
tools use their recognized key to get the secondary session key
to the data. This key is used to decrypt the <span class="ph FontProperty shellcommand">data_block</span>.
The <span class="ph FontProperty shellcommand">data_method </span>pragma
tells Bob exactly how to use the key.The encrypting tools communicates
the session key to the decrypting tool, by means of a <span class="ph FontProperty shellcommand">KEY_BLOCK</span>.
The decrypting tool reads each <span class="ph FontProperty shellcommand">KEY_BLOCK </span>until
it finds one that specifies a key it knows about. It then decrypts
the associated <span class="ph FontProperty shellcommand">KEY_BLOCK</span> data
to determine the original session key, and uses that session key
to decrypt the IP source code.</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id373ad752-cd76-4887-9e16-3c0714078d4b"><p class="p">Encrypted data. These are marked off by the<span class="ph FontProperty shellcommand"> data_block</span> pragma.</p>
</li>
</ul>
<p class="p">At various points in the encryption process, Alice
must specify all the previous information to the <span class="ph FontProperty shellcommand"> vencrypt </span> and <span class="ph FontProperty shellcommand">vhencrypt</span> commands.</p>
<p class="p">The following is a walk-through of the previous
decryption envelope line-by-line which reflects how Alice produced
them for Rahul and Bob.</p>
<ul class="ul"><li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id2bce726e-ed54-4405-8373-91dc74b75c7f"><p class="p"><span class="ph FontProperty emphasis">Line 1.</span> The
result of a <span class="ph FontProperty shellcommand">`pragma protect begin </span>pragma
in the source text, or, it was inferred in a whole-file encryption.
The smame could also have been achieved by Alicia using the using
also the command line argument –wholefile.</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__iddb6a3bc8-c0f2-4335-a200-c2763b10a854"><p class="p"><span class="ph FontProperty emphasis">Line 2.</span> The
IEEE 1735 version number. May be explicit in the header file (-h)
or specified with embedded pragmas. </p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id480f05dc-130c-43f4-9f66-f33fbec794ec"><p class="p"><span class="ph FontProperty emphasis">Line 3.</span> Inserted
by the encryption tool to identify itself.</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id4ff16d38-8595-4a58-99c2-aef8dcde8a82"><p class="p"><span class="ph FontProperty emphasis">Line 5-6.</span> (Version
IEEE 1735 v2 only). The common block is replicated from either the
embedded text, the -h header file argument, or the -common file
argument. It may contain common rights (this example does not).</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id57d91a38-b020-4c10-bdc0-633e99928698"><p class="p"><span class="ph FontProperty emphasis">Lines 8-18 and 19-32.</span> There
are two toolblocks, each one for a specific tool. These may have
come from two separate command line options: the -toolblock option,
from within a -h header file; or embedded pragmas. If Alice does
not specify a toolblock, then the encryption commands infer and default
to the Questa Sim public encryption key.</p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__idb70da0ed-0c9a-4f1e-bb16-1d19c1e8ca0d"><p class="p"><span class="ph FontProperty emphasis">Line 33.</span> Specified
from the command line, an embedded pragma, or in the files specified
by the -common or -h command lines arguments. The encryption commands
infer the value of data_method if Alice does not specify it. The
inferred value is “aes128-cbc”. </p>
</li>
<li class="li" id="ide947358b-8f1b-40a3-934a-18ec998e56d5__id1b133f96-c51f-4ff4-becb-4f60547621bd"><p class="p"><span class="ph FontProperty emphasis">Lines 34-36.</span> The
result of the input data after the original <span class="ph FontProperty shellcommand">`pragma protect begin </span>and
up to the `<span class="ph FontProperty shellcommand">pragma protect end</span> (or
EOF if inferred).</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_Ieee1735SupportedEncryptionMethods_id5804fa55.html" title="The IEEE 1735 is the standard for encryption interoperability.">IEEE 1735 Supported Encryption Methods</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_encrypt_user"
                DocTitle = "Questa® SIM Encryption User’s Manual"
                PageTitle = "Decryption Envelopes"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DecryptionEnvelopes_ide947358b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Encryption User’s Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>