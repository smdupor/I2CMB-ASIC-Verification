<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Using Autoprotect Mode" />
<meta name="abstract" content="Use Autoprotect Mode to encrypt Verilog/SystemVerilog source without the use of pragmas." />
<meta name="description" content="Use Autoprotect Mode to encrypt Verilog/SystemVerilog source without the use of pragmas." />
<meta name="prodname" content="" />
<meta name="version" content="3.4" />
<meta name="release" content="10.7b" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation" />
<meta name="DC.Date.Created" content="2018-01-16" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® " />
<meta name="SourceHandle" content="questa_sim_encrypt_user" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="ShowConditionIndicators" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="IncludeInInventory" content="Yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="none" />
<meta name="HighlightColor" content="Pale%20Green" />
<meta name="HighlightChanges" content="none" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="EclipsePluginName" content="none" />
<meta name="Draft" content="None" />
<meta name="DraftDate" content="None" />
<meta name="DocumentTitle" content="Questa® SIM Encryption User’s Manual" />
<meta name="DocPackages" content="none" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="None" />
<meta name="ActiveStatus" content="Active" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using Autoprotect Mode</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using Autoprotect Mode" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Using Autoprotect Mode</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">Use Autoprotect
Mode to encrypt Verilog/SystemVerilog source without the use of
pragmas.</span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3__id298cff74-6028-43bd-9799-d567c77a143f"><p class="p">Source files restricted to Verilog.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3__id17219898-c129-44b8-bd93-cd8429e11598"><span class="ph cmd">Review and decide what elements of a module
you want to encrypt or make visible. Refer to <a class="xref fm:TableAndPage" href="Concept_AutomaticEncryptionOperation_id4f9316d7.html#id4f9316d7-ccac-4167-80c2-28e3880dd0a4__id2e10adac-31e0-4f7c-a41d-b72464e8f87a">Table 1</a> for
a list of options.</span></li>
<li class="li step stepexpand" id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3__id0e45be0d-0428-474d-b0e9-40ef351f2760"><span class="ph cmd">Decide if a PLI program should access the encrypted
code. If yes, then you must use the -pli_unprotected argument in
conjunction with an Autoprotect Mode option.</span></li>
<li class="li step stepexpand" id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3__id9e47e318-2512-4a26-8444-14e60e743137"><span class="ph cmd">Create a Verilog source file. The following
is a sample file to demonstrate automatic encryption. </span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>module test_dff4(output [3:0] q, output err);
parameter WIDTH = 4;
parameter DEBUG = 0;
	reg [3:0] d;
	reg 	  clk;
	dff4 d4(q, clk, d);
assign 	
  err = 0;initial
	begin
		$dump_all_vpi;
		$dump_tree_vpi(test_dff4);
		$dump_tree_vpi(test_dff4.d4);
		$dump_tree_vpi("test_dff4");
endendmodule

module dff4(output [3:0] q, input clk, input [3:0] d);
`pragma protect data_method = "aes128-cbc"
`pragma protect author = "IP Provider"
`pragma protect author_info = "Widget 5 version 3.2"
`pragma protect key_keyowner = "Mentor Graphics Corporation"
`pragma protect key_method = "rsa"
`pragma protect key_keyname = "MGC-VERIF-SIM-RSA-2"
`pragma protect begin
	dff_gate d0(q[0], clk, d[0]);
	dff_gate d1(q[1], clk, d[1]);
	dff_gate d2(q[2], clk, d[2]);
	dff_gate d3(q[3], clk, d[3]);
endmodule // dff4

module dff_gate(output q, input clk, input d);

wire preset = 1;
wire clear = 1;
nand #5
		g1(l1,preset,l4,l2),
		g2(l2,l1,clear,clk),
		g3(l3,l2,clk,l4),
		g4(l4,l3,clear,d),
		g5(q,preset,l2,qbar),
		g6(qbar,q,clear,l3);
endmodule
wire test =1; 
`pragma protect end</code></pre></div></li>
<li class="li step stepexpand" id="id30de3f8b-9ce5-43bc-bdd6-1b926e3be0b3__idf3f2f9bf-421e-4b00-8a46-a46fd91ebb4a"><span class="ph cmd">Create encrypted source using the <span class="ph FontProperty shellcommand">vencrypt</span> command,
such as:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">vencrypt -auto2protect myfile.v</p>
<p class="p">The resulting <span class="ph filepath">myfile.vp</span> follows.
Note that the encrypted text is formatted to the width of printed
page. The resulting encryption the name of the module as clear text.
Non-automatic encryption encrypts all visible objects in the source file.</p>
</div><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>
module test_dff4(output [3:0] q, output err);

‘protected
MTI!#\!p3asr=j=+aiG#kG!YelA,T[ Tn![{$""F^|]@WBNj3{u}&gt;X5{=+',C2VB&gt;$mE@lODF}JDi{{z&lt;0q^_=Y^x7s}xkUlY[p?1$vRjU7]+j]yK${p\Z~[K'+nojx[#1p&lt;=@9x?*Z6^g@]ZIV_xig73ovC!zW$I$IIt&gt;UXRH-KRRD+]xpw~ur&gt;#oCo,3j^r]+_@6&gt;{BW?EDx^m-w+[VUoe2rf3s+Xl?xEJ17p-eAEnE;#k{;]x@Tn53'lL][#nBC$ZVZI-B2[,05e1nm1BE*jR@lih7H'B*/BIRo&gt;sY#oO?OpOOYrxk,$Z\UZrqF~-3-^W2T!5vm}aE13*m'Woa=ar+R"$K'EGw]RI7
`endprotected
endmodule 

module dff4(output [3:0] q, input clk, input [3:0] d);

`protected
MTI!#w1,^RHum@}eI5vujVK&gt;X:;G{#@-TY:u["F^|]"W$*3-rKmO{uUY?ji]k1eunCl@N%:#RQ,\*w]j&lt;sek&gt;zw]$Cj-w[[5OjR;*AGHD+oj5@[UnsKOY?$VBIAz_V'lz\#$o+sao?$1$Kvka}-`endprotected
endmodule // 

dff4module dff_gate(output q, input clk, input d);

`protected
MTI!#5^7_y$7ekr3@ZWB\u'r7z;G{#@-TY:j["F^|]"Ru*5{CwlR*iwY?VA]5EQ+Xl=$Y{s_wQ-j,r_qYTRu'#HK-[?#5EH[Kv{JY(I*B\Tw-xuXY~2[z}C3C2=;\21C-xd$BA;O?~r125Y(A]Z?j3v{v'Ya_Ul\EpkBlH,VQxBOox&lt;T-G!Q}3m'7~vQ,j&lt;IvT$}]AeR$elzRo~~3$7s^#K2[HQRk$AZOaOAGU[$NRuEX3n\$_i
`endprotected
endmodule
wire test =1; 
</code></pre></div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_AutoprotectMode_id302ca070.html" title="The vencrypt command supports pragma-less encryption that only supports IEEE 1735 version 0. This feature is called Autoprotect Mode. It only supports the encryption of Verilog source files. Autoprotect Mode is meant for in-house obfuscation methodologies for such tasks as black box testing. It is not recommended that you use this feature for encrypting IP for external use.">Autoprotect Mode</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_encrypt_user"
                DocTitle = "Questa® SIM Encryption User’s Manual"
                PageTitle = "Using Autoprotect Mode"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_UsingAutoprotectMode_id30de3f8b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Encryption User’s Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>