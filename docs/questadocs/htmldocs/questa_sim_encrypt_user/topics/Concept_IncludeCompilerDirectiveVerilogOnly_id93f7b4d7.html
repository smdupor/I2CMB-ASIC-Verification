<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="The `include Compiler Directive (Verilog only)" />
<meta name="abstract" content="You can use the ‘include directive in Verilog files during encryption." />
<meta name="description" content="You can use the ‘include directive in Verilog files during encryption." />
<meta name="DC.subject" content="Encryption, using ‘include, Compile directive, encryption, ‘include, Compile" />
<meta name="keywords" content="Encryption, using ‘include, Compile directive, encryption, ‘include, Compile" />
<meta name="prodname" content="" />
<meta name="version" content="3.4" />
<meta name="release" content="10.7b" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation" />
<meta name="DC.Date.Created" content="2018-01-16" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for ModelSim® " />
<meta name="SourceHandle" content="questa_sim_encrypt_user" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="ShowConditionIndicators" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="IncludeInInventory" content="Yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="none" />
<meta name="HighlightColor" content="Pale%20Green" />
<meta name="HighlightChanges" content="none" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="EclipsePluginName" content="none" />
<meta name="Draft" content="None" />
<meta name="DraftDate" content="None" />
<meta name="DocumentTitle" content="Questa® SIM Encryption User’s Manual" />
<meta name="DocPackages" content="none" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="None" />
<meta name="ActiveStatus" content="Active" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id93f7b4d7-3120-4ae2-865c-87e3248c275b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>The `include Compiler Directive (Verilog only)</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="The `include Compiler Directive (Verilog only)" />
<meta name="attributes" content="product.version.2020.4,sort.order.100,doc.type.documentation.ref,product.id.P10467,product.id.P10593,product.id.P11632,product.id.P11633" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id93f7b4d7-3120-4ae2-865c-87e3248c275b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">The `include Compiler Directive (Verilog only)</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can use
the ‘include directive in Verilog files during encryption.</span>
</div>
<p class="p">If any <span class="keyword ParameterName Required">`include</span> directives occur
within a protected region of Verilog code, the encryption commands
generates a copy of the include file with a “<span class="ph filepath">.vp</span>”
or a “<span class="ph filepath">.svp</span>” extension and encrypts the entire
contents of the include file. </p>
<p class="p">Consider the following header file, <span class="ph filepath">header.v</span>,
consisting of the following source code:</p>
<pre class="pre codeblock"><code>initial begin
	a &lt;= b;
	b &lt;= c;
end</code></pre><p class="p">and the file you want to encrypt, <span class="ph filepath">top.v</span>,
contains the following source code:</p>
<pre class="pre codeblock leveled"><code>module top;
	`pragma protect begin
	`include "header.v"
	`pragma protect end
endmodule</code></pre><p class="p">then, when you use the encryption commands,
they encrypt the source code of the header file. If you could decrypt
the resulting <span class="ph filepath">work/top.vp</span> file it would look like:</p>
<pre class="pre codeblock"><code>module top;
	`pragma protect begin
	initial begin
		a &lt;= b;
		b &lt;= c;
	end
	`pragma protect end
endmodule</code></pre><p class="p">When you use the vencrypt compile utility (see <a class="xref fm:HeadingOnly" href="TaskTop_DeliveringIpCodeUndefinedMacros_id91ce02c5.html#id91ce02c5-0fd4-45c0-8e9b-abf57c7c4adf__TaskTop_DeliveringIpCodeUndefinedMacros_id91ce02c5.xml#id91ce02c5-0fd4-45c0-8e9b-abf57c7c4adf" title="The vencrypt utility enables IP authors to deliver VHDL and Verilog/ SystemVerilog IP code (respectively) that contains undefined macros and `directives. End users can then deploy the resulting encrypted IP code in a wide range of EDA tools and design flows.">Delivering IP Code with Undefined Macros</a>), it will treat any <span class="keyword ParameterName Required">`include </span>statements
as text just like any other source code and it will encrypt them with
the other Verilog/SystemVerilog source code. So, if you use the
vencrypt utility on the <span class="ph filepath">top.v</span> file above, the
resulting <span class="ph filepath">work/top.vp</span> file would look like
the following (if we could decrypt it):</p>
<pre class="pre codeblock"><code>module top;
	`protect
	`include "header.v"
	`endprotect
endmodule</code></pre><p class="p">The vencrypt utility will not create an encrypted
version of <span class="ph filepath">header.h</span>.</p>
<p class="p">You can avoid such errors by creating a dummy
module that includes the parameter declarations. For example, if
you have a file that contains your parameter declarations and a
file that uses those parameters, you can do the following:</p>
<pre class="pre codeblock leveled"><code>module dummy;
	`protect
	`include "params.v" // contains various parameters
	`include "tasks.v" // uses parameters defined in params.v
	`endprotect
endmodule</code></pre><p class="p">After encryption, the work library contains
encrypted versions of <span class="ph filepath">params.v</span> and <span class="ph filepath">tasks.v</span>,
called <span class="ph filepath">params.vp</span> and <span class="ph filepath">tasks.vp</span>.
You can then copy these encrypted files out of the work directory
to more convenient locations.You can then include these encrypted
files within your design. For example:</p>
<pre class="pre codeblock"><code>module main
'include "params.vp"
'include "tasks.vp"
        ...</code></pre><div class="section Subsections" id="id93f7b4d7-3120-4ae2-865c-87e3248c275b__id5747b8e4-46e9-405c-9a13-3f12004e9454"><div class="section Subsection" id="id93f7b4d7-3120-4ae2-865c-87e3248c275b__id7fe3f57b-dc22-47a5-9e41-22b6a86bd14c"><h2 class="title Subheading sectiontitle">Portable Encryption
for Multiple Tools</h2><p class="p">An
IP author can use the concept of multiple key blocks to produce
code that is secure and portable across any tool that supports Version
1 recommendations from the IEEE P1735 working group. This capability
is not language-specific—you can use it for VHDL or Verilog.</p>
<p class="p">For example, suppose the author wants to modify
the following VHDL <span class="ph filepath">sample file</span> so the encrypted
model can be decrypted and simulated by both <span class="ph fmvar:ProductName">Questa Sim</span> and by a hypothetical company
named XYZ inc. </p>
<pre class="pre codeblock"><code>========== sample file ==========</code></pre><pre class="pre codeblock"><code>-- The entity "ip1" is not protected
...
entity ip1 is
...
end ip1;</code></pre><pre class="pre codeblock"><code>-- The architecture "a" is protected
-- The internals of "a" are hidden from the user
`protect data_method = "aes128-cbc"
`protect encoding = ( enctype = "base64" )
`protect key_keyowner = "Mentor Graphics Corporation"
`protect key_keyname = "MGC-VERIF-SIM-RSA-2"
`protect key_method = "rsa"
`protect KEY_BLOCK
`protect begin
architecture a of ip1 is
...
end a;
`protect end</code></pre><pre class="pre codeblock"><code>-- Both the entity "ip2" and its architecture "a" are completely protected
`protect data_method = "aes128-cbc"
`protect encoding = ( enctype = "base64" )
`protect key_keyowner = "Mentor Graphics Corporation"
`protect key_keyname = "MGC-VERIF-SIM-RSA-2"
`protect key_method = "rsa"
`protect KEY_BLOCK
`protect begin
library ieee;
use ieee.std_logic_1164.all;
entity ip2 is
...  
end ip2;
architecture a of ip2 is
...
end a;
`protect end</code></pre><pre class="pre codeblock"><code>========== end of sample file ==========</code></pre><p class="p">The author does this by writing a key block
for each decrypting tool. If XYZ publishes a public key, the two
key blocks in the IP source code might look like the following:</p>
<pre class="pre codeblock"><code>`protect key_keyowner = "Mentor Graphics Corporation"
`protect key_method = "rsa"
`protect key_keyname = "MGC-VERIF-SIM-RSA-2"
`protect KEY_BLOCK
`protect key_keyowner = "XYZ inc"
`protect key_method = "rsa"
`protect key_keyname = "XYZ-keyPublicKey"
`protect key_public_key = &lt;public key of XYZ inc.&gt;
`protect KEY_BLOCK</code></pre><p class="p">The encrypted code would look very much like
the <span class="ph filepath">sample file</span>, with the addition of another
key block:</p>
<pre class="pre codeblock"><code>`protect key_keyowner = "XYZ inc"
`protect key_method = "rsa"
`protect key_keyname = "XYZ-keyPublicKey"
`protect KEY_BLOCK
   &lt;encoded encrypted key information for "XYZ inc"&gt;</code></pre><p class="p"><span class="ph fmvar:ProductName"> Questa
Sim</span> uses its key block to determine the encrypted session key
and XYZ Incorporated uses the second key block to determine the
same key. Consequently, both implementations could successfully
decrypt the code.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The IP owner is
responsible for obtaining the appropriate key for the specific tool(s)
protected IP is intended for. The author should also validate the
encrypted results with those tools to ensure the IP is protected
and will function as intended in those tools.</p>
</div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_EncryptionEnvelopes_idbede3800.html" title="Encryption envelopes define a region of textual design data or code to be protected with protection expressions. The protection expressions specify the encryption algorithm, the encryption key owner, the key name, and envelope attributes.">Encryption Envelopes</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_encrypt_user"
                DocTitle = "Questa® SIM Encryption User’s Manual"
                PageTitle = "The `include Compiler Directive (Verilog only)"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_IncludeCompilerDirectiveVerilogOnly_id93f7b4d7.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Encryption User’s Manual Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>