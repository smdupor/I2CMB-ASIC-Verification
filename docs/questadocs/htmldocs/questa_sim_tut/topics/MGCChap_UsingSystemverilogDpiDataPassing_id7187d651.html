<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="MGCChapter" />
<meta name="DC.Title" content="Using SystemVerilog DPI for Data Passing" />
<meta name="abstract" content="This lesson is designed to build on your understanding of the Direct Programming Interface (DPI) for SystemVerilog. In the previous lesson, you were shown the basic elements of the interface and how to make simple function calls to/from Verilog and C. However, no data was passed across the boundary, which is a very important topic to understand. This lesson will focus on that aspect of the interface." />
<meta name="description" content="This lesson is designed to build on your understanding of the Direct Programming Interface (DPI) for SystemVerilog. In the previous lesson, you were shown the basic elements of the interface and how to make simple function calls to/from Verilog and C. However, no data was passed across the boundary, which is a very important topic to understand. This lesson will focus on that aspect of the interface." />
<meta name="prodname" content="Questa SIM Tutorial" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_tut" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM Tutorial" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7187d651-6072-451f-8446-aa628030e351" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using SystemVerilog DPI for Data Passing</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using SystemVerilog DPI for Data Passing" />
<meta name="attributes" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id7187d651-6072-451f-8446-aa628030e351">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1"> Using SystemVerilog DPI for Data Passing</h1>
<div class="body MGCBody"><div class="abstract MGCAbstract"><span class="shortdesc">This
lesson is designed to build on your understanding of the Direct
Programming Interface (DPI) for SystemVerilog. In the previous lesson,
you were shown the basic elements of the interface and how to make
simple function calls to/from Verilog and C. However, no data was
passed across the boundary, which is a very important topic to understand.
This lesson will focus on that aspect of the interface.</span>
</div>
<p class="p">Although DPI allows
Verilog to interface with any foreign language, we will concentrate
on the C language in this lesson. </p>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Concept_MappingVerilogC_id6fe20fb6.html" title="Whenever we want to send the value of an object from Verilog to C, or vice versa, that value will have a dual personality. It may have been initialized as a bit or a reg over in the Verilog world, for example, and then passed over to C via an imported function call. The C world, however, does not have regs, bits, logic vectors, and so on. How is this going to work?">Mapping Verilog and C</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_DesignFilesLesson_id72fcd00c.html" title="The design files for this lesson are located in the following directory.">Design Files for This Lesson</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Contain_ExamineSourceFiles_ided958cd1.html" title="Before getting started, let us look at the foreign.c file which contains the definitions for the two C functions we will be using to read our data values coming over from the Verilog world and print messages to let us know what is going on. ">Examine the Source Files</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_CompileLoadSimulation_id53792d6e.html" title="We will compile the design and load the simulator using a makefile for Unix and Linux installations, and a windows.bat file for Windows installations.">Compile and Load the Simulation</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/TaskTop_RunSimulation_iddf8dee94.html" title="Once in simulation with the test.sv module loaded, you can use the Step Over command button to advance through the simulation. This will simply set values of different types of Verilog objects and send the data over to C for print out to the screen.">Run the Simulation</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_LessonWrapUp_id1a712fb5.html" title="There is certainly much more involved with passing data back and forth across the boundary between C and Verilog using DPI. What about user-defined types? What about arrays? Structs? 64-bit integers?   This particular subject can get into some intricate detail, and we have already covered quite a bit in this lesson towards the goal of helping you understand the basics of passing data through the interface. Most importantly, what you have learned should give you an understanding of how to make use of the DPI header file that the compiler creates in order to make sure your C code is written properly to interface with SystemVerilog.">Lesson Wrap-Up</a></strong></li>
</ul>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_tut"
                DocTitle = "Questa® SIM Tutorial"
                PageTitle = "Using SystemVerilog DPI for Data Passing"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/MGCChap_UsingSystemverilogDpiDataPassing_id7187d651.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Tutorial Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>