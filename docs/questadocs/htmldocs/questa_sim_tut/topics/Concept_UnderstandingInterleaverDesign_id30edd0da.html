<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Understanding the Interleaver Design" />
<meta name="abstract" content="An interleaver scrambles the byte order of incoming data in order to aid error detection and correction schemes such as Reed Solomon/Viterbi. In the design used for this lesson, the incoming data consists of a sync byte (0xb8, 0x47) followed by 203 bytes of packet data. The 203 bytes consist of 187 bytes of data to which a Reed Solomon encoder has previously appended 16 bytes of data." />
<meta name="description" content="An interleaver scrambles the byte order of incoming data in order to aid error detection and correction schemes such as Reed Solomon/Viterbi. In the design used for this lesson, the incoming data consists of a sync byte (0xb8, 0x47) followed by 203 bytes of packet data. The 203 bytes consist of 187 bytes of data to which a Reed Solomon encoder has previously appended 16 bytes of data." />
<meta name="prodname" content="Questa SIM Tutorial" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_tut" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM Tutorial" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id30edd0da-d989-494d-82d5-6612f4f0ab3f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Understanding the Interleaver Design</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Understanding the Interleaver Design" />
<meta name="attributes" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id30edd0da-d989-494d-82d5-6612f4f0ab3f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Understanding the Interleaver Design</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">An interleaver
scrambles the byte order of incoming data in order to aid error
detection and correction schemes such as Reed Solomon/Viterbi. In
the design used for this lesson, the incoming data consists of a
sync byte (0xb8, 0x47) followed by 203 bytes of packet data. The 203
bytes consist of 187 bytes of data to which a Reed Solomon encoder
has previously appended 16 bytes of data.</span>
</div>
<div class="fig fignone" id="id30edd0da-d989-494d-82d5-6612f4f0ab3f__idea7e28dd-d728-4455-a634-a0e43c558d3b"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Incoming Data</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/intrlvr_payload.gif" /></div><br /></div>
<p class="p">The interleaver has 12
levels numbered 0 to 11. Each level, except the first, can be conceptually thought
of as a FIFO shift register. The depth of each register is 17 greater
than the previous level. The first level (level 0) has a depth of
zero (0); level 1 has a depth of 17; level 2, a depth of 34, and
so on. Level 11 has a depth of 187. The sync byte of the packet
is routed through level 0. When a byte is loaded into each level’s
FIFO shift register, the byte shifted out on the corresponding level
is output by the interleaver. </p>
<p class="p">The FIFO shift registers
are implemented using a single 2KX8 RAM instead of actual registers. The
RAM is divided into 11 different sections and each level has separate
read and write address registers. A state machine controls which
level is being written to and read, and determines which level’s
address registers are selected to drive the actual RAM address inputs. </p>
<p class="p">A common block called rdy_acpt
is used to receive and drive the interleaver data in (di) and data
out (do) ports, respectively. The rdy_acpt block implements a simple
handshake protocol. When the device upstream from the interleaver
drives data to it, the data is driven and the ready signal (di_rdy)
is asserted. The upstream block asserts the data along with its
rdy signal and must leave them asserted until the downstream block
asserts its accept (di_acpt) signal. In other words, the data is
not considered to have been transferred until both the rdy and acpt
signals are asserted on the rising edge of the clock. Both sides
of the rdy_acpt block follow this handshake protocol. The block
diagram of the interleaver is shown in <a class="xref fm:Figure" href="#id30edd0da-d989-494d-82d5-6612f4f0ab3f__id0e4a4d41-ce46-459a-9fc5-34d52aea4ba4">Figure 2</a>.</p>
<div class="fig fignone" id="id30edd0da-d989-494d-82d5-6612f4f0ab3f__id0e4a4d41-ce46-459a-9fc5-34d52aea4ba4"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Block Diagram of the Inteleaver</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/intrleaver_blk_dgrm.gif" /></div><br /></div>
<div class="section Subsections"><div class="section Subsection" id="id30edd0da-d989-494d-82d5-6612f4f0ab3f__id459006ec-6585-4e07-85e7-1750a04a7b9d"><h2 class="title Subheading sectiontitle">The Test Bench</h2><p class="p">The figure below shows
how the test bench components are connected. The stimulus generator creates
random data packets and sends them to the driver. Even though the
test bench is module-based, the stimulus generator still creates
packets that are transaction-based (SV class). This is the big advantage
offered by the Advanced Verification Methodology (AVM) - it allows
you to take advantage of transaction level modeling (TLM) techniques
without having to convert your test bench to a complete object-oriented
programming environment. </p>
<div class="fig fignone" id="id30edd0da-d989-494d-82d5-6612f4f0ab3f__idb12c8ca2-9b41-4cae-8e3f-f237089bab14"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Block Diagram of the Test Bench</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/testbench_blk_dgm.gif" /></div><br /></div>
<p class="p">The driver takes the TLM
packets and converts them to pin-level signals. The driver also
uses randomization to vary the timing of the packets delivered to
the device.</p>
<p class="p">The monitors take the pin
level activity of the DUT inputs and outputs and convert that activity back
to a transaction for use in the coverage collector and scoreboard.</p>
<p class="p">The scoreboard contains
a "golden" reference model of the interleaver that is then compared against
the actual output the device. There is also a feedback loop from
the scoreboard to the stimulus generator to tell the stimulus generator
when testing is complete.</p>
<p class="p">The coverage collector
accumulates functional coverage information to help determine when testing
is complete. It measures things like how many different delay values
were used in the delivery of packets.</p>
<p class="p">Finally the responder (which
is actually part of the driver in this test bench) provides the handshaking <span class="ph filepath">ready/accept</span> signals
needed for packet delivery.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DesignFilesLesson_id1805db7a.html" title="This lesson uses an interleaver design with SystemVerilog assert and cover directives and SystemVerilog covergroups to gain a basic understanding of how functional verification information is gathered and displayed in Questa SIM.">Design Files for this Lesson</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_tut"
                DocTitle = "Questa® SIM Tutorial"
                PageTitle = "Understanding the Interleaver Design"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_UnderstandingInterleaverDesign_id30edd0da.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Tutorial Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>