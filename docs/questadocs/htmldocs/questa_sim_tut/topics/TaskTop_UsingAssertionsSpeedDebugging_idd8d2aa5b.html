<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Using Assertions to Speed Debugging" />
<meta name="abstract" content="To see how assertions can speed debugging, reload the design with assertion failure tracking enabled." />
<meta name="description" content="To see how assertions can speed debugging, reload the design with assertion failure tracking enabled." />
<meta name="DC.subject" content="Assertions, speeding debugging" />
<meta name="keywords" content="Assertions, speeding debugging" />
<meta name="prodname" content="Questa SIM Tutorial" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-03-05" />
<meta name="VariantPrefix" content="Q" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="Including Support for Questa SV/AFV" />
<meta name="SourceHandle" content="questa_sim_tut" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM Tutorial" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using Assertions to Speed Debugging</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using Assertions to Speed Debugging" />
<meta name="attributes" content="product.version.2020.4,sort.order.040,doc.type.documentation.user,product.id.P10593,product.id.P11633,product.id.P11632," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Using Assertions to Speed Debugging</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">To see how
assertions can speed debugging, reload the design with assertion
failure tracking enabled.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id44e5638d-264d-4ee4-8885-d39bbc8bd2b6"><span class="ph cmd">Reload the
design.</span><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id4af67bb9-4d50-45cd-a3bd-c866537035d3"><span class="ph cmd">Type “vsim
-msgmode both -assertdebug dram_opt” at the command prompt. </span><div class="itemgroup info SubStepInfo"><p class="p">The “-msgmode
both” argument outputs messages to both the transcript and the WLF
file. </p>
<p class="p">“dram_opt” is the name of the optimized file
created when we ran the simulation without assertions. The “-assertdebug”
argument gives you another tool for debugging failed assertions,
as we will see in a moment.</p>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id82b7abbb-284b-4c2f-91c1-8043697d6857"><span class="ph cmd">Change your
WildcardFilter settings.</span><div class="itemgroup info StepInfo"><p class="p">Execute the
following command:</p>
<p class="lines ApplCommand">set WildcardFilter "Variable Constant Generic Parameter SpecParam Memory<br />
Endpoint CellInternal ImmediateAssert"</p>
<p class="p">With this
command, you remove “Assertion,” “Cover,” and “ScVariable” from
the default list of Wildcard filters. This allows Assertions, Cover
Directives, and SystemC variables to be logged by the simulator
so they will be visible in the debug environment.</p>
</div></li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id935b2d83-e13d-44d4-8d99-4d6b9b322a37"><span class="ph cmd">View all
PSL assertions in the Assertions window.</span><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idcf4aba7b-df4c-4156-9ecd-d6e3af8c0e7a"><span class="ph cmd">If the Assertions
window is not open, type “view assertions” at the command prompt.</span><div class="itemgroup info SubStepInfo"><p class="p">This opens
the Assertions window with all PSL assertions displayed (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id8d4d71a6-d064-4699-80aa-9a7ab73dd8af">Figure 1</a>).</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id8d4d71a6-d064-4699-80aa-9a7ab73dd8af"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Assertions Window
Displays PSL Assertions</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/psl_assertions.gif" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">You can
open and close the Assertions window by selecting <span class="ph menucascade"><span class="ph uicontrol">View </span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Coverage </span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Assertions</span></span> from
the Main menu.</p>
</div>
</div></li>
</ol>
<div class="itemgroup info StepInfo"><p class="p">You may need
to resize windows to better view the data.</p>
</div></li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ide29d9d50-5ad1-4e60-a1d7-d3488327ce1b"><span class="ph cmd">Set all
assertions to Break on Failures.</span><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida9d2fc53-853c-4b24-9b85-585338f31ba6"><span class="ph cmd">Select the
Assertions window to make it active. </span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ideff6967b-4391-4ae8-8f06-1b8709d1d43d"><span class="ph cmd">Select <span class="ph menucascade"><span class="ph uicontrol">Assertions</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Configure</span></span> from
the main menu to open the Configure assertions dialog box (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida638bdb3-8d05-4ed7-bb02-bfe7c09db9c4">Figure 2</a>).</span><div class="itemgroup info SubStepInfo"><div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida638bdb3-8d05-4ed7-bb02-bfe7c09db9c4"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Configure Assertions
Dialog Box</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/configure_assertions.gif" /></div><br /></div>
</div></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idac6ad5c2-8acd-4162-9f09-eb06e9906f3d"><span class="ph cmd">In the Change
on section, select <span class="ph uicontrol">All assertions</span>.</span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id7fef2428-eccb-49ce-a35a-e10529d7feb6"><span class="ph cmd">In the Enable
section, select <span class="ph uicontrol">On</span>.</span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id155952af-bbee-4850-9e10-d0d454fbd6b2"><span class="ph cmd">In the Failures
&gt; Action section, select <span class="ph uicontrol">Break</span>.</span><div class="itemgroup info SubStepInfo"><p class="p">This causes
the simulation to break (stop) on any failed assertion.</p>
</div></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id1f0321d9-daf1-4878-8c1d-faa4c79ddfbd"><span class="ph cmd">In the Passes
&gt; Logging section, select <span class="ph uicontrol">On</span>.</span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id52484238-18e9-4c6d-8335-a8788d36b44a"><span class="ph cmd">Click the
OK button to accept your selections and close the dialog box.</span></li>
</ol>
<div class="itemgroup info StepInfo"><p class="p">The command
line equivalents for these actions are as follows: </p>
<p class="lines ApplCommand">assertion action -cond fail -exec break -r *<br />
assertion pass -log on -r *</p>
</div></li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id037de311-4888-41a9-a3b0-6e2d677317ea"><span class="ph cmd">Add assertion
signals to the Wave window</span><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id07b31c51-beaa-47fc-8c26-035c827f7f99"><span class="ph cmd">Select all
assertions in the Assertions window. </span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida9d809aa-89a9-4a4b-995a-34525b6ee406"><span class="ph cmd">Right-click
on the selected assertions to open a popup menu.</span></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id4dda2755-4f32-4c17-989c-7655462ffc04"><span class="ph cmd">Select <span class="ph menucascade"><span class="ph uicontrol">Add Wave</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Selected Objects</span></span>.</span><div class="itemgroup info SubStepInfo"><p class="p">The Wave
window displays the assertion signals (denoted by magenta triangles)
as shown in <a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idf63b2c5f-c642-4ea8-8407-010883158e99">Figure 3</a>.</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idf63b2c5f-c642-4ea8-8407-010883158e99"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Assertions in the
Wave Window</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertions_wave.gif" /></div><br /></div>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id5f06a8a7-400b-4e82-80bc-29bf3c901a64"><span class="ph cmd">Run the
simulation and view the results.</span><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id14d57bfe-a523-4fd6-ad9b-ba01a27e95a0"><span class="ph cmd">Type “run
-all” at the command prompt.</span><div class="itemgroup info SubStepInfo"><p class="p">Verilog:
In the Assertion window, the <span class="ph filepath">assert_check_refresh</span> assertion
is highlighted, and a failure count of 1 appears in the Failure
Count column (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida56c9c14-2ece-461b-9145-b49a4724ef6c">Figure 4</a>).</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida56c9c14-2ece-461b-9145-b49a4724ef6c"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Assertion Failure
Indicated in the Assertions window</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertions_failure.gif" /></div><br /></div>
<p class="p">The Main
window transcript shows that the assert__check_refresh assertion
in the dram_cntrl.psl file failed at 3100 ns (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id550b4d64-b515-4235-be66-344f46125862">Figure 5</a>). The simulation is stopped at that time.
Remember, with no assertions the test bench did not report a failure
until 267,400 ns — over 80x the simulation time required for a failure
to be reported with assertions.</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id550b4d64-b515-4235-be66-344f46125862"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Assertion Failure
Shown in the Transcript Window</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertion_fail_transcript.gif" /></div><br /></div>
<p class="p">VHDL: The
Main window transcript shows that the assert__check_refresh assertion in
the dram_cntrl.psl file failed at 3800 ns. The simulation is stopped
at that time. Remember, with no assertions the test bench did not
report a failure until 246,800 ns — over 60x the simulation time
required for a failure to be reported with assertions.</p>
</div></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idca34fec7-3a96-4fd8-adc6-6fc4c889a078"><span class="ph cmd">Click the <span class="ph uicontrol">dram_cntrl.psl</span> tab
to open the Source window.</span><div class="itemgroup info SubStepInfo"><p class="p">The blue
arrow in the Source window (<span class="ph filepath">dram_cntrl.psl</span>)
shows where the simulation stopped—at the <span class="ph filepath">check_refresh</span> assertion
on line 24.</p>
</div></li>
<li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida9e0dcbd-92e7-4dfd-ab19-c55654f90be3"><span class="ph cmd">Click the <span class="ph uicontrol">Wave</span> tab
to open the Wave window.</span><div class="itemgroup info SubStepInfo"><p class="p">The Wave
window displays a red triangle at the point of the simulation break
and shows "FAIL" in the values column of the assert_check_refresh
assert directive (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id7e23fd62-8dc8-45f7-9feb-4d4b4eaad389">Figure 6</a>). Green triangles indicate assertion
passes.</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__id7e23fd62-8dc8-45f7-9feb-4d4b4eaad389"><span class="figcap"><span class="fig--title-label">Figure 6. </span>Assertion Failure
Indicated in Wave Window</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertions_failure_wave_t.gif" /></div><br /></div>
<p class="p">The blue
sections of the assertion waveforms indicate inactive assertions;
green indicates active assertions.</p>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idaa85ac29-19a6-419f-a695-662b35f8c184"><span class="ph cmd">View the
assertion failure in the Assertion Debug pane of the Wave window.</span><div class="itemgroup info StepInfo"><p class="p">Since you
used the -assertdebug argument with the vsim command when you invoked the
simulator, you can view the details of assertion failures in the
Assertion Debug pane of the Wave window.</p>
</div><ol type="a" class="ol substeps"><li class="li substep" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idb35a9542-91d7-4176-89c7-cd7aa5744c11"><span class="ph cmd">Select <span class="ph menucascade"><span class="ph uicontrol">Wave</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Assertion Debug</span></span>. </span><div class="itemgroup info SubStepInfo"><p class="p"><span class="ph FontProperty HeadingLabel">Verilog:</span> The
Assertion Debug pane of the Wave window shows that the <span class="ph filepath">assert_check_refresh</span> assertion
failed. The Start Time of the assertion is 2700 ns. And signals
of interest for debugging are displayed in the Signals of Interest
column (<a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida95da8ed-89c0-4a1b-bd4e-9d09ee702563">Figure 7</a>).</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__ida95da8ed-89c0-4a1b-bd4e-9d09ee702563"><span class="figcap"><span class="fig--title-label">Figure 7. </span>The Failed Assertion
Details for Verilog Design</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertdebug.gif" /></div><br /></div>
<p class="p"><span class="ph FontProperty HeadingLabel">VHDL:</span> The
Assertion Debug pane of the Wave window shows that the <span class="ph filepath">assert_check_refresh</span> assertion
failed. The Start Time of the assertion is 2900 ns. And signals
of interest for debugging are displayed in the Signals of Interest
column <a class="xref fm:Figure" href="#idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idcd2bdb50-b872-45a2-9127-3583ab2c4e82">Figure 8</a>.</p>
<div class="fig fignone" id="idd8d2aa5b-115a-45cb-920a-cd94bb21ea26__idcd2bdb50-b872-45a2-9127-3583ab2c4e82"><span class="figcap"><span class="fig--title-label">Figure 8. </span>The Failed Assertion
Details for VHDL Design</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/assertdebug_vhdl.gif" /></div><br /></div>
<p class="p">The Signals
of Interest column displays the signals responsible for the assertion failure. </p>
</div></li>
</ol>
</li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_DebuggingPslAssertions_id3fc31f7d.html" title="Using assertions in your HDL code increases visibility into your design and improves verification productivity. Questa SIM supports Property Specification Language (PSL) assertions for use in dynamic simulation verification. These assertions are simple statements of design intent that declare design or interface assumptions.">Debugging With PSL Assertions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_tut"
                DocTitle = "Questa® SIM Tutorial"
                PageTitle = "Using Assertions to Speed Debugging"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_UsingAssertionsSpeedDebugging_idd8d2aa5b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Tutorial Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>