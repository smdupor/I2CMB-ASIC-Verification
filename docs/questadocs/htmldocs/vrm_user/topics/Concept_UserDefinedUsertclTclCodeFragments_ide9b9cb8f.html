<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="User-defined (usertcl) TCL Code Fragments" />
<meta name="abstract" content="The usertcl element is used to define custom implementations for one or more of the user-definable procedures." />
<meta name="description" content="The usertcl element is used to define custom implementations for one or more of the user-definable procedures." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide9b9cb8f-1268-467d-944c-e5685869df80" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>User-defined (usertcl) TCL Code Fragments</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="User-defined (usertcl) TCL Code Fragments" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ide9b9cb8f-1268-467d-944c-e5685869df80">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">User-defined (usertcl) TCL Code Fragments</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The <span class="ph FontProperty emphasis">usertcl</span> element
is used to define custom implementations for one or more of the
user-definable procedures. </span>
</div>
<p class="p">Refer to “<a class="xref fm:HeadingAndPage" href="MGCChap_CatalogUserDefinableUtilityProcedures_ida2c91dd7.html#ida2c91dd7-aeb0-4a36-9ec8-a452db22433a__MGCChap_CatalogUserDefinableUtilityProcedures_ida2c91dd7.xml#ida2c91dd7-aeb0-4a36-9ec8-a452db22433a" title="This chapter documents each of the user-definable procedures, and the low-level utility procedures available to the user-definable procedures.">Catalog of User-Definable and Utility Procedures</a>” for a complete list of user-definable
procedures.</p>
<p class="p">These procedures are called by the VRM at specific
points during the execution process to implement behaviors such
as 3rd-party notification of the completion of an Action script, pass/fail
processing, deletion of the <span class="ph filepath">VRMDATA</span> directory
upon completion, and other granular chunks of behavior that the
user may need to customize in order to fit VRM into their existing
design flow. These behaviors are encapsulated into TCL procedures
and VRM supplies a default implementation for each such procedure.
The way these behaviors are customized is to load one or more TCL
procedure definitions into the interpreter that essentially “replace”
the existing default implementations.</p>
<p class="p">The <span class="ph FontProperty emphasis">usertcl</span> element
can also provide definitions for TCL procedures that can be called
from any of the TCL-capable attributes (such as the <span class="ph FontProperty emphasis">foreach</span> attribute
on the <span class="ph FontProperty emphasis">runnable</span> element),
from the value expression of a TCL-type parameter definition (see “<a class="xref fm:HeadingAndPage" href="Concept_IncludingTclCodeInParameterDefinition_id0fde3fae.html#id0fde3fae-3f89-4a5d-8dc8-a6c7da021a8b__Concept_IncludingTclCodeInParameterDefinition_id0fde3fae.xml#id0fde3fae-3f89-4a5d-8dc8-a6c7da021a8b" title="By default, parameter values are used as is, exactly as they appear in the parameter definition (after external entities (like &gt;) are converted back to the characters they represent). It is possible to define a parameter value as a TCL expression that undergoes the usual variable/command substitution within the TCL interpreter each time the parameter is expanded. Note that this is TCL substitution, not evaluation. In order to execute TCL code as part of the parameter expansion, the code needs to be defined as a procedure and command substitution used to execute the procedure.">Including TCL Code in a Parameter Definition</a>” for details) or can be used
to more tightly bind VRM into the user's existing regression flow.
In other words, anything that can be done with TCL code from within
VRM can also be coded into a <span class="ph FontProperty emphasis">usertcl</span> element.</p>
<p class="p">A <span class="ph FontProperty emphasis">usertcl</span> element
contains only TCL code. When a <span class="ph FontProperty emphasis">usertcl</span> element
is “loaded” (see “<a class="xref fm:HeadingAndPage" href="Concept_LoadingUserSuppliedTclCodeUsingUsertclIntoVrm_id3943ff33.html#id3943ff33-6a4e-45b3-95b3-b4a5fa96ce7b__Concept_LoadingUserSuppliedTclCodeUsingUsertclIntoVrm_id3943ff33.xml#id3943ff33-6a4e-45b3-95b3-b4a5fa96ce7b" title="In some cases, it is necessary to load user-defined TCL code into VRM (technically, into the TCL interpreter that is executing the VRM application). This TCL code can be specified in the RMDB database or in a separate file. Once specified, the code can be loaded via a command-line option or automatically at the start of the VRM run. Any TCL code so loaded becomes a global part of the VRM application. Procedures defined within the loaded code can be called from TCL-type parameter value expressions or from user-definable procedures.">Loading User-supplied TCL Code Using usertcl into VRM</a>” for details), the entire text content
of the element is evaluated in a predefined namespace in VRM context.
Any procedures defined therein are then available to be called as
commands and any TCL commands outside of a procedure definition
are executed at the time the <span class="ph FontProperty emphasis">usertcl</span> element
is loaded. Consider, for example, the following RMDB database fragments:</p>
<pre class="pre codeblock leveled"><code>&lt;rmdb&gt;
	&lt;usertcl name="mystuff"&gt;
		proc ActionCompleted {userdata} {
			upvar $userdata data
			echo "Action $data(ACTION) has finished"
		}
		echo "Usertcl element 'mystuff' loaded..."
	&lt;/usertcl&gt;
&lt;/rmdb&gt;</code></pre><p class="p">In this example, once the “mystuff” <span class="ph FontProperty emphasis">usertcl</span> element
is loaded, a completion message is emitted to the log output every
time an Action script completes. In addition, a “loaded” message
is emitted to the log output at the time the <span class="ph FontProperty emphasis">usertcl</span> element
is loaded (the echo command is defined by the VRM TCL code to emit
the string argument to the transcript output).</p>
<p class="p">All <span class="ph FontProperty emphasis">usertcl</span> elements
are defined at the top-level of the database, under the <span class="ph FontProperty emphasis">rmdb</span> element.
They are identified by a <span class="ph FontProperty emphasis">name</span> attribute
and loaded either automatically or from a command-line option.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DatabaseStructure_id31a9f1e8.html" title="One of the requirements of the XML format is that there be a single “root” XML element that contains the entire contents of the XML file. In the case of an RMDB file, that element is the rmdb element that essentially defines and contains the entire database. This rmdb element is also called the “document element” in XML terminology, since that single element and its contents form the entire definition of the “document” represented by the XML file (the XML format was originally designed to represent document markup, similar to HTML).">Database Structure</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "User-defined (usertcl) TCL Code Fragments"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_UserDefinedUsertclTclCodeFragments_ide9b9cb8f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>