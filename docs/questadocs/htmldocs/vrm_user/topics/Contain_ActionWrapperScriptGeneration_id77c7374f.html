<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="Action and Wrapper Script Generation" />
<meta name="abstract" content="Each Action (preScript, execScript, or postScript) is defined either in terms of a sequence of one or more commands stored in the RMDB database or as a pointer to an existing script file (said pointer also being stored in the RMDB database)." />
<meta name="description" content="Each Action (preScript, execScript, or postScript) is defined either in terms of a sequence of one or more commands stored in the RMDB database or as a pointer to an existing script file (said pointer also being stored in the RMDB database)." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id77c7374f-a2ec-48f3-8c3e-7e4678c1074a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Action and Wrapper Script Generation</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Action and Wrapper Script Generation" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id77c7374f-a2ec-48f3-8c3e-7e4678c1074a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Action
and Wrapper Script Generation</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">Each
Action (<span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
or <span class="ph FontProperty emphasis">postScript</span>) is
defined either in terms of a sequence of one or more commands stored
in the RMDB database or as a pointer to an existing script file
(said pointer also being stored in the RMDB database). </span>
</div>
<p class="p">The sequence of commands related
to a given Action are copied to a script file of the same name (<span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
or <span class="ph FontProperty emphasis">postScript</span>) with
a <span class="ph filepath">.do</span> extension, located within the working
directory associated with the Action. This file is marked as being
executable. As the commands are stored, any parameter references
contained therein are expanded (see “<a class="xref fm:HeadingAndPage" href="MGCChap_ParametersParameterExpansion_id68da1844.html#id68da1844-ab5a-4671-86d0-234a9b5ae99e__MGCChap_ParametersParameterExpansion_id68da1844.xml#id68da1844-ab5a-4671-86d0-234a9b5ae99e" title="Each Runnable definition (that is, each runnable element) can include a list of zero or more parameter element definitions. A parameter is nothing more than a name/value pair that allows multiple Tasks to share the same execution script (or multiple Groups to share the same Task) by providing unique per-Group or per-Task values to be used in the scripts.">Parameters and Parameter Expansion</a>” for details).</p>
<p class="p">A TCL wrapper script is then constructed
in the same working directory to execute this Action script. The
purpose of this wrapper is to handle the details of the Action that
are related to internal VRM algorithms (steps that would not normally
be handled by the user script). For example, since the wrapper is
normally executed from the working directory associated with that
Action, the first order of business is to change directories to
that working directory and to set up the transcript log. After the
user script completes, the wrapper also notifies the master VRM
instance that the Action has completed.</p>
<p class="p">The exact form of this wrapper depends
on how the user script is to be launched. Each Action has an optional <span class="ph FontProperty emphasis">launch</span> attribute
attached to the element corresponding to that Action in the RMDB
database. If the commands represent TCL commands to be executed
within a vsim shell, the <span class="ph FontProperty emphasis">launch</span> attribute
should be set to vsim. If the commands represent shell commands
to be executed by the default command shell (for example, <span class="ph filepath">/bin/sh</span> on
most POSIX-compliant systems), the <span class="ph FontProperty emphasis">launch</span> attribute
should be set to <span class="ph FontProperty emphasis">exec</span>.
Alternately, if the <span class="ph FontProperty emphasis">launch</span> attribute
is set to anything other than vsim or <span class="ph FontProperty emphasis">exec</span>,
the value of the <span class="ph FontProperty emphasis">launch</span> attribute
is treated as the name of the shell program under which the commands
are to be interpreted. By default (that is, if no <span class="ph FontProperty emphasis">launch</span> attribute
or set or if the value is the empty string), the commands will be
treated as TCL commands to be executed under a vsim shell.</p>
<p class="p">The result is that the commands contained
within the <span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
or <span class="ph FontProperty emphasis">postScript</span> Actions
are treated as a series of vsim commands by default, but the user
can elect to treat them as shell commands to be executed (by setting launch
to <span class="ph FontProperty emphasis">exec</span>) or
can pass them to some other command interpreter (for example, Perl,
Ruby, and so on) by setting the <span class="ph FontProperty emphasis">launch</span> attribute
to the absolute path name of the external interpreter program.</p>
<p class="p">Note that only the default (TCL under
vsim) is considered portable across all Questa-supported platforms.
For example, the TCL <span class="ph FontProperty emphasis">exec</span> command expects
Bourne shell commands on Unix/Linux platforms, but MS-DOS <span class="ph filepath">.bat</span> file
commands on Windows. The construction and interpretation of operating
system commands can differ across platforms. In order to ensure
maximum portability, it is recommended that vsim commands be used
for all Action scripts.</p>
<p class="p">On platforms where script execution is
carried out by the Bourne shell (that is, Unix/Linux), the first
command defined in an Action may be a shebang line (a line beginning
with the literal characters #, !, and a path to an interpreter executable).
When executed, this informs the Bourne shell to pass the script
to some other interpreter (for example, Perl, csh) for execution. This
shebang technique does not work on the Windows platform.</p>
<p class="p">Regardless of the type of wrapper used,
the appropriate sequence of commands is stored in a file named for
the Action in question, but with a <span class="ph filepath">.wrap</span> suffix
(for example, <span class="ph filepath">execScript.wrap</span> for the <span class="ph FontProperty emphasis">execScript</span> Action).
Unless an alternate execution method is specified (described in “<a class="xref fm:HeadingAndPage" href="Contain_ExecutionMethods_id70589e20.html#id70589e20-3345-4225-9505-9b776dc4c0d5__Contain_ExecutionMethods_id70589e20.xml#id70589e20-3345-4225-9505-9b776dc4c0d5" title="By default, the wrapper associated with each Action launched by VRM is executed by either vsim or vish as a child process of the initiating VRM process. The exact command used to launch this process depends on the value of the launch attribute of the element associated with the Action. For Actions whose launch attribute is set to vsim (or which do not have a launch attribute, since vsim is the default launch type), the following command is used:">Execution Methods</a>”), this wrapper is passed to
either vsim or vish for execution.</p>
<p class="p">In order to avoid potential collision
with scripts, logs, and other files generated by VRM, the user is
advised to avoid writing to files whose base name consists of <span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
or <span class="ph FontProperty emphasis">postScript</span> regardless
of extension.</p>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Concept_VsimModeWrapper_idb8cd4161.html" title="The command sequence used in the wrapper for vsim launched commands is shown below.">vsim Mode Wrapper</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_ExecModeWrapper_idb8a5483f.html" title="The command sequence used in the wrapper for non-vsim (shell) commands is shown below.">exec Mode Wrapper</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ScriptExecutionTimeouts_idb739d4ac.html" title="Once the RMDB database has been read and the requested Runnables have been expanded to form the execution graph, a completion event is posted to the special =init= Action. This causes one or more Actions to become eligible for execution (that is, their dependencies having been completed). The Actions directly dependent on the =init= Action are generally the preScript Actions of the top-most Group(s) selected via the command line. Actions that are eligible for execution are added to a run queue. An inner loop periodically removes Actions from this queue and executes them. A list of currently executing Actions is also maintained, in which the expected completion time (execution time plus the minimum timeout value for that Action) is recorded. As each Action reports completion, it is removed from the currently executing list and from the graph. The vertices of the graph beginning at the completed node are followed to determine what Actions, if any, can be eligible to run next. If a vertex from the completed Action happens to be the last such vertex into the node at the opposite end, that opposite-end node also becomes eligible to run and is added to the eligible Action run queue.">Script Execution and Timeouts</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Action and Wrapper Script Generation"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_ActionWrapperScriptGeneration_id77c7374f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>