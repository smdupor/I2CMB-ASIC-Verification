<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Modifying exec Mode User Scripts to Return Status" />
<meta name="abstract" content="An exec mode Action script is executed from the wrapper script for the associated Action via the exec command in vish (TCL). When a command in the Action script returns a non-zero status, or when the Action script itself exits with a non-zero status, that status is made available to the TCL exec command and is returned to the wrapper script and communicated to the invoking vrun process via the “done” event. Provided all the commands in the script return POSIX-like status values, there is no need to alter the Action script. However, if the user wants the script to exit at the first error, or on some error from a 3rd-party utility that does not return a non-zero status, the exit command can be used (assuming Borne-shell or C-shell; other scripting languages can have a different exit command). The following example exits with an error if the contents of a log file do not match a file containing the expected results for the simulation:" />
<meta name="description" content="An exec mode Action script is executed from the wrapper script for the associated Action via the exec command in vish (TCL). When a command in the Action script returns a non-zero status, or when the Action script itself exits with a non-zero status, that status is made available to the TCL exec command and is returned to the wrapper script and communicated to the invoking vrun process via the “done” event. Provided all the commands in the script return POSIX-like status values, there is no need to alter the Action script. However, if the user wants the script to exit at the first error, or on some error from a 3rd-party utility that does not return a non-zero status, the exit command can be used (assuming Borne-shell or C-shell; other scripting languages can have a different exit command). The following example exits with an error if the contents of a log file do not match a file containing the expected results for the simulation:" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id45ad6fb9-00a3-4f63-acd8-dd4fb4b73d64" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Modifying exec Mode User Scripts to Return Status</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Modifying exec Mode User Scripts to Return Status" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id45ad6fb9-00a3-4f63-acd8-dd4fb4b73d64">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Modifying exec Mode User Scripts to Return Status</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">An exec mode
Action script is executed from the wrapper script for the associated
Action via the exec command in vish (TCL). When a command in the Action
script returns a non-zero status, or when the Action script itself
exits with a non-zero status, that status is made available to the
TCL exec command and is returned to the wrapper script and communicated
to the invoking vrun process via the “done” event. Provided all
the commands in the script return POSIX-like status values, there
is no need to alter the Action script. However, if the user wants
the script to exit at the first error, or on some error from a 3rd-party
utility that does not return a non-zero status, the exit command
can be used (assuming Borne-shell or C-shell; other scripting languages
can have a different exit command). The following example exits
with an error if the contents of a log file do not match a file
containing the expected results for the simulation:</span>
</div>
<pre class="pre codeblock leveled"><code>&lt;execScript launch="exec"&gt;
  &lt;command&gt;#!/bin/csh -f&lt;/command&gt;
  &lt;command&gt;...some simulation command(s)...&lt;/command&gt;
  &lt;command&gt;diff results.log results.golden &amp;amp;gt; results.diff&lt;/command&gt;
  &lt;command&gt;if (!(-z results.diff)) then&lt;/command&gt;
  &lt;command&gt;  exit 93&lt;/command&gt;
  &lt;command&gt;endif&lt;/command&gt;
&lt;/execScript&gt;</code></pre><p class="p">Note the “&amp;gt;” used in the diff command
instead of the redirection (&gt;) character. This is because angle
brackets (&lt; &gt;) and the ampersand (&amp;) are special characters
in the XML format and will be mistaken for XML markup if used in
an Action script element.</p>
<p class="p">Also note that most command shells provide
only an integer status, with non-zero meaning simply “failure”.
The TCL exec command does not provide easy access to the exact error
message that caused a non-zero status return so exec mode Actions
always return an empty string in the message string field of the
“done” message. Messages produced by the commands in the Action
script can be found in the log file for that Action (the path to
which is included in the error message from vrun).</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ScriptReturnValues_id223029b1.html" title="Each Action script has a return value that indicates, at a coarse level, whether the commands contained in the script encountered any errors. This return value is communicated to the launching vrun instance for use in pass/fail analysis. This function can require some cooperation from the (user's) Action script in order to correctly communicate the status of commands contained in the Action script.">Script Return Values</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Modifying exec Mode User Scripts to Return Status"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ModifyingExecModeUserScriptsReturnStatus_id45ad6fb9.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>