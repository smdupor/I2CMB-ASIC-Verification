<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Auto-merge Example RMDB Database" />
<meta name="abstract" content="The Verification Run Manager DataBase (RMDB) file is the VRM database." />
<meta name="description" content="The Verification Run Manager DataBase (RMDB) file is the VRM database." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id45662a1a-548e-4856-af35-8c1a81d5000c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Auto-merge Example RMDB Database</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Auto-merge Example RMDB Database" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id45662a1a-548e-4856-af35-8c1a81d5000c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Auto-merge Example RMDB Database</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The Verification
Run Manager DataBase (RMDB) file is the VRM database.</span>
</div>
<p class="p">The example regression consists
of two groups of tests, one containing three tests and one containing
two tests, although the basic concept can easily be expanded to handle
more groups, larger groups, or even more levels. The <span class="ph filepath">nightly</span> Runnable
is the top-level Runnable that is invoked in order to execute the
entire regression run. The <span class="ph filepath">unittest</span> Runnable
contains two tests that exercise the Hamming parity block in isolation.
The <span class="ph filepath">systemtest</span> Runnable contains three tests that
exercise the parity generator as part of the encoder/decoder pair.
Both testbenches are compiled once (each) in the <span class="ph FontProperty emphasis">preScript</span> of
the <span class="ph FontProperty emphasis">unittest</span> and <span class="ph FontProperty emphasis">systemtest</span> Groups
and the stimulus used for each test is selected with a plusarg option
on the vsim command line.</p>
<p class="p">There is one <span class="ph FontProperty emphasis">execScript</span> shared
by all tests and one <span class="ph FontProperty emphasis">preScript/postScript</span> pair
shared by the two main Groups (<span class="ph FontProperty emphasis">unittest</span> and <span class="ph FontProperty emphasis">systemtest</span>). All
the scripts are contained in a base Runnable called <span class="ph FontProperty emphasis">firstlevel</span> (because
the Groups that use this Runnable as a base Runnable are the two
Groups that each do a first-level merge of UCDB files from the individual
tests).</p>
<p class="p">Because the Hamming parity blocks are at different
hierarchical levels in the two testbenches, you can only merge the
coverage from the two Groups of tests by using the -strip &lt;n&gt;
and -install <span class="ph filepath">&lt;path&gt;</span> options of vcover merge.
The -strip &lt;n&gt; option removes &lt;n&gt; levels of hierarchy from
instance and object names in the data files. The -install &lt;path&gt;
option adds &lt;path&gt; as additional hierarchy on the front end of
instance and object names in the data files. Refer to the <cite class="cite">Questa
SIM Reference Manual</cite> for complete details on the vcover merge
command.</p>
<p class="p">Since the <span class="ph FontProperty emphasis">mergefile</span> parameter
inherits down the entire tree, you have to be careful how you configure
the RMDB file for auto-merge. The basic approach is to configure
three separate auto-merge targets. One auto-merge target will receive UCDBs
from the <span class="ph FontProperty emphasis">unittest</span> Group,
one will receive UCDBs from the <span class="ph FontProperty emphasis">systemtest</span> Group,
and a third will receive the per-Group merge files as they are completed
and merge them into a single top-level merge file.</p>
<p class="p"><a class="xref fm:Figure" href="#id45662a1a-548e-4856-af35-8c1a81d5000c__id6cc2b7b3-70d0-48d9-ac26-a88aa403cc1a">Figure 1</a> illustrates the topology of the example
RMDB database file.</p>
<div class="fig fignone" id="id45662a1a-548e-4856-af35-8c1a81d5000c__id6cc2b7b3-70d0-48d9-ac26-a88aa403cc1a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Topology of the Example RMDB
Database File</span><br /><div class="imagecenter"><img class="image imagecenter" height="366" src="../graphics/RMDB_configuration_database.gif" width="472" /></div><br /></div>
<p class="p">The two green circles represent the first-level
merges. Since the auto-merge feature in vrun can handle multiple
concurrent merge queues, two first-level merges can be running at
any one time (one to the <span class="ph FontProperty emphasis">unittest</span> merge
target and one to the <span class="ph FontProperty emphasis">systemtest</span> merge
target). Each first-level merge file is written to the top-most
Runnable comprising the Group which that intermediate merge file
will represent.</p>
<p class="p">Once all the merges for a given Group are complete,
a sibling Task to the first-level merge Group copies the Group merge
file to its own directory, applying the -strip and -install options
where applicable. This step is represented by the two red arrows
(lines) in the diagram.</p>
<p class="p">These sibling Tasks form the leaves of the
third auto-merge Group whose target is a merge file located in the <span class="ph filepath">nightly</span> Runnable
itself. As each Group merge file is completed, it is merged into
the top-level merge file by this third auto-merge queue. This step
is represented by the blue circle. The resulting top-level merge
file is written into the working directory for the <span class="ph filepath">nightly</span> Runnable.</p>
<p class="p">The standard merges (that is, one or more UCDB
files being merged as is into the target merge file) are all handled
automatically by vrun. The vrun process makes sure that only one merge
is running against a given target merge file at any given time.
While a merge is running against a given target merge file, vrun
will “batch-up” any completed UCDBs destined for that file and merge
them into the target file in a single vcover merge invocation once
the ongoing merge operation has completed. The only thing the user
has to add to the configuration is the vcover merge commands for
the non-standard merge operations (in this case, the strip/install step)
and the appropriate <span class="ph FontProperty emphasis">ucdbfile</span> and <span class="ph FontProperty emphasis">mergefile</span> attributes
for the three auto-merge Groups.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MultiLevelAutoMergeExample_idc750a11f.html" title="The example makes use of the queued auto-merge functionality in vrun. The merge is divided into two levels, the second-level merge being responsible for merging two merge files produced by the first-level merge. This example also illustrates how unit-level and system-level coverage can be merged into a single UCDB using VRM.">Multi-level Auto-merge Example</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Auto-merge Example RMDB Database"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_AutoMergeExampleRmdbDatabase_id45662a1a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>