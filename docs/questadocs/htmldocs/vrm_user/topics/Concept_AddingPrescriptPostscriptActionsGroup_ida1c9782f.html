<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Adding preScript and postScript Actions to a Group" />
<meta name="abstract" content="To compile once and then run multiple tests, place your compile information in a preScript because that is what happens once; and you put the simulation in the execScript because that is what happens multiple times. If you need to run multiple tests, each with its own compile step, then you have nothing that you need to do only once at the beginning of the run so there is no need for a preScript." />
<meta name="description" content="To compile once and then run multiple tests, place your compile information in a preScript because that is what happens once; and you put the simulation in the execScript because that is what happens multiple times. If you need to run multiple tests, each with its own compile step, then you have nothing that you need to do only once at the beginning of the run so there is no need for a preScript." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida1c9782f-cc42-4f7b-bcef-69079a141f91" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Adding preScript and postScript Actions to a Group</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Adding preScript and postScript Actions to a Group" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ida1c9782f-cc42-4f7b-bcef-69079a141f91">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Adding preScript and postScript Actions to a Group</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">To compile
once and then run multiple tests, place your compile information
in a <span class="ph FontProperty emphasis">preScript</span> because
that is what happens once; and you put the simulation in the <span class="ph FontProperty emphasis">execScript</span> because
that is what happens multiple times. If you need to run multiple
tests, each with its own compile step, then you have nothing that
you need to do only once at the beginning of the run so there is
no need for a <span class="ph FontProperty emphasis">preScript</span>.</span>
</div>
<p class="p">When Groups are nested, there
can be multiple placeholders where a <span class="ph FontProperty emphasis">preScript</span> can
go but, typically, you only have one compile step that sets things
up for all the tests, regardless of grouping. In this case, you
can have several Groups without <span class="ph FontProperty emphasis">preScripts</span> because
those Groups do not have anything they need to do once before the
tests (or child Groups) in the Group execute. This is acceptable
because if a script is empty, then it is skipped (silently).</p>
<p class="p">This <span class="ph FontProperty emphasis">simple</span> example
tutorial has three random tests and share a common work library,
since the design only needs to be compiled once. If defined, the <span class="ph FontProperty emphasis">preScript</span> of
the “random” group runs prior to any of the tests in the group.
This is a good place to define the compile command needed to initialize
the work library used by the random tests. The <span class="ph FontProperty emphasis">preScript</span> element defines
the <span class="ph FontProperty emphasis">preScript</span> commands.
It is a child of the <span class="ph FontProperty emphasis">runnable</span> element
corresponding to the group for which it is being defined. It contains
zero or more <span class="ph FontProperty emphasis">command</span> elements, each
representing a line of the <span class="ph FontProperty emphasis">preScript</span> script.
A typical <span class="ph FontProperty emphasis">preScript</span> is
as follows:</p>
<pre class="pre codeblock leveled"><code>&lt;!-- For reference only, not from <a class="xref fm:ExampleAndPage" href="Concept_RmdbExample_id8daa3445.html#id8daa3445-4eb2-4ba1-84cf-c773111d0a6f__idaaa98e2d-42fc-49ec-abd3-e78b45ee7483">Figure 1</a> --&gt;
&lt;preScript launch="exec"&gt;
	&lt;command&gt;#!/bin/csh -f&lt;/command&gt;
	&lt;command&gt;rm -rf work&lt;/command&gt;
	&lt;command&gt;vlib work&lt;/command&gt;
	&lt;command&gt;vlog -sv (%RMDBDIR%)/src/top.sv&lt;/command&gt;
&lt;/preScript&gt;</code></pre><p class="p">Note that this script is actually a C-shell
script. The <span class="ph FontProperty emphasis">launch</span> attribute
on the <span class="ph FontProperty emphasis">preScript</span> element
is set to “exec” to inform VRM that this script is to be executed
by an external shell as opposed to being run under vsim. </p>
<p class="p">Following is the <span class="ph FontProperty emphasis">preScript</span> in
the <span class="ph FontProperty emphasis">simple</span> example
tutorial:</p>
<pre class="pre codeblock leveled"><code>&lt;!-- See <a class="xref fm:ExampleAndPage" href="Concept_RmdbExample_id8daa3445.html#id8daa3445-4eb2-4ba1-84cf-c773111d0a6f__idaaa98e2d-42fc-49ec-abd3-e78b45ee7483">Figure 1</a> --&gt;
53      &lt;preScript&gt;
54        &lt;command&gt;file delete -force work&lt;/command&gt;
55        &lt;command&gt;vlib work&lt;/command&gt;
56        &lt;command&gt;vlog -sv (%RMDBDIR%)/src/top.sv&lt;/command&gt;
57      &lt;/preScript&gt;</code></pre><p class="p">The commands are straight-forward. Observe
in the vlog command (Line 56) the predefined parameter <span class="ph FontProperty emphasis">RMDBDIR</span> being
used. The value of the <span class="ph FontProperty emphasis">RMDBDIR</span> parameter
contains the directory from which the RMDB database is read. If
you looked at the contents of the <span class="ph filepath">examples/vrm/simple</span> directory,
you see that the <span class="ph filepath">src</span> subdirectory contains the
design source (<span class="ph filepath">top.sv</span> file) that is a sibling
of the <span class="ph filepath">default.rmdb</span> RMDB file.</p>
<p class="p">By using the <span class="ph FontProperty emphasis">RMDBDIR</span> parameter
to locate the design source file, the user can actually execute
VRM from any directory, pointing to the RMDB database file by its
full path name, and the design source corresponding to that database
is easily located. There are several predefined parameters supplied
by VRM (see “<a class="xref fm:HeadingAndPage" href="Concept_PredefinedParameterUsage_iddf078ecb.html#iddf078ecb-d843-425d-8487-8e9ad7d874b5__Concept_PredefinedParameterUsage_iddf078ecb.xml#iddf078ecb-d843-425d-8487-8e9ad7d874b5" title="A small number of parameters are predefined with values equal to certain global paths or names relevant to VRM algorithm.">Predefined Parameter Usage</a>”).</p>
<p class="p">After the random tests are run, then merge
their UCDB files. To do this, use the <span class="ph FontProperty emphasis">postScript</span> of
the “random” group, as defined by the <span class="ph FontProperty emphasis">postScript</span> element,
as follows:</p>
<pre class="pre codeblock leveled"><code>&lt;!-- See <a class="xref fm:ExampleAndPage" href="Concept_RmdbExample_id8daa3445.html#id8daa3445-4eb2-4ba1-84cf-c773111d0a6f__idaaa98e2d-42fc-49ec-abd3-e78b45ee7483">Figure 1</a> --&gt;
64 &lt;postScript mintimeout="60"&gt; 
65 &lt;!-- a wildcard is acceptable here if merge order is not an issue --&gt;
66 &lt;command&gt;vcover merge ../random.ucdb test123.ucdb test456.ucdb test789.ucdb&lt;/command&gt;
67 &lt;/postScript&gt; 
&lt;!-- As line 65 states, a wildcard can be used, so Line 66 can become:
&lt;command&gt;vcover merge ../random.ucdb test*.ucdb&lt;/command&gt; --&gt;</code></pre><p class="p">Note that this <span class="ph FontProperty emphasis">postScript</span> is
given extra time to finish by adding the <span class="ph FontProperty emphasis">timeout</span> attribute.
By default, all scripts (<span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
and <span class="ph FontProperty emphasis">postScript</span>)
have a 30 second timeout. This can be altered on the command line
or on a per-script basis in the RMDB database.</p>
<p class="p">An important point regarding working directories
is that by default, VRM runs every task and every group in a separate
directory to avoid file name conflicts. The structure of these directories
match the calling sequence of the tasks and groups. For example,
the <span class="ph FontProperty emphasis">randtest1</span> task
runs in a subdirectory immediately below that of the “random” group
that called it. The “random” group runs in a subdirectory immediately below
that of the “nightly” group from which it was invoked.</p>
<p class="p">By convention, the tests and groups in this
example write their final UCDB files in the parent of their current
directory. As later discussed in this tutorial, <span class="ph FontProperty emphasis">randtest1</span> and
the other random tests write their UCDB files into the directory
of their parent group. Since the <span class="ph FontProperty emphasis">postScript</span> of
that group runs in the parent directory, the UCDBs created by its
child tests are all collected in the directory from which the <span class="ph FontProperty emphasis">postScript</span> was
executed (making them easy to find). The “random” group's <span class="ph FontProperty emphasis">postScript</span> finds
its input files in the current directory and, likewise, writes its
output one directory up. Note that the user can choose to use other
file-naming conventions.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CreatingBasicStructureRmdb_id4e8d20a4.html" title="The Verification Run Manager DataBase (RMDB) file is the VRM database. The RMDB file contains data for one or more regression test suites arranged in a hierarchical tree topology, which allows the user to group tests and other tasks in various ways.">Creating the Basic Structure for an RMDB</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Adding preScript and postScript Actions to a Group"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_AddingPrescriptPostscriptActionsGroup_ida1c9782f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>