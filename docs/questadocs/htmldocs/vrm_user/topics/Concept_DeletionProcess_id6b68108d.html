<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Deletion Process" />
<meta name="abstract" content="As mentioned above, the deleteScript pseudo-Action is handled entirely within the vrun process responsible for managing the regression run. Once pulled off the run queue, if the flag on the deleteScript pseudo-Action indicates that there is no objection to the deletion, the deleteScript pseudo-Action is placed in a deletion queue (to ensure all scheduled deletions take place before the vrun process exits) and an internal deletion procedure is scheduled for execution after a fixed time (5 seconds). The delay is to ensure that the Action that just finished in the directory slated for deletion has actually exited and closed all its file handles. Once started, the deletion of a single Runnable directory runs until completion (without a timeout). Subdirectories within the directory being deleted are also deleted recursively unless they are marked with the special .VRM tag file (which indicates that the directory is associated with a member Runnable and is already subject to a separate but identical auto-deletion process)." />
<meta name="description" content="As mentioned above, the deleteScript pseudo-Action is handled entirely within the vrun process responsible for managing the regression run. Once pulled off the run queue, if the flag on the deleteScript pseudo-Action indicates that there is no objection to the deletion, the deleteScript pseudo-Action is placed in a deletion queue (to ensure all scheduled deletions take place before the vrun process exits) and an internal deletion procedure is scheduled for execution after a fixed time (5 seconds). The delay is to ensure that the Action that just finished in the directory slated for deletion has actually exited and closed all its file handles. Once started, the deletion of a single Runnable directory runs until completion (without a timeout). Subdirectories within the directory being deleted are also deleted recursively unless they are marked with the special .VRM tag file (which indicates that the directory is associated with a member Runnable and is already subject to a separate but identical auto-deletion process)." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id6b68108d-16ae-4962-ae2d-224c6b21dde0" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Deletion Process</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Deletion Process" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id6b68108d-16ae-4962-ae2d-224c6b21dde0">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Deletion Process</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">As mentioned
above, the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
is handled entirely within the vrun process responsible for managing
the regression run. Once pulled off the run queue, if the flag on
the <span class="ph FontProperty emphasis">deleteScript </span>pseudo-Action
indicates that there is no objection to the deletion, the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action is
placed in a deletion queue (to ensure all scheduled deletions take
place before the vrun process exits) and an internal deletion procedure
is scheduled for execution after a fixed time (5 seconds). The delay
is to ensure that the Action that just finished in the directory
slated for deletion has actually exited and closed all its file
handles. Once started, the deletion of a single Runnable directory
runs until completion (without a timeout). Subdirectories within
the directory being deleted are also deleted recursively unless
they are marked with the special .<span class="ph filepath">VRM</span> tag file
(which indicates that the directory is associated with a member
Runnable and is already subject to a separate but identical auto-deletion process).</span>
</div>
<p class="p">Once the files have been deleted,
if the directory associated with the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
contains nothing other than the .<span class="ph filepath">VRM</span> flag file,
then the directory is also deleted.</p>
<p class="p">A known anomaly can crop
up if the <span class="ph filepath">VRM Data</span> directory is accessed via
an NFS mount. In the event that the vish or vsim process executing
the Action wrapper file times out and fails to exit in response
to the kill message from the managing vrun process, it is possible
several script and/or log files will still be opened by the wrapper
process at the time the vrun process attempts to delete them. In
this case, NFS deletes the file but creates a hidden file (hidden
on Unix/Linux, at least) whose name begins with .<span class="ph filepath">nfs</span> and
continues with a string of what appear to be randomly generated
files. These files are general harmless. They are tracking files
that should eventually go away when the wrapper process finally
closes. The auto-delete algorithm attempts to delete these .<span class="ph filepath">nfs</span> files
but ignores any errors that may occur. The only real problem is
that they will sometimes prevent a “rm -rf VRMDATA” command sequence
from completing. The first solution is to issue the command again,
as some NFS servers will not delete the files until they are actually
accessed. If that does not work, it may be necessary to look for
a vish or vsim process that has failed to exit. As a last resort,
the directory containing the .<span class="ph filepath">nfs</span> files can
be moved to another location on the same file system (that is, under
the same mount point) where they should clear up on the next reboot.</p>
<div class="section Subsections" id="id6b68108d-16ae-4962-ae2d-224c6b21dde0__idee20619e-659d-470a-b4d3-16d3996d9e89"><div class="section Subsection" id="id6b68108d-16ae-4962-ae2d-224c6b21dde0__id63bc5e0d-0718-4dc9-be59-7f0b5ba68ccc"><h2 class="title Subheading sectiontitle">OKtoDelete</h2><p class="p">Refer to “<a class="xref fm:HeadingAndPage" href="General_Oktodelete_id4d36b9f2.html#id4d36b9f2-8536-4b65-b868-5e5f6a95d8ae__General_Oktodelete_id4d36b9f2.xml#id4d36b9f2-8536-4b65-b868-5e5f6a95d8ae" title="This procedure is executed after each Action completes (it is not called for deleteScript pseudo-Actions). The purpose of this procedure is to determine if conditions are such that the working directory for the Action may be scheduled for deletion (for example, to implement a “delete-on-pass” disk-space conservation scheme).">OkToDelete</a>” for information on the <span class="ph filepath">OktoDelete</span> user-defined procedure.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CollatePassfailUcdbFilesMergeTriage_id2bef435c.html" title="In the course of running a regression suite using VRM features, one ends up generating a large number of UCDB, WLF, and other log files that must be analyzed. Coverage information must be merged and/or ranked in order to get a handle on how well the entire regression suite tests the design. Error messages must be triaged in order to pinpoint the unique error messages resulting from that run. From the point of view of the VRM tool, it all boils down to collecting simulation collateral files, sorting them by test status, and making those file lists available to the user's post-regression analysis script.">Collate Pass/Fail UCDB Files for Merge and/or Triage</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Deletion Process"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DeletionProcess_id6b68108d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>