<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="User-definable Procedures and Loading of Arbitrary TCL Code" />
<meta name="abstract" content="VRM is designed to be a versatile scripting solution for a wide variety of regression flows and users. The basic architecture of nested Groups of Tasks following the preScript, execScript, postScript execution model is, itself, already quite extensible. Support for parametrized commands within those scripts further enhances that extensibility. However, the details involved in each step of the execution process are not quite as clear-cut. There are two approaches that must be balanced against one another as follows:" />
<meta name="description" content="VRM is designed to be a versatile scripting solution for a wide variety of regression flows and users. The basic architecture of nested Groups of Tasks following the preScript, execScript, postScript execution model is, itself, already quite extensible. Support for parametrized commands within those scripts further enhances that extensibility. However, the details involved in each step of the execution process are not quite as clear-cut. There are two approaches that must be balanced against one another as follows:" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd238f0d1-f258-46ff-9bae-c93a68a3ccc8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>User-definable Procedures and Loading of Arbitrary TCL Code</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="User-definable Procedures and Loading of Arbitrary TCL Code" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idd238f0d1-f258-46ff-9bae-c93a68a3ccc8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">User-definable Procedures and Loading of
Arbitrary TCL Code</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">VRM
is designed to be a versatile scripting solution for a wide variety
of regression flows and users. The basic architecture of nested
Groups of Tasks following the <span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>, <span class="ph FontProperty emphasis">postScript</span> execution
model is, itself, already quite extensible. Support for parametrized
commands within those scripts further enhances that extensibility.
However, the details involved in each step of the execution process
are not quite as clear-cut. There are two approaches that must be
balanced against one another as follows:</span>
</div>
<ul class="ul"><li class="li" id="idd238f0d1-f258-46ff-9bae-c93a68a3ccc8__id50e35b93-b685-4722-9f60-fc56c9b27239"><p class="p">VRM can provide only the basic
execution model described above, leaving all the details such as
pass/fail analysis, coverage merging, and directory cleanup to be
implemented in the user-defined scripts.</p>
</li>
<li class="li" id="idd238f0d1-f258-46ff-9bae-c93a68a3ccc8__id20f857b1-19da-4771-b944-b49cee0fe373"><p class="p">There is little value-added in
a scripting mechanism where all the implementation details must
be supplied by the user. And yet, the more of these details that
are provided by the scripting mechanism for the sake of convenience,
the less flexible that mechanism becomes for users whose environment
cannot conform to the exact assumptions made when the scripting
mechanism was first designed.</p>
</li>
</ul>
<p class="p">It is impossible to customize VRM for
each environment it encounters. A solution whereby certain details
involved in managing a regression suite are given a simple default behavior,
one which should cover the bulk of common cases, and a mechanism
is provided by which one or more of those algorithmic “chunks” can
be overridden by the users to more closely fit their environment.
The TCL language provides the necessary hooks to make such an implementation
not only possible, but simple.</p>
<p class="p">A “user-definable procedure” is a chunk
of VRM functionality that has been isolated as a separate TCL procedure
with a well-documented interface. One or more of these procedures
can be overridden by user-defined procedures, written in TCL code
either in a file passed to VRM via a command-line option or as part
of the RMDB database. Arguments containing information relevant
to each procedure are passed to the procedure when invoked and,
in many cases, the procedure is expected to return the results of
its analysis. These procedures are loaded into a namespace reserved
for user-definable procedures so that there is little risk of inadvertently altering
the internal algorithm of VRM. Exceptions returned from these user-definable procedures
are trapped and reported in the due course of running the Tasks
defined in the regression suite and should not affect the operation
of VRM (other than to trigger an appropriate error message in the
VRM log output).</p>
<p class="p">In addition, VRM defines several utility
procedures in the same namespace as the user-definable procedures.
Their purpose is to save the user from having to reinvent certain
complex operations that can prove useful when called from within
a user-defined procedure. Note that these utility procedures can
be overridden if necessary, but they are not called directly from VRM
by default. Therefore, depending on which of the user-definable
procedures are overridden, an override on a utility procedure can,
in fact, have no effect on the behavior of VRM.</p>
<p class="p">The following subsections list the user-definable
procedures and utility procedures available in VRM, along with the
input arguments and expected return value, if any, for each procedure.
For the most part, the input arguments should be considered as read-only
from the point of view of the user-defined procedure. There are
some cases, however, where a user-defined routine may need to write
some information to one or more of the arguments in the array. In
those cases, the expected behavior is listed under the heading “Side
effects” for the procedure in question. The default (built-in) version
of most of these routines will emit an informational message when
VRM is executed in -debug mode.</p>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Concept_ModifyingVrmBehaviorUserDefinableProcedures_idd5ce6ff7.html" title="There are certain aspects of the behavior of VRM that depend on assumptions about the verification environment. For some of these behavioral details, VRM defines an appropriate default that should work for the majority of environments and a mechanism whereby that behavior can be modified by the user at runtime. For each modifiable aspect, the default behavior is implemented in an isolated TCL procedure within VRM. To override this default behavior, the user creates a TCL code fragment that defines a procedure of the same name as the procedure to be overridden. This code fragment is written to conform to the same interface as the original function and is loaded into VRM at runtime. When VRM invokes the procedure, the user's version of that procedure is used instead of the built-in procedure. The procedure as defined by VRM is called a “user-definable” procedure. The procedure supplied by the user to override this procedure is called a “user-defined” procedure.">Modifying VRM Behavior with User-definable Procedures</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_LoadingUserSuppliedTclCodeUsingUsertclIntoVrm_id3943ff33.html" title="In some cases, it is necessary to load user-defined TCL code into VRM (technically, into the TCL interpreter that is executing the VRM application). This TCL code can be specified in the RMDB database or in a separate file. Once specified, the code can be loaded via a command-line option or automatically at the start of the VRM run. Any TCL code so loaded becomes a global part of the VRM application. Procedures defined within the loaded code can be called from TCL-type parameter value expressions or from user-definable procedures. ">Loading User-supplied TCL Code Using usertcl into VRM</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_PostExecutionAnalysis_id449d612e.html" title="After generating the necessary files, vrun launches the Action and waits for the “done” message to arrive from the wrapper script for that Action, indicating that the user's script has exited and returned control to the wrapper. From this point until vrun continues with the next Action is called “post-execution analysis.” The behavior of VRM as it analyzes and reacts to the results of each completed Action is highly customized. Therefore, most of the steps involved in post-execution analysis are user-definable, with reasonable default behavior for the common case.">Post-execution Analysis</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "User-definable Procedures and Loading of Arbitrary TCL Code"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_UserDefinableProceduresLoadingArbitraryTclCode_idd238f0d1.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>