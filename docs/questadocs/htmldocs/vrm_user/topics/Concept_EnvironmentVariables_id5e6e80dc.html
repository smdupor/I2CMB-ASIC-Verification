<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Environment Variables" />
<meta name="abstract" content="The following environment variables are recognized and used by VRM:" />
<meta name="description" content="The following environment variables are recognized and used by VRM:" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Environment Variables</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Environment Variables" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Environment Variables</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The following
environment variables are recognized and used by VRM:</span>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef__idba4e62ba-cbaa-4f3e-92cb-b7deeec144e6" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>VRM Environment Variables</span></caption><colgroup><col style="width:2.776in" /><col style="width:1.115in" /><col style="width:2.609in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d45172e151"><p class="p">Variable </p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d45172e154"><p class="p">Value </p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d45172e157"><p class="p">Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_BACKTRACE </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(none) </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Causes TCL stack backtrace
to be printed to log output for VRM errors.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_CLUB_BY_TARGET</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(none) </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Causes vrun to use only
the mergefile/triagefile path to club UCDB files for auto-merge/triage (see “<a class="xref fm:HeadingAndPage" href="Concept_UcdbFileClubbingInAutomatedMergeAutomatedTriage_idceaba6d7.html#idceaba6d7-cf83-4356-a147-b5b7f7e192ac__Concept_UcdbFileClubbingInAutomatedMergeAutomatedTriage_idceaba6d7.xml#idceaba6d7-cf83-4356-a147-b5b7f7e192ac" title="Under non-queued incremental auto-merge and auto-triage, each completed UCDB file results in a separate merge/triage operation to handle that specific file. Because of file locking, multiple concurrent merge and/or triage commands to the same target file can experience additional latency as the locking algorithm blocks all but one of the concurrent commands from accessing the target file at any given time. VRM supports queued versions of incremental auto-merge and auto-triage that avoid this file locking latency.">UCDB File “clubbing” in Automated Merge and Automated Triage</a>”).</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_DB </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">path </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Pointer to VRM RMDB database.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_GVPATH</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(see below)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Specified where to search
for Graphviz libraries.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_MIN_TIMEOUT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">integer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Increases the global
minimum timeout (only if value &gt; current default)</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_SEMCHECK</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(none)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Enables semantic checking
of loaded rmdb.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_SEND</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(see below)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Command used by vish-mode Action
scripts to send user-defined messages.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_USE_VCOVER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "><p class="p">(none) </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Causes vrun to call vcover
stat -tcl  -attronly to fetch UCDB test data records instead of
using the UCDB API.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e151 "><p class="p">MTI_VRUN_USERTCL_PATH</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e154 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d45172e157 "><p class="p">Causes vrun to honor
this environment variable that specifies a search path for files
supplied to the -loadtcl command-line options or the file attribute
of a usertcl element in RMDB.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">If the MTI_VRUN_GVPATH is not specified, then
the GUI searches the directory where the vrun executable is read
and the <span class="ph filepath">/usr/lib64</span> and <span class="ph filepath">/usr/lib</span> directories
for a directory <span class="ph filepath">graphviz/tcl</span> that contains loadable
Graphviz libraries. This search is done on an as-needed basis so
the user only needs to set this variable when using the GUI's built-in
Graphviz window to view the RMDB database contents.</p>
<p class="p">The MTI_VRUN_SEND environment variable is set
by the vish-mode wrapper (used for Action scripts whose launch attribute
is set to exec or to some command shell path). It contains the basic
command (minus the -message option) needed to send a user-defined
message to the launching vrun process. See the section on “<a class="xref fm:HeadingAndPage" href="Concept_SendingUserDefinedMessagesFromActionScript_id4b4a1fca.html#id4b4a1fca-7e0b-4432-8f9d-8189eb9e7d59__Concept_SendingUserDefinedMessagesFromActionScript_id4b4a1fca.xml#id4b4a1fca-7e0b-4432-8f9d-8189eb9e7d59" title="On occasion a user’s script needs to emit an error, warning, or informational message back to the executing vrun application for inclusion in the log output for that run. There are two ways to do this as follows:">Sending User-defined Messages from an Action Script</a>” for details.</p>
<div class="section Subsections"><div class="section Subsection" id="id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef__ida551df07-e731-49d7-bb09-32ff11a1fb28"><h2 class="title Subheading sectiontitle">Environment Issues</h2><p class="p">Unless the Action scripts specifies otherwise,
the environment under which the Action script commands execute is
a combination of settings inherited from the environment of the shell
from which vrun is launched and whatever vrun (and the vish shell
that executes it) happened to set. In particular, the MODEL_TECH
environment variable is set to point to the Questa release from
which vrun was executed. If the intention is that the Action script commands
are to be taken from the same Questa release as vrun, this is a
perfect situation. However, if the intention is to use the vrun
from one Questa release to execute commands from another Questa
release (or from some third-party verification platform), care must
be taken that the environment is properly set-up.</p>
<p class="p">Note that using vrun from one Questa release
to launch commands from another Questa release requires that exec
type scripts be used exclusively. The remainder of this section assumes
all Action scripts have their launch attribute set to exec.</p>
<p class="p">The most robust solution is to use a “shebang”
line like the following (on each script, without the -f option):</p>
<pre class="pre codeblock leveled"><code>#!/bin/csh</code></pre><p class="p">This causes the shell running each script to
load the user's <span class="ph filepath">.cshrc</span> file before executing
any commands. In this file, the environment variables needed by
the script can be set properly (especially PATH, that governs which
Questa release will supply the command executables). The penalty
is a slight decrease in performance due to the <span class="ph filepath">.cshrc</span> file.
Other shells can be used with the appropriate setup file for that
shell.</p>
<p class="p">Note that the setup programs usually define
environment variables but, in this case, the setup script (that
is, <span class="ph filepath">.cshrc</span>) needs to also undefine one variable.
The MODEL_TECH_TCL environment variable is sometimes set by the
vrun process and may need to be un-set in order for the Action script
commands to run properly.</p>
<p class="p">Another solution is to hard-code the Questa
(or 3rd-party tool) release path onto the Action script commands. <a class="xref fm:Example" href="#id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef__id0c9e802d-e464-44ab-932a-5c8b46a7e700">Figure 1</a> launches a simulation using a specific
version of Questa, no matter which Questa release is used to supply
the vrun executable itself.</p>
<div class="fig fignone" id="id5e6e80dc-ffc1-4224-a4e4-ba44513ff3ef__id0c9e802d-e464-44ab-932a-5c8b46a7e700"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Hard-code Questa or 3rd Party
Tool Release Path in Script</span><pre class="pre codeblock leveled"><code>&lt;rmdb&gt;
	&lt;runnable name="nightly" type="group"&gt;
		&lt;parameters&gt;
			&lt;parameter name="platform" 
				type="tcl"&gt;$::env(PLATFORM)&lt;/parameter&gt;
			&lt;parameter name="MTI"&gt;/path/to/release/modeltech&lt;/parameter&gt;
			&lt;parameter name="Q"&gt;(%MTI%)/(%platform%)&lt;/parameter&gt;
		&lt;/parameters&gt;
		&lt;members&gt;
			&lt;member&gt;test1&lt;/member&gt;
		&lt;/members&gt;
	&lt;/runnable&gt;
	&lt;runnable name="test1" type="task"&gt;
		&lt;execScript launch="exec"&gt;
			&lt;command&gt;#!/bin/csh -f&lt;/command&gt;
			&lt;command&gt;rm -rf work&lt;/command&gt;
			&lt;command&gt;(%Q%)/vlib work&lt;/command&gt;
			&lt;command&gt;(%Q%)/vlog (%RMDBDIR%)/top.sv&lt;/command&gt;
			&lt;command&gt;(%Q%)/vsim top -c -do "run -all; quit -f"&lt;/command&gt;
		&lt;/execScript&gt;
	&lt;/runnable&gt;
&lt;/rmdb&gt;</code></pre></div>
<p class="p">In this case, it does not matter whether vrun
was executed from <span class="ph filepath">/path/to/release/modeltech </span>or
some other location. The explicit paths on the Action script commands
will override any setting provided by the VRM process itself.</p>
<p class="p">Another solution is to set the PATH to point
to the location of the executables to be used for the Action script
commands and then invoke vrun by its absolute path. This should
work, since neither the vrun application nor the underlying vish
interpreter change the PATH environment variable. This approach
is more risky, but does not affect performance.</p>
<p class="p">Note that all this is moot if the Actions are
launched on a server grid and the grid management software does
not preserve the environment when launching jobs.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_EnvironmentVariablesBuiltInParameters_id15924fe2.html" title="Reference information about environment variables and built-in parameters for VRM.">Environment Variables and Built-in Parameters</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Environment Variables"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_EnvironmentVariables_id5e6e80dc.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>