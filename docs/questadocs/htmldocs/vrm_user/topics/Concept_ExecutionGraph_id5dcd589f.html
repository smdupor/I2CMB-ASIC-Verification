<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Execution Graph" />
<meta name="abstract" content="The basic execution graph for a single Group Runnable with two Task Runnable members is as shown." />
<meta name="description" content="The basic execution graph for a single Group Runnable with two Task Runnable members is as shown." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="QuestaÂ® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Execution Graph</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Execution Graph" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Execution Graph</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The basic execution
graph for a single Group Runnable with two Task Runnable members
is as shown.</span>
</div>
<div class="fig fignone" id="id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__idd66ec295-7a80-4345-ae63-0d42bff230ca"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Execution Graph</span><br /><div class="imagecenter"><img class="image imagecenter" height="156" src="../graphics_composites/analyze_merge_collate2a.png" width="342" /></div><br /></div>
<p class="p">As described elsewhere, the <span class="ph FontProperty emphasis">preScript</span> Action
of the Group Runnable executes first. Once the <span class="ph FontProperty emphasis">preScript</span> completes,
the <span class="ph FontProperty emphasis">execScript</span> Actions
of each of the two member Task Runnables are launched (concurrently
or sequentially, depending on the configuration of the RMDB), then
once these two Actions complete, the <span class="ph FontProperty emphasis">postScript</span> Action
of the Group Runnable is launched. This is the basic VRM execution
model that may be nested as necessary. </p>
<p class="p">In addition to the <span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">postScript,</span> and <span class="ph FontProperty emphasis">execScript</span> Actions,
VRM also generates <span class="ph FontProperty emphasis">deleteScript </span>Actions.
These do not represent real Actions that can appear in the RMDB.
The <span class="ph FontProperty emphasis">deleteScript</span> Actions
are internally defined pseudo-Actions which tell the execution algorithm
that there are no more real Actions pending for a particular Runnable. <a class="xref fm:Figure" href="#id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__idb3ff44f2-317f-4a61-9dd1-d5f7d59fa65a">Figure 2</a> shows the execution model including
the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions.</p>
<div class="fig fignone" id="id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__idb3ff44f2-317f-4a61-9dd1-d5f7d59fa65a"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Execution Graph Including deleteScript</span><br /><div class="imagecenter"><img class="image imagecenter" height="220" src="../graphics_composites/analyze_merge_collate3a.png" width="462" /></div><br /></div>
<p class="p">Note that the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions
for each Runnable depend on the <span class="ph FontProperty emphasis">execScript</span> (or <span class="ph FontProperty emphasis">postScript</span>)
Action for that same Runnable (see note below) but no Action depends
on any of the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions.
This implies that the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions
do not participate in the order-of-execution algorithm. The sequence
in which a given set of Actions is executed depends entirely on
their Group/Task relationship. The <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions
become eligible for execution when the <span class="ph FontProperty emphasis">execScript</span> Action
(in the case of a Task) or the <span class="ph FontProperty emphasis">postScript</span> Action
(in the case of a Group) associated with that particular Runnable
completes. When they become eligible to run, they are tracked in
the same queue as all the other Actions. However, once launched,
they are tracked in their own queue, in order to ensure that all
the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions
complete before the regression process exits, A <span class="ph FontProperty emphasis">deleteScript</span> does
not have a <span class="ph FontProperty emphasis">PostExecutionAnalysis</span> phase,
nor does it propagate as the real Actions do. The vrun process managing
the regression run performs the actual deletion and manages the
life-cycle of these pseudo-Actions internally (they are also not
reported to the Status Event Log).</p>
<p class="p">Note that for a Group Runnable, the <span class="ph FontProperty emphasis">postScript</span> Action and
the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
also depend on the <span class="ph FontProperty emphasis">preScript</span> Action
associated with the same Group Runnable. These dependencies are
not shown in the diagram because they are largely just for assurance. The
diagram, as shown in <a class="xref fm:Figure" href="#id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__idb3ff44f2-317f-4a61-9dd1-d5f7d59fa65a">Figure 2</a>, guarantees the order-of-execution described
above, even without these extra dependencies.</p>
<p class="p">If auto-merge or auto-triage are enabled, two
additional types of Action may be generated as the regression progresses.
Auto-merge can create <span class="ph FontProperty emphasis">mergeScript</span> Actions
and auto-triage can create <span class="ph FontProperty emphasis">triageScript</span> Actions.
These Actions, when needed, are connected into the execution graph
as direct dependents of the <span class="ph FontProperty emphasis">execScript</span> Action
on whose behalf they were created. These newly added Actions also
inherit the dependencies of the <span class="ph FontProperty emphasis">execScript</span> Action
on which they themselves depend.</p>
<p class="p"><a class="xref fm:Figure" href="#id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__id8994f9f9-fda1-49b4-aae3-16543ac682a7">Figure 3</a> illustrates the execution graph after
a <span class="ph FontProperty emphasis">mergeScript</span> has
been added to merge the results from the test at <span class="ph filepath">nightly/test2</span>.</p>
<div class="fig fignone" id="id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__id8994f9f9-fda1-49b4-aae3-16543ac682a7"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Execution Graph After mergeScript
is Added</span><br /><div class="imagecenter"><img class="image imagecenter" height="231" src="../graphics_composites/analyze_merge_collate4a.png" width="475" /></div><br /></div>
<p class="p">Note that since <span class="ph filepath">nightly/test2/mergeScript</span> is
added to the graph by the <span class="ph FontProperty emphasis">MergeOneUcdb</span> user-definable
procedure as part of the <span class="ph FontProperty emphasis">PostExecutionAnalysis</span> phase
for <span class="ph filepath">nightly/test2/execScript</span>, by the time the <span class="ph FontProperty emphasis">mergeScript</span> Action has
been added to the execution graph, the Actions <span class="ph filepath">nightly/preScript</span> and <span class="ph filepath">nightly/test2/execScript</span> will
have already completed. Thus, they are shown in the <a class="xref fm:Figure" href="#id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__id8994f9f9-fda1-49b4-aae3-16543ac682a7">Figure 3</a> as dotted-line nodes simply to allow
visual comparison with <a class="xref fm:Figure" href="#id5dcd589f-6251-4ecd-9c51-4b97fffe8fb3__idb3ff44f2-317f-4a61-9dd1-d5f7d59fa65a">Figure 2</a>.</p>
<p class="p">Note that only <span class="ph FontProperty emphasis">mergeScript</span> and <span class="ph FontProperty emphasis">triageScript</span> Actions
can be created and each may only be created from an <span class="ph FontProperty emphasis">execScript</span> Action.
The <span class="ph FontProperty emphasis">deleteScript</span> Action
associated with any given Runnable will always become eligible to
run only after all other Actions associated with that Runnable have completed.</p>
<p class="p">The <span class="ph filepath">nightly/preScript</span> and <span class="ph filepath">nightly/postScript</span> Actions
both belong to the ânightlyâ Runnable and, hence, are executed in
the directory <span class="ph filepath">(%DATADIR%)/nightly</span>. Each of
the <span class="ph FontProperty emphasis">execScript</span> Actions
belong to one of the member Task Runnables and execute in their
own directories <span class="ph filepath">((%DATADIR%)/nightly/test1</span> and <span class="ph filepath">(%DATADIR%)/nightly/test2)</span>.
Each of the <span class="ph filepath">deleteScript</span> pseudo-Actions is
associated with the same working directory as the <span class="ph filepath">execScript</span> or <span class="ph filepath">postScript</span> Action on
which it depends. That makes it easy for the vrun process to track
which directories are no longer needed, as all the pending Actions
to be executed in each directory have completed by the time its
associated <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
becomes eligible to execute.</p>
<p class="p">The net effect is that the <span class="ph FontProperty emphasis">deleteScript</span> is
guaranteed to be the last execution graph node associated with a
particular Runnable to become eligible for execution. When a <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
appears at the top of the internal execution queue, the vrun process
knows that it is safe to schedule the deletion of any unprotected
files in the directory associated with that Runnable. The decision
on whether to delete files and/or directories, and exactly how much
to delete are described in <a class="xref fm:HeadingOnly" href="Concept_EnablingAutoDelete_id53dae2ce.html#id53dae2ce-8e9a-454e-9929-1720c7f702d7__Concept_EnablingAutoDelete_id53dae2ce.xml#id53dae2ce-8e9a-454e-9929-1720c7f702d7" title="Auto-delete is enabled by overriding the user-definable procedure OkToDelete (see below for a detailed description of this procedure). The OkToDelete procedure is called upon the completion of every Action (except, of course, for the deleteScript pseudo-Action). The decision of whether or not to delete a given directory is based on a veto system. Each deleteScript pseudo-Action carries a flag that indicates whether or not the directory associated with that pseudo-Action is safe to delete. That flag is set to âyesâ by default (that is, the directory is safe to delete). If the OkToDelete procedure returns a false value for any of the Actions associated with the same directory as the deleteScript pseudo-Action, that flag is set to ânoâ.">Enabling Auto-Delete</a>.</p>
<p class="p">Note that unlike other Actions, the <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Action
does not run in a separate process. All <span class="ph FontProperty emphasis">deleteScript</span> Actions
are executed by the vrun process managing the regression run. This
is because it is impossible to delete a directory and its contents
while running a process inside of that directory. Therefore, <span class="ph FontProperty emphasis">deleteScript</span> pseudo-Actions
have no wrapper and no <span class="ph filepath">.do</span> file; they generate
no logs, and they are not displayed on the GUI or reported to the
Status Event Log. The only way to see what auto-delete is deleting
is to include the -<span class="ph FontProperty emphasis">debug</span> option
on the vrun command line.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_AutoDeleteFunctionality_ide5d1f4a6.html" title="The auto-delete mechanism in VRM allows the user to configure VRM to selectively delete files from the VRM Data directory as a regression run progresses. This is primarily useful for those situations in which a limited amount of disk space is available and some of the collateral files generated by a given test (or by VRM to support the test execution) are no longer needed once that test finishes. For example, the user can configure a regression such that all files associated with a passing test are deleted once the test is complete and the coverage is merged into the merged UCDB file. Likewise, the user can configure a regression to preserve all UCDB and/or log files from passing tests and to preserve all files from failing tests (to facilitate reproduction of the failure) but to delete everything else.">Auto-Delete Functionality</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter">Â </div><div class="Footer" id="Footer">Â </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "QuestaÂ® Verification Run Manager User Guide"
                PageTitle = "Execution Graph"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ExecutionGraph_id5dcd589f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">QuestaÂ® Verification Run Manager User GuideÂ Software Version 2020.4<br />Unpublished work. Â©Â Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>