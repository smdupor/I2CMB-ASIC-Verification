<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Common Rules for Clubbed Jobs and Array Jobs" />
<meta name="abstract" content="Since fixed-mode clubbing and grid array jobs are processed by the same algorithm, many of the rules that govern said processing are common for both modes. This section outlines those rules." />
<meta name="description" content="Since fixed-mode clubbing and grid array jobs are processed by the same algorithm, many of the rules that govern said processing are common for both modes. This section outlines those rules." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="QuestaÂ® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idaa520132-5393-4655-80c8-ce010049ce4f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Common Rules for Clubbed Jobs and Array Jobs</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Common Rules for Clubbed Jobs and Array Jobs" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idaa520132-5393-4655-80c8-ce010049ce4f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Common Rules for Clubbed Jobs and Array Jobs</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Since fixed-mode
clubbing and grid array jobs are processed by the same algorithm,
many of the rules that govern said processing are common for both modes.
This section outlines those rules.</span>
</div>
<p class="p">The value of the <span class="ph FontProperty emphasis">maxarray</span> and/or <span class="ph FontProperty emphasis">maxclubbing</span> attributes
represents the maximum number of Actions that are aggregated into
a single job. In the examples above, this maximum is set to five Actions.
In this case, if nine Actions were to become eligible for execution
at the same time, those nine Actions would be combined into, and
launched as, two separate jobs (one job is responsible for the first
five Actions and the other job responsible for the remaining four Actions).
Note that if the number of eligible Actions waiting in the named
queue is not evenly divisible by the maximum value at the time the
jobs are launched, a short job is launched containing the remaining
Actions in order to completely clear the queue. The algorithm will
not wait for further Actions to become eligible, as this could cause
deadlocks under certain circumstances. </p>
<p class="p">If the value of the <span class="ph FontProperty emphasis">maxarray</span> (or <span class="ph FontProperty emphasis">maxclubbing</span>)
attribute is zero, there is no limit on the number of Actions that
can be combined into a single job. If the value of <span class="ph FontProperty emphasis">maxarray</span> (or <span class="ph FontProperty emphasis">maxclubbing</span>)
is one, then a multi-Action job script is still created and launched,
but only one Action is included in the job.</p>
<p class="p">In the event that multiple execution method
elements with differing <span class="ph FontProperty emphasis">maxarray</span> (or <span class="ph FontProperty emphasis">maxclubbing</span>)
values refer to the same named queue, the queue uses the minimum
of all those values attached to the <span class="ph FontProperty emphasis">method</span> elements
matching Actions that have been added to that queue up to the point
that the list of Actions is de-queued and launched. In the following example,
two execution methods point to the same named queue but each has
a different <span class="ph FontProperty emphasis">maxclubbing</span> value: </p>
<pre class="pre codeblock leveled"><code>&lt;method queue="grid" action="execScript" maxclubbing="10"&gt;...&lt;/method&gt;
&lt;method queue="grid" maxclubbing="5"&gt;...&lt;/method&gt;</code></pre><p class="p">In this case, <span class="ph FontProperty emphasis">execScript</span> Actions
are allowed to be clubbed and launched ten at a time (that is, ten
Actions in one grid job). Other Actions (like <span class="ph FontProperty emphasis">preScript</span> and <span class="ph FontProperty emphasis">postScript</span>) are
only executed in jobs of five Actions each. However, since both
execution methods point to the same named queue (in this case <span class="ph FontProperty emphasis">grid</span>),
any <span class="ph FontProperty emphasis">preScript</span> or <span class="ph FontProperty emphasis">postScript</span> queued
to this named queue causes the <span class="ph FontProperty emphasis">maxclubbing</span> value associated
with the queue itself to be capped at five for the duration of the
regression run. In other words, the <span class="ph FontProperty emphasis">maxclubbing</span> value
is cumulative and equal to the minimum <span class="ph FontProperty emphasis">maxclubbing</span> value
from the execution method of all Actions that are queued to that
particular named queue up to that point. However, if no Actions
other than <span class="ph FontProperty emphasis">execScript</span> actions
are queued (because the <span class="ph FontProperty emphasis">preScript</span> and <span class="ph FontProperty emphasis">postScript</span> for
all groups are either empty or undefined), the second execution
method will never match and the <span class="ph FontProperty emphasis">maxclubbing</span> setting
for the named queue <span class="ph FontProperty emphasis">grid</span> remains
at 10 for the duration of the regression run.</p>
<p class="p">Likewise, if multiple execution methods specify
different aggregation modes, one mode will override the other just
as if both attributes had been present on both execution methods,
as shown in the following example: </p>
<pre class="pre codeblock leveled"><code>&lt;method queue="grid" action="execScript" maxclubbing="10"&gt;...&lt;/method&gt;
&lt;method queue="grid" maxarray="15"&gt;...&lt;/method&gt;
</code></pre><p class="p">In this case, the first Action to be queued
which is not an <span class="ph FontProperty emphasis">execScript</span> Action
causes the <span class="ph FontProperty emphasis">maxarray</span> value
of the <span class="ph FontProperty emphasis">grid</span> named
queue to be set to 15 which, despite the fact that the previous
value of 10 is actually less than the current value of 15, still
overrides the previous value since <span class="ph FontProperty emphasis">maxarray</span> always
overrides <span class="ph FontProperty emphasis">maxclubbing</span>.
For clarity, it is strongly recommended to use a different named
queue for execution methods whose limit attributes (like <span class="ph FontProperty emphasis">maxarray</span> and/or <span class="ph FontProperty emphasis">maxclubbing</span>)
are not identical. </p>
<p class="p">Note that nothing in the multi-Action aggregation
algorithm is tied to the use of a specific Grid Management system,
nor is it even necessary to launch multi-Action jobs on a grid. Whether
or not a given job is submitted to a Grid Management system depends
on the execution method command. Even if jobs are launched by the
default method (that is, in the background on the local machine),
Actions can still be aggregated into multi-Action jobs. </p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_AggregatingMultipleActionsInSingleJob_idd29a7ea8.html" title="By default, VRM launches each Action as a separate job, even when launching jobs on a grid. However, because the grid queuing process involves some overhead, it is sometimes more efficient to combine two or more short-running Actions into a single grid job submission. A multi-Action grid job is created when several eligible Actions are clubbed together into a single script that is launched as a single job on a compute grid. Generation of multi-Action jobs is controlled on a per-queue basis. Each named queue is configured via attributes attached to the method element that creates the named queue and that queueâs settings apply to any Action which is launched via that named queue.">Aggregating Multiple Actions in a Single Job</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter">Â </div><div class="Footer" id="Footer">Â </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "QuestaÂ® Verification Run Manager User Guide"
                PageTitle = "Common Rules for Clubbed Jobs and Array Jobs"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CommonRulesClubbedJobsArrayJobs_idaa520132.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">QuestaÂ® Verification Run Manager User GuideÂ Software Version 2020.4<br />Unpublished work. Â©Â Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>