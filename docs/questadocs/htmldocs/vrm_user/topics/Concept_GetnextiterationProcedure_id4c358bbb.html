<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="GetNextIteration Procedure" />
<meta name="abstract" content="The GetNextIteration procedure, like all other user-definable procedures, is passed a reference to a TCL array containing various context-specific data items" />
<meta name="description" content="The GetNextIteration procedure, like all other user-definable procedures, is passed a reference to a TCL array containing various context-specific data items" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id4c358bbb-4c4f-4d71-9580-8428d7a049ad" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>GetNextIteration Procedure</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="GetNextIteration Procedure" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id4c358bbb-4c4f-4d71-9580-8428d7a049ad">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">GetNextIteration
Procedure</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The <span class="ph FontProperty emphasis">GetNextIteration</span> procedure,
like all other user-definable procedures, is passed a reference
to a TCL array containing various context-specific data items</span>
</div>
<p class="p">Refer to the section “<a class="xref fm:HeadingAndPage" href="General_Getnextiteration_id4fbd8297.html#id4fbd8297-c056-45f6-ae64-77cc95c774bc__General_Getnextiteration_id4fbd8297.xml#id4fbd8297-c056-45f6-ae64-77cc95c774bc" title="This procedure is called to retrieve the next iteration token to be used in place of the * token in a dynamically repeating Runnable. The token returned can be any combination of alphanumeric characters, digits, and the special characters period (.), colon (:), underscore (_), or hyphen (-). If an invalid token is returned, or if the returned token would result in a non-unique context path, then the procedure is called again until a valid and usable token is returned (or until 93 retries have failed). If this procedure returns an empty string, then the repeat loop for the Runnable in question is terminated.">GetNextIteration</a>” for additional information.</p>
<p class="p">To override this procedure, the user writes
a TCL procedure, generally following the example template shown
below, and include it either in an auto-loaded <span class="ph FontProperty emphasis">usertcl</span> element
or in an external file loaded with the -loadtcl command-line option.
This procedure performs whatever computation is necessary to determine:
(a) whether or not the Runnable in question should stop repeating
at this time, and (b) the next iteration value in the event the
Runnable continues to repeat. The procedure then returns the result
of that computation. The procedure follows the usual user-defined
procedure override template as follows: </p>
<pre class="pre codeblock leveled"><code>proc GetNextIteration {userdata} {
	upvar $userdata data
	...(some computation resulting in a value for nextIteration)...
	return $nextIteration
}
</code></pre><p class="p">By default, this procedure returns a series
of incrementing integer tokens from 1 up to a maximum loop count
determined by expanding the <span class="ph FontProperty emphasis">repcount</span> parameter
from the point of view of the repeating Runnable. This makes it
easy to run “N” simulations without supplying a <span class="ph FontProperty emphasis">GetNextIteration</span> procedure. Once
the maximum number of tokens have been generated, or if the <span class="ph FontProperty emphasis">repcount</span> parameter
cannot be expanded, then the procedure returns an empty string.</p>
<p class="p">Each time the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is called, it can return one or more iteration tokens separated
by any combination of spaces and/or commas. If multiple tokens are
returned in any one call to this procedure, then those tokens are
used to create that many concurrent Runnable instances.</p>
<p class="p">Since the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is called at the time that a * enabled Action becomes ready-to-run,
the context-specific values passed to this procedure will match
those passed to the <span class="ph FontProperty emphasis">ActionEligible</span> procedure.</p>
<p class="p">Note that it is recommended that the loop count
not be used directly as the simulation random seed. Nor should the
user-supplied <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
attempt to generate a random seed itself, since the TCL random number
generator is weak. A better solution is to pass the option -sv_seed
random to the simulation and let vsim generate the random seed.
This seed can then be captured from the UCDB file and stored in
a list of “good seeds” if that be the intention.</p>
<p class="p">It is also important that the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure is
implemented such that if it is called twice with the same data item
values, it will not return the same token both times. In particular,
the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
should not be implemented to simply return the value of the <span class="ph FontProperty emphasis">ATTEMPT</span> data
item or any combination involving only data item values passed to
the procedure. The reason is that in the event of an invalid token
value, the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is called again with the exact same data item values as when it
generated the invalid token. In this case, returning a new generated
token reduces the possibility of an infinite loop that cannot be resolved.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_UseModel_id80ccbce3.html" title="For runtime-controlled repeat loops, the iteration values are referred to as seeds, since seeds is the most common use for this functionality. However, nothing related to this functionality is tied to seed management, specifically; the same functionality can be used to dynamically iterate configurations, run-time options, test names, or any other user-configurable setting that can be reduced to a list of tokens passed to the foreach attribute of the runnable element with which they are associated.">Use Model</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "GetNextIteration Procedure"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_GetnextiterationProcedure_id4c358bbb.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>