<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Format of Messages from Action Script to vrun Core" />
<meta name="abstract" content="Status messages from an Action script to the vrun core follow a fixed format that looks as follows:" />
<meta name="description" content="Status messages from an Action script to the vrun core follow a fixed format that looks as follows:" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida2542438-e420-4d5d-a5c4-30961599a7d9" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Format of Messages from Action Script to vrun Core</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Format of Messages from Action Script to vrun Core" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ida2542438-e420-4d5d-a5c4-30961599a7d9">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Format of Messages from Action Script to vrun Core</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Status messages
from an Action script to the vrun core follow a fixed format that
looks as follows:</span>
</div>
<pre class="pre codeblock leveled"><code>&lt;event&gt; &lt;hostname&gt; &lt;status&gt; &lt;text-message&gt; &lt;action-path&gt; [&lt;action-path&gt;
 		 [...]]</code></pre><p class="p">The “event” field should contain one of the
strings from <a class="xref fm:Table" href="#ida2542438-e420-4d5d-a5c4-30961599a7d9__id2f001325-04a9-4394-83aa-a8af42456c65">Table 1</a>.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ida2542438-e420-4d5d-a5c4-30961599a7d9__id2f001325-04a9-4394-83aa-a8af42456c65" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Event Field Strings</span></caption><colgroup><col style="width:0.654in" /><col style="width:3.895in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d47324e158"><p class="p">Event</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d47324e161"><p class="p">Event/Description</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e158 "><p class="p">start</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e161 "><p class="p">Action script has started
(sent before Actionscript starts).</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e158 "><p class="p">user</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e161 "><p class="p">User-defined text message
from Action script.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e158 "><p class="p">done</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d47324e161 "><p class="p">Action script has completed
(sent afterAction script completes).</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Each properly functioning Action sends a single
start message just before the user script starts running and a single
done message just after the user script completes. These messages are
sent from the TCL wrapper script that accompanies each Action. The
user can send one or more optional user messages, each of which
contains a message string that is relayed to the log output of the
vrun process. A timeout can be specified from the time the Action
is initially launched until the time the start message arrives and
another timeout from the time the start message arrives until the
done message arrives.</p>
<p class="p">The “hostname” field should contain the name
of the machine on which the Action script is running (the return
value of the info hostname TCL command).</p>
<p class="p">The “status” field contains a numeric value
that is zero if the Action passed and non-zero if it failed (the
actual value is generally determined by the Action script via the
wrapper).</p>
<p class="p">The “message” field is a free-form text message
passed as a TCL-delimited string.</p>
<p class="p">If any of these fields are empty or undefined
for a given message, then a TCL empty string ({}) appears in place
of the missing value.</p>
<p class="p">The remaining tokens in the message are interpreted
as a list of Action script context paths to which the message applies.
If the vrun -send &lt;event&gt; command is used to send the messages,
then there is only one “action-path” token per message. But the
receiving vrun process will accept any number of action-path tokens
in a single message.</p>
<p class="p">When a message is sent via this logical channel,
the sender connects to the listening vrun application via the designated
TCP/IP port, posts a single-line message to the resulting open socket,
and then closes the socket. This “burst-mode” communication makes
it less likely that system resources will be overwhelmed by a large
number of concurrent Action scripts all starting or completing at
the same time. In fact, the single-threaded nature of the vrun handling code
implies that only one such event message can be transferred at any
given time. For this reason, vrun performs as little processing
as possible while the connection is open.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CommunicationChannels_idab356eb6.html" title="The “core engine” of VRM is the vrun application. When managing a regression run, the vrun application is essentially a batch-mode process. It launches jobs and reports their status on a text-based log stream (via stdout or via the vsim transcript stream if launched from vsim). A single vrun process is responsible for a single regression run (although vrun can call additional instances of itself, depending on the user's configuration, these child processes are also considered separate regression runs). The only direct control the user has over the regression process is through the RMDB database file and by way of command-line options specified at the time the vrun process is launched.">Communication Channels</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Format of Messages from Action Script to vrun Core"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_FormatMessagesFromActionScriptVrunCore_ida2542438.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>