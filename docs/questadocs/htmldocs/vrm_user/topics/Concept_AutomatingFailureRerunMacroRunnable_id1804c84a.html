<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Automating Failure Rerun With a Macro Runnable" />
<meta name="abstract" content="Two or more vrun commands are required to implement a complete failure rerun scheme in semi-automatic mode. In order to encapsulate the required command-line options into the RMDB file, a macro Runnable can be defined that recursively calls vrun as many times as needed to complete the regression run. For example, suppose your regression environment requires that failing and/or timed out tests be rerun once with a slightly longer timeout (to weed out noisy failures) and those that still fail to be run with a debug-mode parameter set so the tests are ready to debug when the designer arrives the next morning. The set of three vrun commands might look like the following:" />
<meta name="description" content="Two or more vrun commands are required to implement a complete failure rerun scheme in semi-automatic mode. In order to encapsulate the required command-line options into the RMDB file, a macro Runnable can be defined that recursively calls vrun as many times as needed to complete the regression run. For example, suppose your regression environment requires that failing and/or timed out tests be rerun once with a slightly longer timeout (to weed out noisy failures) and those that still fail to be run with a debug-mode parameter set so the tests are ready to debug when the designer arrives the next morning. The set of three vrun commands might look like the following:" />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id1804c84a-aade-4aac-9a2f-4aafd9feca7b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Automating Failure Rerun With a Macro Runnable</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Automating Failure Rerun With a Macro Runnable" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id1804c84a-aade-4aac-9a2f-4aafd9feca7b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Automating Failure Rerun With a Macro Runnable </h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Two or more
vrun commands are required to implement a complete failure rerun
scheme in semi-automatic mode. In order to encapsulate the required command-line
options into the RMDB file, a macro Runnable can be defined that
recursively calls vrun as many times as needed to complete the regression
run. For example, suppose your regression environment requires that
failing and/or timed out tests be rerun once with a slightly longer
timeout (to weed out noisy failures) and those that still fail to
be run with a debug-mode parameter set so the tests are ready to
debug when the designer arrives the next morning. The set of three
vrun commands might look like the following:</span>
</div>
<p class="lines ApplCommand">vrun nightly -Gmode=fast</p>
<p class="lines ApplCommand">vrun -select failed,notrun -Gmode=fast -mintimeout=300</p>
<p class="lines ApplCommand">vrun -select failed,notrun -Gmode=debug -mintimeout=300</p>
<p class="p">These commands can be placed in the <span class="ph FontProperty emphasis">execScript</span> of
a standalone Task to automate the chain as follows:</p>
<pre class="pre codeblock leveled"><code>&lt;rmdb&gt;
   &lt;runnable name="runall" type="task"&gt;
      &lt;parameters&gt;
         &lt;parameter name="SAME"&gt;-rmdb (%RMDBFILE%) -vrmdata 
            (%DATADIR%)&lt;/parameter&gt;
      &lt;/parameters&gt;
      &lt;execScript&gt;
         &lt;command&gt;vrun (%SAME%) nightly -Gmode=fast&lt;/command&gt;
         &lt;command&gt;vrun (%SAME%) -select failed,notrun -Gmode=fast 
            -mintimeout=300&lt;/command&gt;
         &lt;command&gt;vrun (%SAME%) -select failed,notrun -Gmode=debug 
            -mintimeout=300&lt;/command&gt;
      &lt;/execScript&gt;
   &lt;/runnable&gt;
    ...
&lt;/rmdb&gt;
   </code></pre><p class="p">Then, the following command:</p>
<p class="lines ApplCommand">vrun runall</p>
<p class="p">runs the regression suite rooted at <span class="ph FontProperty emphasis">nightly</span> three
times. Appropriate TCL code can also be inserted to detect failed
Actions (possibly using the -faillog option) and bypass the subsequent
runs altogether if the number of failures is below a fixed threshold
(if there were no failures, the latter two vrun invocations will
exit right away as there are no Runnables selected for execution).</p>
<p class="p">Note that the options listed in the <span class="ph FontProperty emphasis">SAME</span> parameter
in the example above are required to pass the RMDB file name to
the nested vrun command, and to prevent an additional <span class="ph filepath">VRMDATA</span> directory
(under <span class="ph filepath">runall</span>) from being created.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_SemiAutomaticTwoCommandMode_id56bd3845.html" title="This section describes a way to identify failing Actions from a previous run. The -select command-line option takes one or more status keywords and searches the event log from the immediately previous run for Actions that match the specified keywords. It then converts the Action context path into a Runnable context path and then selects that context path for execution as if it had been included directly on the vrun command line.">Semi-automatic (Two-command) Mode</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Automating Failure Rerun With a Macro Runnable"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_AutomatingFailureRerunMacroRunnable_id1804c84a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>