<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Event Logging" />
<meta name="abstract" content="Every status event message generated by the vrun core is also logged in an event log. The event log is created in a directory called logs directly under the head of the VRMDATA directory for that regression run. The name of the log file is derived from the date and time when the regression run started, with the extension of .rmev. The file names are formatted such that a simple lexical sort yields the sequence in which the individual regression runs were executed. Any application that knows the path to the head of the VRMDATA directory can discover the event logs from all past regression runs involving that VRMDATA directory." />
<meta name="description" content="Every status event message generated by the vrun core is also logged in an event log. The event log is created in a directory called logs directly under the head of the VRMDATA directory for that regression run. The name of the log file is derived from the date and time when the regression run started, with the extension of .rmev. The file names are formatted such that a simple lexical sort yields the sequence in which the individual regression runs were executed. Any application that knows the path to the head of the VRMDATA directory can discover the event logs from all past regression runs involving that VRMDATA directory." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="QuestaÂ® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide725e3f3-5602-47f3-bda3-d9572e1a5c60" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Event Logging</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Event Logging" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ide725e3f3-5602-47f3-bda3-d9572e1a5c60">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Event Logging</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Every status
event message generated by the vrun core is also logged in an event
log. The event log is created in a directory called <span class="ph filepath">logs</span> directly
under the head of the <span class="ph filepath">VRMDATA</span> directory for
that regression run. The name of the log file is derived from the
date and time when the regression run started, with the extension
of <span class="ph filepath">.rmev</span>. The file names are formatted such
that a simple lexical sort yields the sequence in which the individual regression
runs were executed. Any application that knows the path to the head
of the <span class="ph filepath">VRMDATA</span> directory can discover the event
logs from all past regression runs involving that <span class="ph filepath">VRMDATA</span> directory.</span>
</div>
<p class="p">The event log is made up of the
messages passed from the vrun core to the Runtime GUI. Each status
event message occupies one line in the file. A sample event log file
might look like <a class="xref fm:Example" href="#ide725e3f3-5602-47f3-bda3-d9572e1a5c60__id6b3c02cc-456c-48b1-95e0-64f3b4b8334b">Figure 1</a>.</p>
<div class="fig fignone" id="ide725e3f3-5602-47f3-bda3-d9572e1a5c60__id6b3c02cc-456c-48b1-95e0-64f3b4b8334b"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Event Log File Sample</span><pre class="pre codeblock leveled"><code>20090402T081950 begin 39096@myhost /path/to/simple.rmdb /path/to/VRMDATA
20090402T081950 eligible nightly/preScript
20090402T081950 launched nightly/preScript
20090402T081951 running nightly/preScript myhost
20090402T081951 done nightly/preScript passed myhost {} {} {}
20090402T081951 eligible nightly/test1/execScript
20090402T081951 eligible nightly/test2/execScript
20090402T081951 eligible nightly/test3/execScript
20090402T081951 launched nightly/test1/execScript
20090402T081951 launched nightly/test2/execScript
20090402T081951 launched nightly/test3/execScript
20090402T081952 running nightly/test2/execScript myhost
20090402T081952 running nightly/test1/execScript myhost
20090402T081952 running nightly/test3/execScript myhost
20090402T081953 done nightly/test2/execScript passed myhost 
	nightly/test456/test456.ucdb ok 456
20090402T081953 done nightly/test1/execScript passed myhost 
	nightly/test123/test123.ucdb ok 123
20090402T081953 done nightly/test3/execScript passed myhost 
	nightly/test789/test789.ucdb ok 789
20090402T081953 eligible nightly/postScript
20090402T081953 launched nightly/postScript
20090402T081954 running nightly/postScript myhost
20090402T081954 done nightly/postScript passed myhost {} {} {}
20090402T081954 end</code></pre></div>
<p class="p">This event log shows that three leaf-level
Tasks (instances of <span class="ph filepath">execScript</span>) were initiated
and that all three passed. Each was a simulation that resulted in
a UCDB file and the user can construct the absolute paths to these UCDB
files by prepending the <span class="ph FontProperty emphasis">ucdb-file</span> field
of each done message with the value of the <span class="ph filepath">scratch-dir</span> from
the begin message. Also, it is possible to find the RMDB database
file used for this run by looking at the <span class="ph FontProperty emphasis">ucdb-file</span> field
of the begin message.</p>
<p class="p">When the TCL wrapper scripts for each Action
are generated by vrun, the <span class="ph filepath">port@host</span> of the
listening TCP/IP socket is hard-coded into the script. However,
when external applications, such as the Runtime GUI, want to connect
to a running vrun process in order to report ongoing status, the <span class="ph filepath">port@host</span> field
of the begin message should be consulted. Since the event logs are
stored in a fixed location relative to the head of the directory,
and since the latest event log file will always be the last file
in a lexical sort of filenames, all the external application needs
to know in order to locate the open TCP/IP port on the vrun process
is the path of the <span class="ph filepath">VRMDATA</span> directory in which the
tests are being executed.</p>
<p class="p">Moreover, since the event logs are always stored
in a fixed location relative to the head of the <span class="ph filepath">VRMDATA</span> directory,
and since an event log is generated for every regression run, the
cumulative event logs can be read in sequence as a single stream
to find out what has run in that <span class="ph filepath">VRMDATA</span> directory
since the directory was created (assuming nobody deleted the log
files without also deleting the entire <span class="ph filepath">VRMDATA</span> directory).
In order to develop a report on the current status of every test
in the suite, the user needs to only read the event log files in
sequence, keeping only the latest status event message for each
Action.</p>
<p class="p">In order to speed up the status reporting process
in this case, at the end of each regression run, the vrun process
checks the event log directory to see how many logs have accumulated.
If more than one log file exists in <span class="ph filepath">VRMDATA/logs</span>,
a roll-up file will be created containing the cumulative status
of all Actions to date. The name of the roll-up file follows the
same pattern used for the event log files, save that the extension
used is <span class="ph filepath">.rmup</span>. The roll-up file contains a
verbatim copy of the most recent status event message logged for
each Action (only running and done events are considered). The event
messages are stored in the roll-up file in an arbitrary order. In
order for the roll-up file to appear like an event log, the most
recent begin message from the set of event log files (or a surrogate,
should none of the event logs files contain a begin message) will
precede the Action-related status event messages. A roll-up file
always ends with an end message bearing a timestamp based on when
the roll-up log was created.</p>
<p class="p">To generate a cumulative status report, the
names of the files in the <span class="ph filepath">VRMDATA/logs</span> directory
should be lexically sorted. Then, all files prior to the latest
roll-up (.<span class="ph filepath">rmup</span>) file can be discarded (since
the cumulative effect of the event log files prior to that are already
reflected in the latest roll-up file). The files should then be
read in sequence, recording each message in a hash keyed by the context
chain string associated with each status event message (each message
would replace any messages for that Action that were previously
seen). The result can then be sorted as necessary and rendered into
a report.</p>
<p class="p">Note that the contents of the event log generated
during a regression run are identical with the data emitted on the
status channel. Internally, the event log is nothing more than a listener
on the status channel whose socket handle just happens to be a file
handle that is opened for writing any time vrun begins to execute
a regression suite.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CommunicationChannelsEventLogStatusReport_idcea03693.html" title="The communication of VRM relies on these various topics.">Communication Channels, Event Log, and Status Report</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter">Â </div><div class="Footer" id="Footer">Â </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "QuestaÂ® Verification Run Manager User Guide"
                PageTitle = "Event Logging"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_EventLogging_ide725e3f3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">QuestaÂ® Verification Run Manager User GuideÂ Software Version 2020.4<br />Unpublished work. Â©Â Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>