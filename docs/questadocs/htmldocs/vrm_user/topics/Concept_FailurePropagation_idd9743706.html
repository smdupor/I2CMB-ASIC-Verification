<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Failure Propagation" />
<meta name="abstract" content="A failed Action (one which either fails to launch, returns a non-zero status, or is marked as failed in the UCDB) can also have an effect on subsequent Actions that depend on (that is, follow) the failed Action. This mechanism is called “failure propagation” and is intended to help prevent cases where some critical Action within a regression suite (such as design compilation) fails but the remainder of the regression continues on as if nothing happened." />
<meta name="description" content="A failed Action (one which either fails to launch, returns a non-zero status, or is marked as failed in the UCDB) can also have an effect on subsequent Actions that depend on (that is, follow) the failed Action. This mechanism is called “failure propagation” and is intended to help prevent cases where some critical Action within a regression suite (such as design compilation) fails but the remainder of the regression continues on as if nothing happened." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd9743706-b412-45c7-967e-aaede226dd75" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Failure Propagation</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Failure Propagation" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idd9743706-b412-45c7-967e-aaede226dd75">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Failure Propagation</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">A failed Action
(one which either fails to launch, returns a non-zero status, or
is marked as failed in the UCDB) can also have an effect on subsequent Actions
that depend on (that is, follow) the failed Action. This mechanism
is called “failure propagation” and is intended to help prevent
cases where some critical Action within a regression suite (such
as design compilation) fails but the remainder of the regression
continues on as if nothing happened. </span>
</div>
<p class="p">Failure propagation follows the
connectivity of the VRM execution model, as described in “<a class="xref fm:HeadingAndPage" href="Contain_ExecutionGraphExpansion_idf482268e.html#idf482268e-d172-415b-9f7f-0dccdb54661d__Contain_ExecutionGraphExpansion_idf482268e.xml#idf482268e-d172-415b-9f7f-0dccdb54661d" title="When VRM is invoked, the user specifies one or more Runnable names on the command line. The RMDB database entry for each of these Runnable names is retrieved from the database and one of the following actions takes place:">Execution Graph Expansion</a>” and summarized below.</p>
<p class="p">In a sequential Group, the first member of
the Group depends on the completion of the <span class="ph FontProperty emphasis">preScript</span>,
each member of the Group depends on the completion of the previous
member in the Group, and the <span class="ph FontProperty emphasis">postScript</span> depends
on completion of the last member in the Group. In a non-sequential
Group, each member of the Group depends on the completion of the <span class="ph FontProperty emphasis">preScript</span> and
the <span class="ph FontProperty emphasis">postScript</span> depends
on the collective completion of all the members of the Group. These
dependencies are nested in the case of Groups which have, as members,
other Groups.</p>
<p class="p">The default rules governing failure propagation
are as follows:</p>
<ul class="ul"><li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id5626da11-b74f-4ba7-b6e1-5be3e56f1b54"><p class="p">A failed <span class="ph FontProperty emphasis">preScript</span> Action
causes any actions dependent upon that <span class="ph FontProperty emphasis">preScript</span> (such
as the <span class="ph FontProperty emphasis">execScript</span> Actions
of member Tasks or the <span class="ph FontProperty emphasis">postScript</span> Action
of that Group) to be abandoned.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__idf1ff71df-8828-4ba6-844e-be4612b133d7"><p class="p">A failed member of a sequential Group
causes both subsequent members of the Group and the <span class="ph FontProperty emphasis">postScript</span> for
that Group to be abandoned.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id8773a2a3-df7a-47e6-ae33-086b7cc15647"><p class="p">Failed members of a non-sequential Group
have no effect on the <span class="ph FontProperty emphasis">postScript</span> Action
of that Group.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id1454e8e0-239f-43ef-848c-46cf1c8c8304"><p class="p">An abandoned Action appears as a failure
to downstream dependent Actions so the whole process repeats for
subsequent Actions.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id868dc08d-a315-4afb-9856-0db4e61a29a6"><p class="p">Failures propagated from the <span class="ph FontProperty emphasis">postScript</span> of
a member Group are treated as failures of the member (in other words,
nested Groups can also propagate failure to their parent Groups).</p>
</li>
</ul>
<p class="p">The reasoning behind these rules is as follows:</p>
<ul class="ul"><li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id6f0c8dbd-5c2a-43ea-80d1-c5d0fa2f4007"><p class="p">The <span class="ph FontProperty emphasis">preScript</span> is
most often associated with design compilation or other preparatory
steps, the failure of which will most likely render further processing
within that Group to fail and, therefore, to waste CPU resources.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id62181b5a-43e7-4bd0-97d6-fb36a4e38d6f"><p class="p">A failing <span class="ph FontProperty emphasis">execScript</span> member
of a non-sequential Group most likely results from a failed simulation.
Simulation failure should be reflected in the merged UCDB test data
records (and that merged UCDB file only exists if the <span class="ph FontProperty emphasis">postScript</span> is
allowed to execute). Post-simulation analysis (that is, <span class="ph FontProperty emphasis">postScript</span>)
Actions are less likely to fail themselves in the face of one or
more simulation failures.</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__id24a2f9e1-4827-49e6-b639-b98d46fddaad"><p class="p">The members of a sequential Group are
most likely defined to execute sequentially because each step depends
on the results and/or collateral files from a previous step (that
is, in some RMDB files, compilation, simulation, and post-regression analysis
are configured as members of a sequential Group).</p>
</li>
</ul>
<p class="p">There are two ways to override this default
behavior. The easiest (and least flexible) is to add an <span class="ph FontProperty emphasis">onerror</span> attribute
to the <span class="ph FontProperty emphasis">runnable</span> element
corresponding to the Group whose behavior you wish to modify. For
example, by default, failure of one member of a non-sequential Group
is not propagated to the <span class="ph FontProperty emphasis">postScript</span> of
that Group or to other downstream Actions. In order to cause member
failures to be propagated from inside a non-sequential Group, the <span class="ph FontProperty emphasis">runnable</span> should
be configured as follows:</p>
<pre class="pre codeblock leveled"><code>&lt;runnable name="myGroup" type="group" onerror="abandon"&gt;
	...
&lt;/runnable&gt;</code></pre><p class="p">An <span class="ph FontProperty emphasis">onerror</span> value
of <span class="ph FontProperty emphasis">abandon</span> means
that member failures should always cause the <span class="ph FontProperty emphasis">postScript</span> of
that Group to be abandoned (default behavior for sequential Groups).
Likewise, an <span class="ph FontProperty emphasis">onerror</span> value of <span class="ph FontProperty emphasis">continue</span> means
that member failures should not be propagated to subsequent members
or to the <span class="ph FontProperty emphasis">postScript</span> of
the Group (default behavior for non-sequential Groups). If the <span class="ph FontProperty emphasis">onerror</span> attribute
of a given <span class="ph FontProperty emphasis">runnable</span> element
contains any other value, then the Group follows its default behavior
as outlined above.</p>
<p class="p">A more flexible means to override the default
VRM failure propagation behavior is to override the <span class="ph FontProperty emphasis">StopPropagating</span> user-definable
procedure (as covered in the section “<a class="xref fm:HeadingAndPage" href="Concept_Stoppropagating_ida43897a2.html#ida43897a2-2cdd-4264-acb2-b478b3894bb5__Concept_Stoppropagating_ida43897a2.xml#ida43897a2-2cdd-4264-acb2-b478b3894bb5" title="A typical regression suite consists of a large number of inter-related Actions. Many of those Actions depend on the successful completion of previous Actions in the suite. For example, one of the uses of the preScript Action is to compile the Design Under Test (DUT) in preparation for running the actual simulations. If the compile step fails for some reason, the simulations will also be unlikely to succeed and, thus, executing them would be a waste of disk space and compute capacity. VRM is capable of pruning the execution graph in response to failed Actions. This it not unlike the behavior of the make utility when faced with a failing build step. Unless otherwise directed, the default behavior of make is to stop the build on the first error encountered.">StopPropagating Concept</a>”). This procedure is called
after the completion of each Action. If the procedure returns a
true value, downstream Actions are abandoned. If the procedure returns
a false value, any failure of the Action in question is ignored
(regardless of whether or not the Action really failed).</p>
<p class="p">Whenever an Action in the execution graph is
abandoned due to earlier errors, a warning to that effect is emitted
to the VRM log output. In -verbose mode, this warning also includes
a list of those Actions whose failure caused the Action in question
to be abandoned.</p>
<p class="p">Note that this behavior is in addition to any
user-specified premature termination heuristic. Premature termination
(see “<a class="xref fm:HeadingAndPage" href="Concept_Stoprunning_id7535a56e.html#id7535a56e-0ae3-433f-afa8-7cc8d85a62e5__Concept_Stoprunning_id7535a56e.xml#id7535a56e-0ae3-433f-afa8-7cc8d85a62e5" title="In some cases, a fundamental design or testbench failure can cause a large number (if not all) of the Tasks in the regression suite to fail. In this case, early termination of the regression run can prevent processing resources from being wasted on simulations that cannot provide any additional information. By default, VRM always attempts to run every Action defined in the database. The user can override this behavior and provide a heuristic function that will terminate a regression run prematurely in the face of such catastrophic failure.">StopRunning Concept</a>”) causes all unexecuted Actions
to be abandoned and VRM to stop launching new Actions. The behavior
described here affects only those Actions that depend on the failed Action,
either directly or indirectly.</p>
<p class="p">There are two status count messages emitted
at the end of each VRM run as follows:</p>
<ul class="ul"><li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__ide5153a33-0f1b-47d5-81c2-a4bf4724e49f"><p class="p">The launch status indicates how many <span class="ph FontProperty emphasis">preScript</span>, <span class="ph FontProperty emphasis">execScript</span>,
or <span class="ph FontProperty emphasis">postScript</span> Actions
were launched and, of these, how many successfully ran and how many
failed (success, in this case, is the script launch itself not failing
and the “done” message returning a zero (<span class="ph FontProperty emphasis">nonerror</span>)
status).</p>
</li>
<li class="li" id="idd9743706-b412-45c7-967e-aaede226dd75__idcdcd3ef1-201c-4c18-bc73-24e7426b43b8"><p class="p">The status message is a count of the
number of actual simulations (UCDB files) that returned each kind
of status message. The counts include the five valid UCDB status
codes plus “UCDB error” (if the UCDB cannot be found or cannot be
read) or “Unknown” (if the status value found in the test data record
is not valid).</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PassfailAnalysis_idf8b00830.html" title="Before vrun can decide how to react to a completed Action, it must determine if the Action in question passed or failed. For purposes of pass/fail analysis, each execScript Action is assumed to run, at most, one simulation. The preScript and postScript Actions are assumed not to run simulations (the preScript and postScript Actions are primarily used for compile, setup, and/or post-processing commands). These assumptions can be overridden in the RMDB database as described below.">Pass/Fail Analysis</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Failure Propagation"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_FailurePropagation_idd9743706.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>