<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Enabling and/or Disabling Coverage Merge Flows" />
<meta name="abstract" content="This section summarizes how the various merge flows are triggered and who is responsible for the vcover merge command." />
<meta name="description" content="This section summarizes how the various merge flows are triggered and who is responsible for the vcover merge command." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7f42d7ed-444a-4264-a4f4-64a7146e4dcf" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Enabling and/or Disabling Coverage Merge Flows</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Enabling and/or Disabling Coverage Merge Flows" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id7f42d7ed-444a-4264-a4f4-64a7146e4dcf">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Enabling and/or Disabling Coverage Merge Flows</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">This section
summarizes how the various merge flows are triggered and who is
responsible for the vcover merge command.</span>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id7f42d7ed-444a-4264-a4f4-64a7146e4dcf__idbb4f3cf6-c17e-4c79-ad5b-724c40767373" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Coverage Merge Flow Summary</span></caption><colgroup><col style="width:0.876in" /><col style="width:0.941in" /><col style="width:0.969in" /><col style="width:1.176in" /><col style="width:1.237in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d58198e153"><p class="p">Has ucdbfile?</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d58198e156"><p class="p">Has mergelist?</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d58198e159"><p class="p">Has mergefile?</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d58198e162"><p class="p">Type of merge</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d58198e165"><p class="p">Merge command</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e153 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e156 "><p class="p">--</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e159 "><p class="p">--</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e162 "><p class="p">Unspecified</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e165 "><p class="p">No UCDB file specified</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e153 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e156 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e159 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e162 "><p class="p">Post-process (DIY) merge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e165 "><p class="p">Part of user postScript</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e153 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e156 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e159 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e162 "><p class="p">List-based manual merge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e165 "><p class="p">Part of user postScript</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e153 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e156 "><p class="p">--</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e159 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e162 "><p class="p">Incremental auto-merge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e165 "><p class="p">Generated by vrun</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e153 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e156 "><p class="p">--</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e159 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e162 "><p class="p">Queued auto-merge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d58198e165 "><p class="p">Generated by vrun</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The <span class="ph FontProperty emphasis">ucdbfile</span> parameter
must be specified for any merging to take place within VRM (unless
a user <span class="ph FontProperty emphasis">postScript</span> scans
for potential UCDB files). In addition, either the <span class="ph FontProperty emphasis">mergefile</span> or
the <span class="ph FontProperty emphasis">mergelist</span> parameter
is required for vrun to make any attempt to assist in the merging
process. If <span class="ph FontProperty emphasis">ucdbfile</span> and <span class="ph FontProperty emphasis">mergefile</span> are both
specified for a given Task Runnable, the default is queued merging.
If the <span class="ph FontProperty emphasis">mergefile</span> parameter
is not specified but the <span class="ph FontProperty emphasis">mergelist</span> parameter
is specified, then the path to the UCDB file is added to the <span class="ph filepath">mergelist</span> file
for later manual merging.</p>
<p class="p">Even if auto-merge is enabled due to the presence
of the <span class="ph FontProperty emphasis">mergefile</span> attribute,
the auto-merge algorithm can be disabled manually with the -noautomerge
command-line option. This prevents the creation of <span class="ph FontProperty emphasis">mergeScript</span> Actions
to perform the merge. It does not, however, disable the generation
of a merge list via the <span class="ph FontProperty emphasis">mergelist</span> parameter.</p>
<p class="p">The <span class="ph filepath">OkToMerge</span> user-definable
procedure can also set the <span class="ph FontProperty emphasis">mergefile</span> or <span class="ph FontProperty emphasis">mergelist</span> elements
of the passed data array (that is, <span class="ph FontProperty emphasis">data(mergefile)</span> or <span class="ph FontProperty emphasis">data(mergelist)</span>),
in which case the values provided by the <span class="ph filepath">OkToMerge</span> procedure
will override any values present in the RMDB database file.</p>
<p class="p">The default commands used in the auto-merge <span class="ph FontProperty emphasis">mergeScript</span> Action
are as follows:</p>
<pre class="pre codeblock leveled"><code>set mergefile {(%mergefile%)}
set ucdbfiles {(%ucdbfiles%)}
set cmd [list vcover merge (%mergeoptions%) -out $mergefile]
if {[file readable $mergefile]} {lappend cmd $mergefile}
eval exec $cmd $ucdbfiles</code></pre><p class="p">This built-in script can be overridden simply
by adding a <span class="ph FontProperty emphasis">mergeScript</span> element
to the Runnable associated with the UCDB file or to some Runnable
visible from that Runnable by inheritance. If a <span class="ph FontProperty emphasis">mergeScript</span> element
is found in the RMDB file, then that script is used to perform the
merge. If no <span class="ph FontProperty emphasis">mergeScript</span> element
is found, the above default script is used instead. The merge options,
if any, should be placed in a parameter called <span class="ph FontProperty emphasis">mergeoptions</span>,
which must also be visible from the Runnable associated with the
UCDB file to be merged.</p>
<p class="p">In queued mode, the vrun process accumulates
a list of UCDB files to be merged and ensures that only one merge
is ever executing against a single target merge file at any one
time. The files are clubbed according to the contents of the generated <span class="ph FontProperty emphasis">mergeScript</span> (including
the <span class="ph FontProperty emphasis">mergeoptions</span> value),
thus drawing a balance between minimizing the total number of merge
operations and reducing the latency of the merge results. See “<a class="xref fm:HeadingAndPage" href="Concept_UcdbFileClubbingInAutomatedMergeAutomatedTriage_idceaba6d7.html#idceaba6d7-cf83-4356-a147-b5b7f7e192ac__Concept_UcdbFileClubbingInAutomatedMergeAutomatedTriage_idceaba6d7.xml#idceaba6d7-cf83-4356-a147-b5b7f7e192ac" title="Under non-queued incremental auto-merge and auto-triage, each completed UCDB file results in a separate merge/triage operation to handle that specific file. Because of file locking, multiple concurrent merge and/or triage commands to the same target file can experience additional latency as the locking algorithm blocks all but one of the concurrent commands from accessing the target file at any given time. VRM supports queued versions of incremental auto-merge and auto-triage that avoid this file locking latency.">UCDB File “clubbing” in Automated Merge and Automated Triage</a>” for further details. The list
of UCDB files to be merged is supplied by vrun in the <span class="ph FontProperty emphasis">ucdbfiles</span> parameter.</p>
<p class="p">This list is constructed from the contents
of the <span class="ph FontProperty emphasis">ucdbfile</span> parameters
specified by eligible <span class="ph FontProperty emphasis">execScript</span> Actions
that completed since the last merge against this particular target
merge file (in incremental mode, there is always exactly one file listed
in the <span class="ph FontProperty emphasis">ucdbfiles</span> parameter
whereas, in queued mode, there can be one or more UCDB files in
the <span class="ph FontProperty emphasis">ucdbfiles</span> list).</p>
<p class="p">If the file specified in the <span class="ph FontProperty emphasis">mergefile</span> parameter
already exists, then the <span class="ph FontProperty emphasis">mergeScript</span> merges
the specified UCDB files into the existing target merge file using
the appropriate <span class="ph FontProperty emphasis">mergeScript</span> commands
as described above. If the target merge file does not exist, then
the first UCDB file targeted for merging is instead copied directly
to the target merge file (the copy operation is performed in-line
in order to avoid a known race condition).</p>
<p class="p">Note that in the case of queued auto-merge,
several UCDB files can be queued for merging in a single command.
In this case, the Runnable from which the <span class="ph FontProperty emphasis">mergeScript</span> will
be drawn is the Runnable associated with the last <span class="ph FontProperty emphasis">execScript</span> to
have contributed to the merge. Since test completion times can vary
randomly, it is highly recommended that all <span class="ph FontProperty emphasis">execScript</span> Actions
which merge into a single target merge file override the <span class="ph FontProperty emphasis">mergeScript</span> commands
in exactly the same way. The user should not make any assumptions
about the order in which the component UCDBs will become available.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CoverageMergingUseModels_id78b6395c.html" title="By default, VRM supports three levels of automation for coverage merging, as described in the following sections.">Coverage Merging Use Models</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Enabling and/or Disabling Coverage Merge Flows"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_EnablingDisablingCoverageMergeFlows_id7f42d7ed.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>