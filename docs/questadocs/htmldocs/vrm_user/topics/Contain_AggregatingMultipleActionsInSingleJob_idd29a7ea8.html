<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ContainerTopic" />
<meta name="DC.Title" content="Aggregating Multiple Actions in a Single Job" />
<meta name="abstract" content="By default, VRM launches each Action as a separate job, even when launching jobs on a grid. However, because the grid queuing process involves some overhead, it is sometimes more efficient to combine two or more short-running Actions into a single grid job submission. A multi-Action grid job is created when several eligible Actions are clubbed together into a single script that is launched as a single job on a compute grid. Generation of multi-Action jobs is controlled on a per-queue basis. Each named queue is configured via attributes attached to the method element that creates the named queue and that queue’s settings apply to any Action which is launched via that named queue." />
<meta name="description" content="By default, VRM launches each Action as a separate job, even when launching jobs on a grid. However, because the grid queuing process involves some overhead, it is sometimes more efficient to combine two or more short-running Actions into a single grid job submission. A multi-Action grid job is created when several eligible Actions are clubbed together into a single script that is launched as a single job on a compute grid. Generation of multi-Action jobs is controlled on a per-queue basis. Each named queue is configured via attributes attached to the method element that creates the named queue and that queue’s settings apply to any Action which is launched via that named queue." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd29a7ea8-b3de-4942-8fdf-5fbbcef80d2f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Aggregating Multiple Actions in a Single Job</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Aggregating Multiple Actions in a Single Job" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idd29a7ea8-b3de-4942-8fdf-5fbbcef80d2f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Aggregating Multiple Actions in a Single
Job</h1>
<div class="body MGCBody"><div class="abstract ContainerAbstract"><span class="shortdesc">By
default, VRM launches each Action as a separate job, even when launching
jobs on a grid. However, because the grid queuing process involves
some overhead, it is sometimes more efficient to combine two or
more short-running Actions into a single grid job submission. A
multi-Action grid job is created when several eligible Actions are clubbed
together into a single script that is launched as a single job on
a compute grid. Generation of multi-Action jobs is controlled on
a per-queue basis. Each named queue is configured via attributes
attached to the <span class="ph FontProperty emphasis">method</span> element
that creates the named queue and that queue’s settings apply to
any Action which is launched via that named queue.</span>
</div>
<p class="p">Prior to converting eligible
Actions into running jobs, the various Action-specific scripts (including
the <span class="ph filepath">.wrap</span> wrapper script) for each Action are generated
as usual and vrun searches for an execution method matching the
relevant conditions. The Action in question is then added to the
appropriate named queue, as specified in the execution method element
(or to the default “unnamed” named queue if there is no matching execution
method or the matching execution method does not specify a named
queue). Once all eligible Actions have been processed and queued,
vrun then scans each named queue to determine if a multi-Action
job is called for or if the Actions contained in the named queue
are to be executed individually.</p>
<p class="p">There are currently two different
kinds of multi-Action jobs as follows:</p>
<ul class="ul"><li class="li" id="idd29a7ea8-b3de-4942-8fdf-5fbbcef80d2f__id6d43312b-0551-4a40-9c9c-a43da64b0b76"><p class="p">Fixed-list clubbed jobs</p>
</li>
<li class="li" id="idd29a7ea8-b3de-4942-8fdf-5fbbcef80d2f__idf0f32316-4e24-4aa5-81a3-2b2bb2f55544"><p class="p">Grid array jobs </p>
</li>
</ul>
<p class="p">The rules governing each are very
similar, but the VRM behavior for each is slightly different. The
sections below outline the similarities and differences.</p>
</div>
<div class="related-links TopicTOC levels:1">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="../topics/Concept_MultiActionClubbingFixedListMode_id3f2b5b90.html" title="In fixed-list mode, vrun assembles a list of one or more eligible Actions into a multi-Action wrapper script and launches a single execution method command (that is, a single grid job), which is responsible for running the Actions in the list. Each Action in the list is executed in sequence, one Action at a time, as though the Action scripts had been concatenated into a single script. The list of Actions and the sequence in which they are executed is fixed and cannot be altered once the multi-Action command has been launched (hence the name “fixed-list mode”). Also, from that point forward, the individual Actions can no longer be controlled independently, although each individual Action’s wrapper script is still responsible for sending the requisite “start” and “done” messages to the launching vrun process.">Multi-Action Clubbing Fixed-list Mode</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_CreatingGridArrayJobs_id9e767644.html" title="Some Grid Management system support the concept of “array jobs.” These are multi-Action jobs that are submitted to the grid as a single job but which the Grid Management system divides into single jobs as grid servers become available to run the jobs. Platform Computing Corporation Load Sharing Facility (LSF), Univa Grid Engine (UGE), Oracle Grid Engine, previously known as Sun Grid Engine (SGE), and Realtime Design Automation’s NetworkComputer (RTDA) support array jobs and the knowledge of how to construct grid jobs in both environments is built into VRM. The advantage of an array job over a fixed-list clubbed job is that the Actions combined into an array job can still run concurrently if the grid has the available capacity (as mentioned above, Actions clubbed in fixed-list mode are always executed sequentially).">Creating Grid Array Jobs</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_CommonRulesClubbedJobsArrayJobs_idaa520132.html" title="Since fixed-mode clubbing and grid array jobs are processed by the same algorithm, many of the rules that govern said processing are common for both modes. This section outlines those rules.">Common Rules for Clubbed Jobs and Array Jobs</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_ControllingGridSubmissionCommand_id8a77cc32.html" title="Different Grid Management systems require different command-line formats to submit array jobs. In keeping with the design goal of allowing environment-specific behavior to be overridden to allow for local customization, an execution method may call upon a user-definable procedure to construct part of the execution method command. Built-in procedures to cover LSF, UGE, SGE, and RTDA grids are built into the vrun executable. Other Grid Management systems that support array jobs require an additional procedure to be defined.">Controlling the Grid Submission Command</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_GeneratingLaunchingMultiActionScriptFiles_id9fbffc36.html" title="If an integer maxarray or maxclubbing value is associated with a named queue when it comes time to launch one or more Actions, a multi-Action job control script is created and launched via the execution method command. This script contains a list of per-Action launch commands, each of which matches the command normally stored in the execution method .bat file for that Action (that is, the command that was launched under single-action mode). The script executes the commands in this list sequentially and each command generates the start and done messages used by the controlling vrun instance to monitor and track the status of each Action. No messages are sent from the multi-Action job control script to the controlling vrun instance.">Generating and Launching Multi-Action Script Files</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_MultiActionGridJobsConcurrency_id390b550a.html" title="Actions clubbed into a single grid job are executed sequentially, without regard for the sequential mode of the group(s) from which they originated. Since Actions that originate in a sequential group can only become eligible to run one-at-a-time, those Actions will never be eligible to be clubbed together in a single grid job. In order for the members of a given group runnable to take advantage of multi-Action clubbing, they must be members of a non-sequential group; however, said group members, once clubbed, will actually run sequentially.">Multi-Action Grid Jobs and Concurrency</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_MultiActionGridJobsLocalRerun_id14bc42cc.html" title="Actions that fail or timeout are still subject to local rerun. However, because the Action is simply submitted to the named queue a second time, it will almost certainly be clubbed with a different set of Actions and/or run in its own grid job (depending on whether any other Actions are eligible at the time). This could cause the multi-Action job control script and stdout/stderr logs for a given proxy Action to be overwritten.">Multi-Action Grid Jobs and Local Rerun</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_MultiActionGridJobsMaxrunningExecutionLimits_id65e023ae.html" title="You can specify both maxclubbing and maxrunning. ">Multi-Action Grid Jobs and maxrunning Execution Limits</a></strong></li>
<li class="link ulchildlink"><strong><a href="../topics/Concept_MultiActionGridJobsJobControl_ide75d9096.html" title="Clubbed Actions running under a single multi-Action job control script receive only one job ID. For that reason, individual Actions within the clubbed job cannot be individually controlled. If the proxy Action for the clubbed job is passed to the suspend, resume, or kill job control options (or the equivalent commands via the control port), the entire multi-Action job is suspended, resumed, or killed, depending on the command or option specified. If the context string of a clubbed Action other than the proxy Action for the given job is passed to one of these commands/options, then nothing happens.">Multi-Action Grid Jobs and Job Control</a></strong></li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ExecutionQueuesJobAggregation_idffbe9cb9.html" title="Tests and other user scripts are specified in the RMDB in terms of Actions. The content of the preScript, execScript, and postScript elements are examples of Actions specified in the RMDB.">Execution Queues and Job Aggregation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Aggregating Multiple Actions in a Single Job"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Contain_AggregatingMultipleActionsInSingleJob_idd29a7ea8.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>