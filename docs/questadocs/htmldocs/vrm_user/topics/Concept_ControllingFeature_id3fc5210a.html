<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Controlling the Feature" />
<meta name="abstract" content="Once vrun detects one or more * tokens in the foreach attribute of a given runnable element, it assumes that the * token is a stand-in for one or more real seeds that is read and/or generated by a user-supplied TCL code as the regression progresses. In order to fetch these seeds, a user-definable procedure, called GetNextIteration, is passed the usual userdata array containing data variables relevant to the context in which the Runnable instance in question is executed. The GetNextIteration procedure, in response, returns one or more tokens separated by spaces and/or commas, which are used as the iteration tokens for the next repeating iteration. Each token must meet the same criteria applied to tokens supplied directly via the foreach attribute (see the next section for details)." />
<meta name="description" content="Once vrun detects one or more * tokens in the foreach attribute of a given runnable element, it assumes that the * token is a stand-in for one or more real seeds that is read and/or generated by a user-supplied TCL code as the regression progresses. In order to fetch these seeds, a user-definable procedure, called GetNextIteration, is passed the usual userdata array containing data variables relevant to the context in which the Runnable instance in question is executed. The GetNextIteration procedure, in response, returns one or more tokens separated by spaces and/or commas, which are used as the iteration tokens for the next repeating iteration. Each token must meet the same criteria applied to tokens supplied directly via the foreach attribute (see the next section for details)." />
<meta name="prodname" content="Verification Run Manager User Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="vrm_user" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="5.3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® Verification Run Manager User Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="_bk_questa_sim" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id3fc5210a-0413-4ff9-a5a4-09afbd35bf1b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Controlling the Feature</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Controlling the Feature" />
<meta name="attributes" content="product.version.2020.4,doc.type.documentation.user,doc.type.documentation.ref,product.id.P10593," />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id3fc5210a-0413-4ff9-a5a4-09afbd35bf1b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Controlling the Feature</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Once vrun detects
one or more * tokens in the <span class="ph FontProperty emphasis">foreach</span> attribute
of a given <span class="ph FontProperty emphasis">runnable</span> element,
it assumes that the * token is a stand-in for one or more real seeds
that is read and/or generated by a user-supplied TCL code as the regression
progresses. In order to fetch these seeds, a user-definable procedure,
called <span class="ph FontProperty emphasis">GetNextIteration</span>,
is passed the usual <span class="ph FontProperty emphasis">userdata</span> array
containing data variables relevant to the context in which the Runnable
instance in question is executed. The <span class="ph FontProperty emphasis">GetNextIteration</span> procedure,
in response, returns one or more tokens separated by spaces and/or
commas, which are used as the iteration tokens for the next repeating
iteration. Each token must meet the same criteria applied to tokens
supplied directly via the <span class="ph FontProperty emphasis">foreach</span> attribute
(see the next section for details).</span>
</div>
<p class="p">For each token supplied by the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure,
a new instance of the Runnable in question is spawned. This instance
appears, for all practical purposes, as if the value obtained from
the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
had been present in the <span class="ph FontProperty emphasis">foreach</span> attribute
of the <span class="ph FontProperty emphasis">runnable</span> element
at the time the regression was invoked. In other words, this provides
a way to defer the full expansion of the <span class="ph FontProperty emphasis">runnable</span> element
in question to run-time instead of start-up time. The resulting
Runnable instance, once spawned, has no special characteristics
to set it apart from the Runnable instances expanded from any hard-coded
tokens listed in the same <span class="ph FontProperty emphasis">foreach</span> attribute.
This implies that Runnable instances generated at run-time will
exhibit the same behavior as any other Runnable with respect to execution,
pass/fail analysis, failure rerun, logging, or any other downstream
processing. </p>
<p class="p">As long as the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
continues to supply valid tokens, the repeating Runnable runs forever
(in theory). In order to persuade the * enabled Runnable to stop
repeating, the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
should return a blank token (that is, an empty string). Since an
iteration value with no characters is not useful for an actual Runnable
instance (because of the confusion it would cause downstream), this
value makes a good signal for the repeating Runnable to stop repeating.
At that point, the execution graph node associated with the * enabled
Runnable will simply be deleted from the execution graph. The Action
nodes associated with the * enabled Runnable serve only as a template
for potential run-time generated Action nodes and are never launched as
is. These nodes can, however, be reported in the “unrun Runnable
instances” report emitted by vrun in the event of premature termination
(either due to a bug, as the result of a user interrupt, or due
to the user returning a true value from the <span class="ph FontProperty emphasis">StopRunning</span> user-definable
procedure). This is consistent, since these nodes can result in
additional launched Actions had the run not terminated prematurely.
But the number and names of the Actions not executed as a result
of the termination are unknown because the seed values were being
generated on an as-needed basis.</p>
<p class="p">To assist in generating the token stream, several
data items pertaining to the repeating Runnable’s context are provided
to the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure.
One of these, the <span class="ph FontProperty emphasis">ITERATION</span> value,
is a copy of the exact * token used to enable the dynamic repeat
mechanism. By using different * tokens in different places in the
regression hierarchy (that is, *1, *2, and so on), the RMDB author
can signal the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
as to which token stream should be used to generate the return token.
Another data item supplied to the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is the attempt count, a 1-based integer that increments with each
new request for an iteration token. This integer, known as <span class="ph FontProperty emphasis">ATTEMPT</span>,
can be used to validate a maximum loop count, index an array, compute
a mathematical series, and so on.</p>
<p class="p">The iteration tokens returned from the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
are validated against two criteria: the token must meet the lexical
requirements for <span class="ph FontProperty emphasis">foreach</span> tokens
(see the next section), and the context path resulting from the
expansion of the repeating Runnables must be unique (that is, the
same token cannot be used twice at any given level of the regression
hierarchy). If these criteria are not met, the invalid token is
discarded (with the appropriate warning message) and the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is called again (this process will repeat a maximum of 93 times,
at which time vrun will assume that an empty string was returned,
thus terminating the repeating Runnable’s loop). If the <span class="ph FontProperty emphasis">GetNextIteration</span> procedure
is called because of an invalid or unusable token, then the value
of the <span class="ph FontProperty emphasis">ATTEMPT</span> data
item will be the same as when the invalid token was generated. Thus,
retries will not count against any maximum loop count that can be
implemented in the user-supplied procedure.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_UseModel_id80ccbce3.html" title="For runtime-controlled repeat loops, the iteration values are referred to as seeds, since seeds is the most common use for this functionality. However, nothing related to this functionality is tied to seed management, specifically; the same functionality can be used to dynamically iterate configurations, run-time options, test names, or any other user-configurable setting that can be reduced to a list of tokens passed to the foreach attribute of the runnable element with which they are associated.">Use Model</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "vrm_user"
                DocTitle = "Questa® Verification Run Manager User Guide"
                PageTitle = "Controlling the Feature"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ControllingFeature_id3fc5210a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® Verification Run Manager User Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>