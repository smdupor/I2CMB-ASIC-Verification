<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Partition Files" />
<meta name="abstract" content="A partition file is a text file that identifies which portions of the design are assigned to a specific core for simulation." />
<meta name="description" content="A partition file is a text file that identifies which portions of the design are assigned to a specific core for simulation." />
<meta name="prodname" content="Questa SIM Multi-Core Simulation User's Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="questa_sim_multicore" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM Multi-Core Simulation User’s Guide" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.060,doc.type.documentation.sys,product.id.P10467" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2f5d9bf2-8af4-4570-a466-3857e1e73045" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Partition Files</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Partition Files" />
<meta name="attributes" content="product.version.2020.4,sort.order.060,doc.type.documentation.sys,product.id.P10467" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Partition Files</h1>
<div class="body refbody GeneralRefBody" id="id6b9e78c1-fcda-4032-9178-7cf9207088a5"><div class="abstract GeneralRefAbstract"><span class="shortdesc">A partition
file is a text file that identifies which portions of the design
are assigned to a specific core for simulation. </span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id387a3ccc-6595-42ca-a273-7603018cebed"><h2 class="title Subheading sectiontitle">Partition
Definition</h2><p class="p">You can define multiple partitions according
to design hierarchy and synchronization events.</p>
<h2 class="title Subheading sectiontitle">Syntax</h2><pre class="pre codeblock"><code>partition &lt;partition_name&gt; {
	 &lt;list_of_partition_members&gt;; 
}</code></pre><p class="p">where &lt;partition_member&gt; is a semicolon-separated
list of mod_inst definition and/or sync_event definitions. You must
name one partition master. This master partition oversees communication
and control during the simulation.</p>
</div>
<div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id13150d91-5880-4f25-a8e7-7669e739b7fa"><h2 class="title Subheading sectiontitle">Module Instance</h2><p class="p">Each partition requires at least one definition
of a module instance that represents the top-level module of that
partition. </p>
<p class="p">When you specify a module instance for a partition,
that instance and all its children instances become part of the
partition. If any child instance is specified as a module instance
for another partition, then this child instance and its children
instances are not considered as part of the partition that contains
its parent instance as module instance. Instead, they become part
of the partition that specifies children instances as module instances.</p>
<p class="p">Each partition can contain multiple module
instance definitions.</p>
<h2 class="title Subheading sectiontitle">Syntax</h2><pre class="pre codeblock leveled"><code>mod_inst = ( &lt;module_name&gt;, &lt;instantiation_name&gt; ) ;   </code></pre><p class="p">or </p>
<pre class="pre codeblock leveled"><code>mod_inst = &lt;instatiation_name&gt; ; </code></pre><p class="p">where <span class="ph FontProperty emphasis">instantiation_name</span> is
the full hierarchical pathname of the instance. Instance name identifiers
(including escaped, extended, uppercase, lowercase, generates, array
instance, and so forth) in the hierarchical pathname must follow
the same language syntax as used in the design.</p>
</div>
<div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id779afabf-bbf0-40a7-998b-4192bcd8bc30"><h2 class="title Subheading sectiontitle">Sync
Event Control</h2><p class="p">You use this construct to identify a user-defined
sync event you introduce into the partition. The event is then monitored
by <span class="ph fmvar:ProductName">Questa SIM</span> multi‑core simulation.
Data synchronization is performed when this event is detected. </p>
<p class="p">In addition to this specification in the partition
file, you also need to modify the netlist in order for event synchronization
to take effect—see <a class="xref fm:HeadingOnly" href="#id2f5d9bf2-8af4-4570-a466-3857e1e73045__id3339365f-100e-437c-b179-4c690c6f491f">User-defined Synchronization Events</a>. </p>
<h2 class="title Subheading sectiontitle">Syntax</h2><pre class="pre codeblock leveled"><code>sync_event = &lt;event&gt;  </code></pre><p class="p">where <span class="ph FontProperty emphasis">event</span> is
full path name of the user sync event you added. </p>
</div>
<div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id03285d04-393f-4648-b9c2-a2b96e109470"><h2 class="title Subheading sectiontitle">Common Module Definition</h2><p class="p">If your design has many hierarchical references
to global objects, such as Vcc or ground signals, which are defined
and driven inside a single module, you can improve performance by defining
this as a “common module” in the partition file. This causes the
mc2com command to replicate the common module’s logic in all the
partitions and avoids large numbers of cross-partition hierarchical
references to objects contained within that module, which improves simulation
performance. </p>
<p class="p">If your design has many such hierarchical references,
but objects are not defined in a single module, you can modify the
design to create a common module, and define and drive all such
global objects from this common module.</p>
<p class="p">The following syntax shows how to specify common
modules in a partition file: </p>
<h2 class="title Subheading sectiontitle">Syntax</h2><pre class="pre ShellCommand">common_module { 
	&lt;list_of_partition_members&gt; ; 
} </pre>
<p class="p">where <span class="keyword ParameterName OptionalReplaceable">list_of_partition_members</span> is
defined in “<a class="xref fm:HeadingAndPage" href="#id2f5d9bf2-8af4-4570-a466-3857e1e73045__id387a3ccc-6595-42ca-a273-7603018cebed">Partition Definition</a>”. </p>
</div>
<div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id7c1c1ca8-efa6-4754-8307-4d67d5d98f4b"><h2 class="title Subheading sectiontitle">Examples</h2><h2 class="title Subheading sectiontitle">Example 1 — Verilog module</h2><pre class="pre codeblock leveled"><code>module dsgn_globals; 
    supply0 gnd;  
   supply1 vcc;  
endmodule  </code></pre><h2 class="title Subheading sectiontitle">Example—Partition File</h2><pre class="pre codeblock leveled"><code>partition master { 
  mod_inst = top;  
} 
 
partition p1 { 
  mod_inst = top.sub1;  
} 
 
common_module { 
  mod_inst = dsgn_globals;  
} 
 </code></pre><h2 class="title Subheading sectiontitle">Example—mc2com Command</h2><pre class="pre ShellCommand">mc2com top dsgn_globals -o run_mp -mc2partfile top.part</pre>
</div>
<div class="section Subsection" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id3339365f-100e-437c-b179-4c690c6f491f"><h2 class="title Subheading sectiontitle">User-defined
Synchronization Events</h2><p class="p">For each user sync event you define for a partition,
you normally add the following type of construct to your Verilog
netlist. </p>
<p class="p">In the following example, the event is named
my_sync_event, and the top of the partition is named top_of_partition: </p>
<pre class="pre codeblock leveled"><code>module top_of_partition;  
  event my_sync_event 
  always @some_trigger 	  
    -&gt; my_sync_event  
endmodule </code></pre><p class="p">You can also use an existing event from your
design. </p>
<p class="p">You should note the following points when using
user-defined synchronization:</p>
<ul class="ul"><li class="li" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id88ac6090-097d-4008-b358-0769702380f3"><p class="p">The
number of sync events used should be same for all partitions. If the
number of sync events is not the same for all partitions, an error
results. </p>
</li>
<li class="li" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id02abc37f-ac27-4df3-b88b-1e23ef9dac67"><p class="p">You
can either create common events, using the common module for all partitions,
or create equivalent event logic in each partition's hierarchy. </p>
</li>
<li class="li" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id2d769a7e-0989-4e1d-ae3e-0e2f0a01da71"><p class="p">If
a user sync event is triggered by clock, make sure that each partition
is running its clock without needing to synchronize. This can be
done by duplicating clock logic in each partition or by defining
clock logic in a common module and including it in all partitions.
Using a common module makes it is easier for all partitions to share
the same events.</p>
</li>
<li class="li" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id0576ac2e-ee4b-4f6f-b9bb-f7e23e0d873b"><p class="p">Make
sure that events trigger in all partitions around the same time. Synchronization
is controlled by this user-defined event. If an event triggers in
some partitions and not in other partitions, the simulation may
hang or produce incorrect results.</p>
</li>
<li class="li" id="id2f5d9bf2-8af4-4570-a466-3857e1e73045__id07fcc609-43eb-4986-a2f4-560ed85a37a6"><p class="p">You
should still provide regular sync controls, such as Verilog. User-defined
sync events only direct the simulator when to start synchronizations.
How fine-grained synchronization should be in each time cycle is
still determined by regular sync controls.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceInformationPartitionFilesCommands_id32b2858a.html" title="This chapter provides reference information for partition files and the commands used for multi-core simulation. This information includes a description of how to modify the default set of sync points based on the post-simulation analysis of the design.">Reference Information for Partition Files and Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_multicore"
                DocTitle = "Questa® SIM Multi-Core Simulation User’s Guide"
                PageTitle = "Partition Files"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_PartitionFiles_id2f5d9bf2.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Multi-Core Simulation User’s Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>