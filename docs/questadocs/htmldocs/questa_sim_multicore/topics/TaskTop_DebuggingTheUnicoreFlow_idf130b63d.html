<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Debugging the Unicore Flow" />
<meta name="abstract" content="Unicore debugging enables you to perform error checking between multi‑core simulation and unicore modes during simulation, immediately identifying wherever different behavior occurs between modes." />
<meta name="description" content="Unicore debugging enables you to perform error checking between multi‑core simulation and unicore modes during simulation, immediately identifying wherever different behavior occurs between modes." />
<meta name="prodname" content="Questa SIM Multi-Core Simulation User's Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="questa_sim_multicore" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="questa_sim_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Questa® SIM Multi-Core Simulation User’s Guide" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="product.version.2020.4,sort.order.060,doc.type.documentation.sys,product.id.P10467" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idf130b63d-170c-49ab-9956-157f30d27d90" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Debugging the Unicore Flow</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Debugging the Unicore Flow" />
<meta name="attributes" content="product.version.2020.4,sort.order.060,doc.type.documentation.sys,product.id.P10467" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idf130b63d-170c-49ab-9956-157f30d27d90">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Debugging the Unicore
Flow</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">Unicore debugging
enables you to perform error checking between multi‑core simulation
and unicore modes during simulation, immediately identifying wherever
different behavior occurs between modes. </p>
<p class="p">The unicore flow performs two kinds of error
checking to ensure that unicore and multi‑core simulation are in
same state at the end of each time unit:</p>
<ul class="ul"><li class="li" id="idb77e4ff4-0b7f-459f-bf83-52e67b65760f"><p class="p">After resolving the next-time delta
for the multi‑core simulation system, the simulation checks that
this delta matches with the next-time delta for unicore. Any difference
found indicates that the multi‑core simulation and the unicore simulation
are not progressing in the same state. This difference may or may
not be significant, based on how and when it occurs.</p>
</li>
<li class="li" id="id5bbeec83-7137-4275-a56c-e784699c1998"><p class="p">At the end of each time unit, the simulation
verifies that the current values of all partition boundary ports
match their counterpart unicore values. Any difference found indicates
that something went wrong in multi‑core simulation, and needs attention.
Value differences at time 0 may be an exception.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><div class="li step p" id="idf130b63d-170c-49ab-9956-157f30d27d90__id0c06cec7-ec94-4973-a2ec-2f6c3d1125d9"><span class="ph cmd">Invoke unicore debugging by
using the ‑mc2unicore argument to the mc2com command. Note that
you must assign this argument one of the following enumerated values:
all, out, in. </span><div class="itemgroup info StepInfo"><div class="note tip"><span class="tiptitle">Tip</span> <p class="p">For
more information on the -mc2unicore argument, refer to “<a class="xref fm:HeadingAndPage" href="Command_Mc2com_iddf3150ba.html#iddf3150ba-f1c9-4f0b-944e-0f0c51196522__id67add7a2-67d5-49cf-a848-a341c0aac44a">‑mc2unicore {all | out | in}</a>”. </p>
</div>
</div></div>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">If multi‑core simulation detects a
discrepancy with a unicore run, it reports one of the following
message types:</p>
<ul class="ul"><li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__id8fcc012c-d828-4f6c-b160-9884b23a83cd"><p class="p">Delta time mismatch</p>
<ul class="ul"><li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__id8998b5bb-4b77-43d4-8104-13a883937b02"><p class="p">If the next time in the multi‑core
simulation is less than in unicore, a warning message is displayed.
It is okay to have more events in the multi‑core simulation flow
than in the unicore run. The warning message alerts you so that
you can investigate the discrepancy, if needed. For example:</p>
<pre class="pre codeblock leveled"><code>** Warning: (vsim-8596) time 0, next time delta mismatch between MC2 core (dt = 1) and Uni core(dt = 10) 
 </code></pre></li>
<li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__idce48cdcc-7cac-4465-962b-ad77a13b3532"><p class="p">If the next time in the multi‑core
simulation is higher than in unicore, an error message displays.
This error always indicates a problem that you need to examine and
correct. For example:</p>
<pre class="pre codeblock leveled"><code>** Error: (vsim-8596) time 10, next time delta mismatch between MC2 core (dt = 105) and Uni core(dt = 7) 
 </code></pre></li>
</ul>
</li>
<li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__id9b7725d9-5931-4743-91d1-002e857333ce"><p class="p">Boundary port mismatch</p>
<ul class="ul"><li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__id9ff7ce22-5883-4db9-9d54-d67519472b22"><p class="p">If at any time, there is a
value mismatch for the partition boundary port in unicore and multi‑core
simulation, an error message displays. This error also occurs for
any hierarchical ref usage across the partition. For example:</p>
<pre class="pre codeblock leveled"><code>** Error: (vsim-8647) Value mismatch between unicore (val = 0) and partition ’p1’ (val = x) for port ’tb.U1.a_n1.z’ (id = 0). 
Time: 101 ns Iteration: 0 Region: /tb 
 </code></pre></li>
<li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__idb3fed06a-485f-4068-ae84-9f621a02bc87"><p class="p">Sometimes the multi‑core simulation
value has a mismatch at time 0. This can happen when partitioning
results in different events ordering. It may or may not be an issue.
You can use the vsim -mc2nozerochk command to convert these errors
to warnings at time 0. For example:</p>
<pre class="pre codeblock leveled"><code>** Warning: (vsim-8647) Value mismatch between unicore (val =xxxxxxxxxxxxxxxx) and partition ’p1’ (val = 0000000000000001) for port ’top.sub1.so’ (id = 0). 
Time: 0 ns Iteration: 3 Region: /top File: test.v 
 </code></pre></li>
<li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__idedad403f-e887-4b0e-a2aa-9a19f266ec1b"><p class="p">Sometimes when an inout port
is at partition boundaries, some of the elements of the port are
undriven. By LRM rules, the inout port should be driven by the initial
value of the port. However, synthesis tools do not create an extra
driver. Also, unisim, under some optimizations, may stop creating
the extra driver. To remove the simulation versus synthesis mismatch
under remaining cases, use the unisim ‑defaultstdlogicinittoz argument.
Because of partitioning, these optimizations might not take effect
with the multi‑core simulation run, and there might be a mismatch
between unisim and multi‑core simulation. Use the ‑defaultstdlogicinittoz option
with both unisim and multi‑core simulation to verify removal of
the simulation mismatches. </p>
</li>
</ul>
</li>
</ul>
</div>
<div class="section Examples" id="idf130b63d-170c-49ab-9956-157f30d27d90__ida1c6c340-63a3-4b13-8ea6-e3670104b483"><h2 class="title Subheading sectiontitle">Examples</h2><ul class="ul"><li class="li" id="idf130b63d-170c-49ab-9956-157f30d27d90__id6ba92eb1-6bbf-4a8d-a014-8576c6c4a10e"><p class="p">The following shows how to
use the -mc2unicore argument with the value all: </p>
<p class="lines ApplCommand">mc2com top -o run_mp -mc2partfile part01.part -mc2unicore all</p>
</li>
</ul>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DebuggingSimulationMismatchesUnicoreFlow_ida57e5561.html" title="Use the unicore flow to do a self-test between multi‑core simulation runs and unisim runs for debugging.">Debugging Simulation Mismatches With Unicore Flow</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "questa_sim_multicore"
                DocTitle = "Questa® SIM Multi-Core Simulation User’s Guide"
                PageTitle = "Debugging the Unicore Flow"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_DebuggingTheUnicoreFlow_idf130b63d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Questa® SIM Multi-Core Simulation User’s Guide Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>