<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Covergroup in Package With Multiple Instances" />
<meta name="abstract" content="The UCDB data model supports the scenario of a covergroup with per-instance coverage along with a covergroup within a package." />
<meta name="description" content="The UCDB data model supports the scenario of a covergroup with per-instance coverage along with a covergroup within a package." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7264535e-d91c-4ebf-89a7-1db0d0b259e4" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Covergroup in Package With Multiple Instances</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Covergroup in Package With Multiple Instances" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id7264535e-d91c-4ebf-89a7-1db0d0b259e4">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Covergroup in Package With
Multiple Instances</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">The UCDB data
model supports the scenario of a covergroup with per-instance coverage
along with a covergroup within a package.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id7264535e-d91c-4ebf-89a7-1db0d0b259e4__id6f8da458-609f-4cbb-9f58-7eb250fd42a6"><p class="p">You
can find this Verilog example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/data-models/covergroup-perinstance/</span>.</p>
<pre class="pre codeblock leveled"><code>package p; 
    covergroup cg (ref int v); 
        option.per_instance = 1; 
        coverpoint v { bins val[] = { [0:1] }; } 
    endgroup 
endpackage 
module top; 
    int a, b; 
    p::cg cva = new(a); 
    p::cg cvb = new(b); 
    initial begin 
        #1; a = 0; cva.sample(); 
        #1; b = 1; cvb.sample(); 
        #1; $display("cva=%.2f cvb=%.2f cva+cvb=%.2f", 
                     cva.get_inst_coverage(), 
                     cvb.get_inst_coverage(), 
                     p::cg::get_coverage()); 
    end 
endmodule 
 </code></pre><p class="p">This Verilog example illustrates
two interesting cases together: the covergroup with per-instance
coverage (option.per_instance assigned to 1), and the covergroup in
a package. <a class="xref fm:Figure" href="#id7264535e-d91c-4ebf-89a7-1db0d0b259e4__id3c6be6f5-b7b6-4611-abe2-1afec535331d">Figure 1</a> shows the
different scope types for a package. The package has an instance
type UCDB_PACKAGE, and a design unit type UCDB_DU_PACKAGE.</p>
<p class="p">The module instance “top”
has nothing in it. The covergroup variables are in the module top,
but covergroup variables are nothing more than references to a previously
created covergroup object. The object might exist with no reference
(because coverage must persist, covergroup objects are not garbage
collected); there could be more than one reference to a given object;
or the same reference might refer to different objects at different
points in time. So the covergroup variable is not very relevant
to the covergroup objects themselves. Consequently, the covergroup
instances in the UCDB are stored underneath the covergroup type (UCDB_COVERGROUP
scope) as a different UCDB scope type: UCDB_COVERINSTANCE.</p>
<p class="p">Covergroup instances are
identified by name. You can assign the name explicitly by assigning
option.name or using the set_inst_name() built-in method. If not
assigned explicitly, Questa automatically assigns the covergroup
instance name using the path to the variable used to construct the
covergroup object. This path is quoted as an extended identifier
so that references to paths within the UCDB work easily. The middle
coverpoint scope in <a class="xref fm:Figure" href="#id7264535e-d91c-4ebf-89a7-1db0d0b259e4__id3c6be6f5-b7b6-4611-abe2-1afec535331d">Figure 1</a> would be
referenced as “/p/cg/\/top/cva /v”. </p>
<div class="note note" id="id7264535e-d91c-4ebf-89a7-1db0d0b259e4__id04e363ee-9479-4873-92c4-cc64ed385f6b"><span class="notetitle">Note:</span> <p class="p">The space after cva terminates
the extended identifier.</p>
</div>
<div class="fig fignone" id="id7264535e-d91c-4ebf-89a7-1db0d0b259e4__id3c6be6f5-b7b6-4611-abe2-1afec535331d"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Data Model for a Covergroup (With
Per-Instance Coverage)</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics_composites/basics23.png" /></div><br /></div>
<p class="p">The UCDB_COVERINSTANCE scopes
and their child scopes have attributes that convey the option values
for those scopes:</p>
<dl class="dl"><dt class="dt dlterm">ATLEAST</dt>
<dd class="dd"><p class="p">The
option.at_least value.</p>
</dd>
<dt class="dt dlterm">COMMENT</dt>
<dd class="dd"><p class="p">The
option.comment for the corresponding scopes.</p>
</dd>
<dt class="dt dlterm">AUTOBINMAX</dt>
<dd class="dd"><p class="p">The
option.auto_bin_max setting.</p>
</dd>
<dt class="dt dlterm">DETECTOVERLAP</dt>
<dd class="dd"><p class="p">This
is option.detect_overlap.</p>
</dd>
<dt class="dt dlterm">PRINTMISSING</dt>
<dd class="dd"><p class="p">The option.cross_num_print_missing.</p>
</dd>
</dl>
<div class="note note" id="id7264535e-d91c-4ebf-89a7-1db0d0b259e4__idf6386fc3-2af9-44b5-93e2-0708c7abe45d"><span class="notetitle">Note:</span> <p class="p">The option.per_instance
itself is implied by the presence of the UCDB_COVERINSTANCE in the
data model.</p>
</div>
<p class="p">The covergroup with perinstance coverage example
shows that you can calculate the get_inst_coverage() for /top/cva
or /top/cvb from the UCDB_COVERINSTANCE scopes. You can also calculate
the get_coverage() for covergroup cg from the UCDB_COVERPOINT scope "/p/cg/v",
that is, the coverpoint that is an immediate child of the UCDB_COVERGROUP.
The coverpoint (Question for the writer: is this the correct term?)
represents the type coverage for the covergroup.</p>
<p class="p">The covergroup coverage is the merge of the coverage
from the two instances. IEEE Std 1800-2005 states "It is important
to understand the cumulative....of all instances." In other words,
the /top/cva instance covers bin val[0], while the /top/cvb instance
covers bin val[1]. Therefore, each instance has 50% coverage, but
the type is covered 100% because each bin is covered in the union
contributed from all instances. This coverage is reflected in the
simulation output of the $display in the example:</p>
<pre class="pre codeblock"><code># cva=50.00 cvb=50.00 cva+cvb=100.00</code></pre><pre class="pre codeblock leveled"><code># cva=50.00 cvb=50.00 cva+cvb=100.00</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_SystemverilogCovergroupCoverage_idaaf91712.html" title="This section describes types of covergroup coverage, including covergroup with a cross, sparse cross bin representation, CROSSSBINIDX and CROSSUBINIDX, covergroup with per-instance coverage, and embedded covergroups.">SystemVerilog Covergroup Coverage</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Covergroup in Package With Multiple Instances"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_CovergroupInPackageWithMultipleInstances_id7264535e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>