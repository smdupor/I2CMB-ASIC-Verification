<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Traverse a UCDB in Memory" />
<meta name="abstract" content="The ucdb_CallBack() function is a versatile function that is only available in-memory: given a scope pointer (NULL in this case, meaning traverse the entire database) it traverses everything recursively." />
<meta name="description" content="The ucdb_CallBack() function is a versatile function that is only available in-memory: given a scope pointer (NULL in this case, meaning traverse the entire database) it traverses everything recursively." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id66c4fe87-680c-4f78-ba3e-194d9c9147c8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Traverse a UCDB in Memory</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Traverse a UCDB in Memory" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id66c4fe87-680c-4f78-ba3e-194d9c9147c8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Traverse a UCDB in Memory</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The ucdb_CallBack()
function is a versatile function that is only available in-memory:
given a scope pointer (NULL in this case, meaning traverse the entire
database) it traverses everything recursively. </span>
</div>
<p class="p">The callback function, called “callback” in this
case, is called for every scope, every test record, and every coveritem
in the part of the database being traversed. Design units and test
data records are only traversed when the entire database is being traversed,
as in this case.</p>
<p class="p">You can find this C example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/use-cases/traverse-scopes/</span></p>
<pre class="pre codeblock leveled"><code>ucdbCBReturnT 
callback( 
    void*           userdata, 
    ucdbCBDataT*    cbdata) 
{ 
    ucdbScopeT scope; 
    switch (cbdata-&gt;reason) { 
    case UCDB_REASON_DU: 
    case UCDB_REASON_SCOPE: 
        scope = (ucdbScopeT)(cbdata-&gt;obj); 
        printf("%s\n",ucdb_GetScopeHierName(cbdata-&gt;db,scope)); 
        break; 
    default: break; 
    } 
    return UCDB_SCAN_CONTINUE; 
} 
 
void 
example_code(const char* ucdbfile) 
{ 
    ucdbT db = ucdb_Open(ucdbfile); 
       if (db==NULL) 
        return; 
    ucdb_CallBack(db,NULL,callback,NULL); 
    ucdb_Close(db); 
} </code></pre><p class="p">The ucdbCBDataT* argument
to the callback function gives information about the database object
for which the callback is executed. The “reason” element tells what
kind of object it is. There are also reasons for end-of-scope (useful
for maintaining stacks, so that the callback can know how many levels
deep in the design or coverage tree is the current object), the
test data records, and the coveritems themselves.</p>
<p class="p">For the scope callbacks,
REASON_DU and REASON_SCOPE, the obj element of ucdbCBDataT is identical
to a ucdbScopeT, which is a handle to the current scope. In this example,
for stylistic reasons, the obj is type-cast explicitly into the
scope variable.</p>
<p class="p">The function ucdb_GetScopeHierName() returns
a hierarchically composed name for the given scope handle.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbUseCases_idb8452a48.html" title="Understanding the UCDB data models is a prerequisite to using the API. The API is more general than the specific data models used to represent specific kinds of coverage. It is also important to know how to use the API and understand some specific use scenarios.">UCDB Use Cases</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Traverse a UCDB in Memory"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_TraverseUcdbInMemory_id66c4fe87.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>