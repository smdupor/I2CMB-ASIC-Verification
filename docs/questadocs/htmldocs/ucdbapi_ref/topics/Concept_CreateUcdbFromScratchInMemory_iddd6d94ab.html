<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Create a UCDB from Scratch in Memory" />
<meta name="abstract" content="This is the top-level code that calls all of the functions." />
<meta name="description" content="This is the top-level code that calls all of the functions." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddd6d94ab-95ad-45f8-81fa-af546e422479" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Create a UCDB from Scratch in Memory</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Create a UCDB from Scratch in Memory" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="iddd6d94ab-95ad-45f8-81fa-af546e422479">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Create a UCDB from Scratch in Memory</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><p class="shortdesc">This is the
top-level code that calls all of the functions. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">For more information
about functions, see “<a class="xref fm:HeadingAndPage" href="Concept_AdditionOfNewDataToAUCDB_id983d5a1e.html#id983d5a1e-9f4b-4c5e-b742-c19b655f553e__Concept_AdditionOfNewDataToAUCDB_id983d5a1e.xml#id983d5a1e-9f4b-4c5e-b742-c19b655f553e" title="The single complex example “create-ucdb/create_ucdb.c” creates a hardcoded UCDB from scratch. The code that it uses could be adapted, with variations, to add objects to an existing UCDB. Even in the “create_ucdb.c” example, the database exists; it just starts out empty and is added to with each call.">Addition of New Data to a UCDB</a>”. </p>
</div>
</div>
<p class="p">You can find
this example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/use-cases/create-ucdb/</span>.</p>
<pre class="pre codeblock leveled"><code>void 
example_code(const char* ucdbfile) 
{ 
    ucdbFileHandleT filehandle; 
    ucdbScopeT instance, du, cvg, cvp; 
    ucdbT db = ucdb_Open(NULL); 
    create_testdata(db,ucdbfile); 
    filehandle = create_filehandle(db,"test.sv"); 
    du = create_design_unit(db,"work.top",filehandle,0); 
    instance = create_instance(db,"top",NULL,du); 
    create_statement(db,instance,filehandle,6,1); 
    create_statement(db,instance,filehandle,8,1); 
    create_statement(db,instance,filehandle,9,1); 
    create_enum_toggle(db,instance); 
    cvg = create_covergroup(db,instance,"cg",filehandle,3); 
    cvp = create_coverpoint(db,cvg,"t",filehandle,4); 
    create_coverpoint_bin(db,cvp,"auto[a]",filehandle,4,1,0,"a"); 
    create_coverpoint_bin(db,cvp,"auto[b]",filehandle,4,1,1,"b"); 
    printf("Writing UCDB file '%s'\n", ucdbfile); 
    ucdb_Write(db,ucdbfile,NULL,1,-1); 
    ucdb_Close(db); 
} </code></pre><p class="p">This reproduces – with a few exceptions described
in the header comment of create_ucdb.c – the UCDB created by Questa
from this source:</p>
<p class="p">SystemVerilog Example (“create-ucdb”):</p>
<pre class="pre codeblock leveled"><code>module top; 
	enum { a, b } t; 
	covergroup cg; 
		coverpoint t; 
	endgroup 
	cg cv = new; 
	initial begin 
		t = b; 
		cv.sample(); 
	end	 
endmodule  </code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">The
call to ucdb_Open() with a NULL argument creates a completely empty UCDB
in memory, to which any data can be added. </p>
</div>
<p class="p">Because of tool requirements,
it is not permissible to create a UCDB without a test data record;
the ucdb_Write() will not succeed if there is no test data record.</p>
<p class="p">The final ucdb_Close(db) is not strictly necessary
because the memory used by the database handle will be freed when
the process finishes, but it is good practice to explicitly free the
memory associated with the database handle.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbUseCases_idb8452a48.html" title="Understanding the UCDB data models is a prerequisite to using the API. The API is more general than the specific data models used to represent specific kinds of coverage. It is also important to know how to use the API and understand some specific use scenarios.">UCDB Use Cases</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Create a UCDB from Scratch in Memory"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CreateUcdbFromScratchInMemory_iddd6d94ab.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>