<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Increment Coverage" />
<meta name="abstract" content="You can apply ucdb_IncrementCover to statement coveritems if their parent scopes are identified. To increment a coveritem multiple times, it is recommended that you save a scope pointer and coverindex for later use. The ucdb_PathCallBack() approach has the disadvantage that it only recognizes named items, which excludes statement coveritems." />
<meta name="description" content="You can apply ucdb_IncrementCover to statement coveritems if their parent scopes are identified. To increment a coveritem multiple times, it is recommended that you save a scope pointer and coverindex for later use. The ucdb_PathCallBack() approach has the disadvantage that it only recognizes named items, which excludes statement coveritems." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id19b23695-e136-4a98-9286-a3ef8eefc6ff" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Increment Coverage</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Increment Coverage" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id19b23695-e136-4a98-9286-a3ef8eefc6ff">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Increment Coverage</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc"> You can
apply ucdb_IncrementCover to statement coveritems if their parent
scopes are identified. To increment a coveritem multiple times,
it is recommended that you save a scope pointer and coverindex for
later use. The ucdb_PathCallBack() approach has the disadvantage
that it only recognizes named items, which excludes statement coveritems.</span>
</div>
<p class="p">You can find this C example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/use-cases/increment-cover/</span></p>
<pre class="pre codeblock leveled"><code>ucdbCBReturnT 
callback( 
    void*           userdata, 
    ucdbCBDataT*    cbdata) 
{ 
    switch (cbdata-&gt;reason) { 
    case UCDB_REASON_CVBIN: 
		ucdb_IncrementCover(cbdata-&gt;db,(ucdbScopeT)(cbdata-&gt;obj), 
                                cbdata-&gt;coverindex,1); 
        return UCDB_SCAN_STOP; 
        break; 
    default: break; 
    } 
    return UCDB_SCAN_CONTINUE; 
} 
 
void 
example_code(const char* ucdbfile, const char* path) 
{ 
    ucdbT db = ucdb_Open(ucdbfile); 
    if (db==NULL) 
        return; 
    ucdb_PathCallBack(db, 
                      0,    /* do not recurse from found object */ 
                      path, 
                      NULL, /* design unit name does not apply */ 
                      UCDB_NONTESTPLAN_SCOPE,   /* tree root type */ 
                      -1,   /* match any scope type */ 
                      -1,   /* match any coveritem type */ 
                      callback, NULL); 
    ucdb_Write(db,ucdbfile, 
               NULL,    /* save entire database */ 
               1,       /* recurse: not necessary with NULL */ 
               -1);     /* save all scope types */ 
    ucdb_Close(db); 
} </code></pre><p class="p">The
callback in this case uses the UCDB_SCAN_STOP return code to avoid
iterating over the entire database: the iteration is halted after
recognizing the coveritem to increment.</p>
<p class="p">The example_code() function
illustrates saving the UCDB back to its original file. The original
file is closed by the operating system after ucdb_Open() completes,
so there is no link between the open UCDB handle “db” and the original
file. The UCDB can be changed and written back to the same file
or any other file.</p>
<p class="p">The following are the ucdb_Write()
arguments in order</p>
<p class="p">“db” and “ucdbfile” are obvious,
the others less so:</p>
<ul class="ul"><li class="li" id="id19b23695-e136-4a98-9286-a3ef8eefc6ff__idbe626511-997a-49ee-bea9-d03b4a212839"><p class="p">db</p>
</li>
<li class="li" id="id19b23695-e136-4a98-9286-a3ef8eefc6ff__id2b084dce-d04b-4a72-b166-cbcbd00efc64"><p class="p">ucdbfile</p>
</li>
<li class="li" id="id19b23695-e136-4a98-9286-a3ef8eefc6ff__id8204a7b2-a11b-481a-b366-4de6e647b3bd"><p class="p">Third argument (NULL) — a scope from
which to execute the save; if NULL, save the entire database.</p>
</li>
<li class="li" id="id19b23695-e136-4a98-9286-a3ef8eefc6ff__id43b05027-daec-4c08-a0a8-8720a4af481f"><p class="p">Fourth argument (1)
— a recursion flag, only needed if the scope handle in the previous
argument is non-NULL.</p>
</li>
<li class="li" id="id19b23695-e136-4a98-9286-a3ef8eefc6ff__id989bee9e-051e-4e32-9b02-5b8ee85e6bbf"><p class="p">Fifth argument (-1)
— a scope mask, to indicate which scopes to save to the database.
You can use this argument to create a database with functional coverage
only, or code coverage only.</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbUseCases_idb8452a48.html" title="Understanding the UCDB data models is a prerequisite to using the API. The API is more general than the specific data models used to represent specific kinds of coverage. It is also important to know how to use the API and understand some specific use scenarios.">UCDB Use Cases</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Increment Coverage"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_IncrementCoverage_id19b23695.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>