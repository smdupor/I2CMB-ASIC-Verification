<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Test Data Records and History Nodes" />
<meta name="abstract" content="In earlier versions of the database and API, there were only test data records which were designed to record information about the test run which produced the UCDB. It is not possible to create a UCDB without a test data record. When test data records were later extended, they became a special case of the history node. The history node records information about any process that creates a UCDB." />
<meta name="description" content="In earlier versions of the database and API, there were only test data records which were designed to record information about the test run which produced the UCDB. It is not possible to create a UCDB without a test data record. When test data records were later extended, they became a special case of the history node. The history node records information about any process that creates a UCDB." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida1191b50-5f92-47fd-b1ad-d960daf662b5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Test Data Records and History Nodes</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Test Data Records and History Nodes" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ida1191b50-5f92-47fd-b1ad-d960daf662b5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Test Data Records and History Nodes</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">In earlier
versions of the database and API, there were only test data records
which were designed to record information about the test run which
produced the UCDB. It is not possible to create a UCDB without a
test data record. When test data records were later extended, they
became a special case of the history node. The history node records information
about any process that creates a UCDB.</span>
</div>
<p class="p">In Questa,
there are three ways to create a UCDB:</p>
<ul class="ul"><li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id61571387-ca4a-499d-9d3e-71dd229527fb"><p class="p">By running the simulator — The simulator
will create a “test data record” with various information about
the simulation run.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id9226aeba-1991-416d-acb7-24ea48e0b6d2"><p class="p">By XML testplan import
— This creates a testplan history node.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id77675fa9-2d74-4eff-8ec6-61ad86478d8d"><p class="p">By merging — This creates a “merge history
node”.</p>
</li>
</ul>
<p class="p">Because of the merging process,
whereby UCDBs may be combined in various ways to create other UCDBs,
history nodes are arranged in a tree. The test data records and
testplan history nodes must be leaves of the tree. But a merge must
have child nodes, which are the inputs to the merge. The topology
of the tree enables each merge to be reproduced with its original
inputs.</p>
<p class="p">The motivation of the history
nodes, besides recording interesting information about each test,
merge, or testplan, is to enable each of these operations to be
reproduced automatically by the tool.</p>
<p class="p">Any of these nodes may have user-defined attributes.
Presently user-defined attributes are heavily used with test data
records, but they could be used in the other cases, too.</p>
<div class="section Subsections" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__idc13f4e3b-814b-43a1-8d22-9df01396a5f8"><div class="section Subsection" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id1f79c1a4-6af4-43ca-8cba-12a8ecb8fa40"><h2 class="title Subheading sectiontitle">Testplan
Hierarchy and Tags</h2><p class="p">The UCDB has the facility
for representing a testplan hierarchy. Ordinarily a testplan is created
as a spreadsheet, Word document, or other file and there is some
symbolic convention in the tool to link between sections of the
testplan and coverage objects in the design. This link could be
through fields in the document, through the covergroup comment,
through Verilog-2001 attributes, or any other mechanism.</p>
<p class="p">The
association in the UCDB is made through a specialized data attribute
called a <span class="ph FontProperty emphasis">tag</span>.
A tag is nothing other than a string that is associated with a scope;
there may be multiple tags per scope. Any scope or test data record
can be tagged. A testplan section is represented by a UCDB scope
of type UCDB_TESTPLAN. If it shares a tag with any other scope not
of type UCDB_TESTPLAN, the coverage associated with that non-testplan
scope is considered linked to the section represented by the testplan
scope. After that it is a tool feature to calculate coverage in
some way that is meaningful based on the testplan and the coverage
linked to it.</p>
<p class="p">Any UCDB scope could be
linked with the testplan, not just coverage scopes. However, coveritems
may not be linked with the testplan because the tag API does not
apply to coveritems.</p>
<p class="p">The testplan example shows
a trivial testplan with two sections linked to two trivial coverpoints.
Creating a testplan is ordinarily a tool feature, but this example
shows how to create one with the API, and introduces the API rather
than the data model. In this case, it is not possible to create
the data model in an easy-to-understand way without using the API
as well as the HDL source.</p>
<p class="p">You can find this C example
in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/data-models/testplan/</span>.</p>
<pre class="pre codeblock leveled"><code>ucdbT db = ucdb_Open(ucdbfile); 
ucdbScopeT testplan, section1, section2, cvpi, cvpj; 
if (db==0) return; 
 
/* Create testplan scopes: */ 
testplan = ucdb_CreateScope(db,NULL,"testplan",NULL,1,UCDB_NONE, 
                                UCDB_TESTPLAN,0); 
section1 = ucdb_CreateScope(db,testplan,"section1",NULL,1,UCDB_NONE, 
                                UCDB_TESTPLAN,0); 
section2 = ucdb_CreateScope(db,testplan,"section2",NULL,1,UCDB_NONE, 
                                UCDB_TESTPLAN,0); 
 
/* Look up coverpoint scopes: */ 
cvpi = ucdb_MatchScopeByPath(db,"/top/cg/i"); 
cvpj = ucdb_MatchScopeByPath(db,"/top/cg/j"); 
 
/* Tag to link testplan scopes to coverpoint scopes */ 
ucdb_AddObjTag(db,section1,"1"); 
ucdb_AddObjTag(db,cvpi,"1"); 
ucdb_AddObjTag(db,section2,"2"); 
ucdb_AddObjTag(db,cvpj,"2");   
 
/* Write everything back to the same file */ 
ucdb_Write(db,ucdbfile,NULL,1,-1); 
ucdb_Close(db); 
 </code></pre><p class="p">This example executes the following sections
of code:</p>
<ul class="ul"><li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__ida0b74fbb-81e6-43c5-a358-62d25aeffdaf"><p class="p">Open the UCDB file, loading its contents
into memory.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id7522fd69-dc11-4351-965d-704887a7fbbd"><p class="p">Create the three testplan
scopes. The first one, testplan, is used subsequently as the parent
of section1 and section2 (the second argument to ucdb_CreateScope()
is the parent node). This creates the parent-child relationship
and thus the hierarchical structure of the testplan.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id8c6dddb8-8fbb-43b8-921c-d07293a71020"><p class="p">Look up the coverpoint
scopes by path. Paths in the UCDB use the path separator (/) by
default and otherwise concatenate the names of the scope on a downward
traversal through the hierarchy. In this case top is the module
instance, cg the covergroup underneath the instance, and i and j
the coverpoints underneath the covergroup.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id4bb63be8-089d-4692-abbd-6a643d7c6ed0"><p class="p">Give section1 the same tag as /top/cg/i,
and section2 the same tag as /top/cg/j. This is all that is necessary
to make the testplan association with coverage.</p>
</li>
<li class="li" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id00fbd098-f0a9-41df-807e-b57e754b3c88"><p class="p">Write the UCDB data in memory back to
the same file from which it was read, and close the UCDB handle
in order to de-allocate its memory.</p>
</li>
</ul>
<p class="p">The execution of the C code
results in the following data model:</p>
<div class="fig fignone" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id47e19b27-c36e-49e9-9728-29f7bc00d3c1"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Data Model for a Testplan With
Linked Coverage</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics_composites/basics25.png" /></div><br /></div>
<p class="p">In this case, the shared tag names imply the
red dashed-line links from UCDB_TESTPLAN scopes to the UCDB_COVERPOINT
scopes. Refer to the section “<a class="xref fm:HeadingAndPage" href="Concept_TraverseFromTestplanToCoverageDataWithTags_idcc01ac2c.html#idcc01ac2c-9659-4881-adf6-408565963a28__Concept_TraverseFromTestplanToCoverageDataWithTags_idcc01ac2c.xml#idcc01ac2c-9659-4881-adf6-408565963a28" title="The ucdb_PathCallBack() function automatically performs a recursive traversal of testplan scopes, and for each testplan scope, it pursues the linked objects that share the same tag. The function considers the linked objects to be virtual children of the testplan scope.">Traverse from Testplan to Coverage Data with Tags</a>” for more
information.</p>
<p class="p">In Questa there is a SECTION
attribute used in the report, however, tags are composed in a more
sophisticated way. Tags are automatically applied by vcover merge
according to other attributes attached to the testplans. Also, testplan
scopes may have user-defined attributes added from the testplan,
so that a testplan data structure created by Questa is more complex
than the structure illustrated in<a class="xref fm:Figure" href="#ida1191b50-5f92-47fd-b1ad-d960daf662b5__id47e19b27-c36e-49e9-9728-29f7bc00d3c1">Figure 1</a>. However,
the basic tree relationships are the same. </p>
</div>
<div class="section Subsection" id="ida1191b50-5f92-47fd-b1ad-d960daf662b5__id814ddde5-720a-4f65-a6d6-8fcb4f3b0664"><h2 class="title Subheading sectiontitle">Memory Statistics</h2><p class="p">There is a facility in the
UCDB API for memory statistics, which are available in constant time
when a UCDB is loaded. These statistics are designed for fast access.</p>
<p class="p">The
API calls are ucdb_GetMemoryStats() and ucdb_SetMemoryStats() that
use the ucdbAttrValueT attribute value structure, but otherwise
rely on two enumerators to create, in effect, a 2-dimensional array
of attributes. The enumerators are ucdbMemStatsEnumT and ucdbMemStatsTypeEnumT,
which are essentially a category and type, respectively.</p>
<p class="p">The memory statistics API is used internally
by Questa.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_UcdbDataModels_id65d10df1.html" title="The UCDB API is a general one that creates certain objects – such as scopes, coveritems, and test data records – with certain names, types, and attributes. Use of this API allows for the creation of many different potential data models.">UCDB Data Models</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Test Data Records and History Nodes"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_TestDataRecordsHistoryNodes_ida1191b50.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>