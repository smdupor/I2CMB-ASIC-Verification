<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="User-Specified Attributes" />
<meta name="abstract" content="User-defined attributes are associated with objects in the database (scopes, coveritems, or tests) or with the database itself (global attributes). They are key-value pairs that can be traversed or looked up by key." />
<meta name="description" content="User-defined attributes are associated with objects in the database (scopes, coveritems, or tests) or with the database itself (global attributes). They are key-value pairs that can be traversed or looked up by key." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id85a1be84-633c-4521-aefe-b71869ea77cb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>User-Specified Attributes</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="User-Specified Attributes" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id85a1be84-633c-4521-aefe-b71869ea77cb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">User-Specified Attributes</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">User-defined
attributes are associated with objects in the database (scopes,
coveritems, or tests) or with the database itself (global attributes).
They are key-value pairs that can be traversed or looked up by key. </span>
</div>
<p class="p">Key-value string storage is maintained
by the API. With <span class="ph FontProperty emphasis">set</span> routines
(which add key-value pairs), passed-in strings are copied to storage
maintained by the API. You must not de-allocate individual strings
returned by the API. On reading from or writing to memory, values
returned are always owned by the API.  They are good until the next
call. The memory for keys is always good.</p>
<p class="p">For attributes of coveritems, the coveritems
are identified by a combination of the parent scope handle (pointer)
and an integer index for the coveritem. To use the attribute functions
for a scope only, the integer index must be set to -1. For history
node objects, the index must always be -1. If a function is given
an attribute handle, if that handle is of type UCDB_ATTR_ARRAY,
then the index must be a value from 0 to <span class="ph FontProperty emphasis">array size – 1</span>.
The array size may be queried using the ucdb_AttrArraySize() function.
If the attribute handle is of type UCDB_ATTR_HANDLE, then the index
must be –1.</p>
<div class="section Subsections"><div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id51aa0b6a-cfc7-4ce7-b3cc-73d4d5cced7a"><h2 class="title Subheading sectiontitle">Attribute Type</h2><pre class="pre codeblock leveled"><code>typedef enum { 
    UCDB_ATTR_INT, 
    UCDB_ATTR_FLOAT, 
    UCDB_ATTR_DOUBLE, 
    UCDB_ATTR_STRING, 
    UCDB_ATTR_MEMBLK, 
    UCDB_ATTR_INT64, 
    UCDB_ATTR_HANDLE,  /* Refers to other attributes: for nesting */ 
    UCDB_ATTR_ARRAY    /* Handle used to refer to an attribute array */ 
} ucdbAttrTypeT; </code></pre></div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__iddc032efe-5080-4f6a-b6d3-69ba0b18e6d1"><h2 class="title Subheading sectiontitle">Attribute Value Type</h2><pre class="pre codeblock leveled"><code>typedef struct { 
    ucdbAttrTypeT type;     /* Value type            */ 
    union { 
        int64_t i64value    /* 64-bit integer value  */ 
        int ivalue;         /* Integer value         */ 
        float fvalue;       /* Float value           */ 
        double dvalue;      /* Double value          */ 
        const char* svalue; /* String value          */ 
        struct { 
            int size;            /* Size of memory block, number of bytes */ 
            unsigned char* data; /* Starting address of memory block */ 
        } mvalue; 
        ucdbAttrHandleT attrhandle; /* for HANDLE and ARRAY */ 
    } u; 
} ucdbAttrValueT; </code></pre></div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__idf21a5e8b-fe4a-4b6f-a7f5-e5ab514d18cf"><h2 class="title Subheading sectiontitle">ucdb_AttrGetNext</h2><pre class="pre codeblock leveled"><code>const char* ucdb_AttrGetNext( 
    ucdbT            db, 
    ucdbObjT         obj, 
    int              coverindex, 
    const char*      key, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id85a1be84-633c-4521-aefe-b71869ea77cb__idd6adbfbd-528b-484d-92f1-247e98183abb" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">obj</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Object type: ucdbScopeT,
ucdbHistoryNodeT, or NULL (for global attribute).</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">coverindex</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Index of coveritem. If
obj is ucdbScopeT, specify -1 for scope.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">key</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Previous key or NULL
to get the first attribute.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">value</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Attribute value returned.</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Returns the next attribute key and gets the
corresponding attribute value from the specified database object,
or returns NULL when done traversing attributes. Do not use free
or strdup on keys. Memory for the returned key is owned by the API.
To preserve the old key, just use another char* variable for it.
For example, to traverse the list of attributes for a scope:</p>
<pre class="pre codeblock leveled"><code>const char* key = NULL; 
ucdbAttrValueT* value; 
while (key = ucdb_AttrGetNext(db,obj,-1,key,&amp;value)) { 
	printf("Attribute ’%s’ is ", key); 
	print_attrvalue(value); 
} </code></pre></div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__idbffb0663-2634-4d12-8adf-df2fe9583f7b"><h2 class="title Subheading sectiontitle">ucdb_AttrAdd</h2><pre class="pre codeblock leveled"><code>int ucdb_AttrAdd( 
    ucdbT           db, 
    ucdbObjT        obj, 
    int             coverindex, 
    const char*     key, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id85a1be84-633c-4521-aefe-b71869ea77cb__idbfcdc3fd-a0bd-4328-b69a-00aebbf03948" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">obj</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Object type: ucdbScopeT,
ucdbTestT, or NULL (for global attribute)</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">coverindex</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Index of coveritem. If
obj is ucdbScopeT, specify -1 for scope</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">key</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Attribute key</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">value</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Attribute value</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Adds the specified attribute (key/value) to
the specified database object or global attribute list. The attribute
value is copied to the system. Returns 0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id88fac7a9-8459-4b7c-a20d-3ff3a3ecd1b2"><h2 class="title Subheading sectiontitle">ucdb_AttrRemove</h2><pre class="pre codeblock leveled"><code>int ucdb_AttrRemove( 
    ucdbT           db, 
    ucdbObjT        obj, 
    int             coverindex, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id978d7a0b-0ef8-4cbd-b5ea-56cd80f6deaf" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">obj</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Object type: ucdbScopeT,
ucdbTestT, or NULL (for global attribute)</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">coverindex</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Index of coveritem. If
obj is ucdbScopeT, specify -1 for scope</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">key</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Key or NULL to remove
the first attribute</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Removes the attribute that has the specified
key from the specified database object or global attribute list.
Returns 0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id38ce6626-93c6-4f25-a1ab-d662949b9c48"><h2 class="title Subheading sectiontitle">ucdb_AttrGet</h2><pre class="pre codeblock leveled"><code>int ucdb_AttrGet( 
    ucdbT            db, 
    ucdbObjT         obj, 
    int              coverindex, 
    const char*      key, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id917718cd-0b55-43dc-ae1d-4ca2d43ba27b" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">obj</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Object type: ucdbScopeT,
ucdbHistoryNodeT, or NULL (for global attribute)</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">coverindex</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Index. If obj is ucdbScopeT,
specify -1 for scope. Valid index for coveritem is ucdbAttrHandleT:</p>
<ul class="ul"><li class="li" id="id85a1be84-633c-4521-aefe-b71869ea77cb__idb301f839-9818-48ad-b014-49de8f8588db"><p class="p">array index (if type is UCDB_ATTR_ARRAY)</p>
</li>
<li class="li" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id9073791e-4060-4e09-b510-bca79a6d73fd"><p class="p">-1 (if type is UCDB_ATTR_HANDLE)</p>
</li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">key</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Not necessary if obj
is ucdbAttrHandleT and its type is UCDB_ATTR_ARRAY.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">value</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Attribute value returned</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Gets the attribute value for the specified
object/key or global attribute value if obj is NULL. Returns 1 if
a match is found, or 0 if error.</p>
</div>
<div class="section Subsection" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id7691740b-d856-4ae6-8a92-8847d78c67d4"><h2 class="title Subheading sectiontitle">ucdb_AttrArraySize</h2><pre class="pre codeblock leveled"><code>int ucdb_AttrArraySize( 
    ucdbT            db, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id85a1be84-633c-4521-aefe-b71869ea77cb__id1fcc4cd5-7bb5-4860-b363-4a5f5b7faf3f" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">arrayhandle</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Attribute array handle</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Returns the size (max index + 1) of the attribute
array, or -1 if error (that is, type is not UCDB_ATTR_ARRAY).</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbApiFunctions_idffb846c1.html" title="This section defines the UCDB API functions by function group.">UCDB API Functions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "User-Specified Attributes"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_UserSpecifiedAttributes_id85a1be84.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>