<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Databases and Database Files" />
<meta name="abstract" content="A UCDB database exists in two forms: an in-memory image accessible with a database handle, and a persistent form on the file system. There are read-streaming and write-streaming modes that minimize the memory usage in the current process. These streaming modes keep only a small window of data in memory; and after you have moved onward in reading or writing, you cannot revisit earlier parts of the database. Random access is not possible." />
<meta name="description" content="A UCDB database exists in two forms: an in-memory image accessible with a database handle, and a persistent form on the file system. There are read-streaming and write-streaming modes that minimize the memory usage in the current process. These streaming modes keep only a small window of data in memory; and after you have moved onward in reading or writing, you cannot revisit earlier parts of the database. Random access is not possible." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id94263557-e0e3-47c1-9eaa-e9e05dd5c128" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Databases and Database Files</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Databases and Database Files" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Databases
and Database Files</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">A UCDB database
exists in two forms: an in-memory image accessible with a database
handle, and a persistent form on the file system. There are read-streaming
and write-streaming modes that minimize the memory usage in the
current process. These streaming modes keep only a small window
of data in memory; and after you have moved onward in reading or
writing, you cannot revisit earlier parts of the database. Random access
is not possible.</span>
</div>
<p class="p">You use the functions defined in this section
to run the following operations:</p>
<ul class="ul" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idb8c70c39-e28c-4807-9b7a-88360feaf832"><li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idc28564ad-0cf4-4116-b281-a0f0cef6d1ed"><p class="p">Opening a file and creating an in-memory
image.</p>
<p class="p">Reading from a persistent database and creating
an in-memory image are combined in the same function: ucdb_Open(),
which always creates a valid database handle. If a filename is given
to ucdb_Open(), the in-memory image is populated from the persistent
database in the named file.</p>
<p class="p">Some parts of the data model can be accessed
without fully populating the in-memory data image, only if no other
calls have been made since ucdb_Open() that require accessing the
in-memory image. In particular, the following data can be accessed in
constant time regardless of the size of the UCDB:</p>
<ul class="ul"><li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idf0f1af6a-8129-4960-9999-226d582a9def"><p class="p">ucdb_CalcCoverageSummary (scope==NULL
and test_mask==NULL)</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idd978bb81-1742-49eb-bca8-2a6c7028d014"><p class="p">ucdb_GetCoverage</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idada0ac6d-711a-4246-8677-1f7ddbbf5715"><p class="p">ucdb_GetStatistics</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id798e989e-4ff3-439b-89d2-6d9199852cbf"><p class="p">ucdb_GetMemoryStats</p>
</li>
</ul>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idcbccd234-32b7-4c39-b202-4bb04b51ae98"><p class="p">Writing to a file from an in-memory image.</p>
<p class="p">This operation can be performed at any time
with the ucdb_Write() function. This function transfers all of (or
a subset of) the in-memory image to the named persistent database
file, overwriting the file if it previously existed.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id7c3e1936-337f-4c2b-8b88-cf35155ea072"><p class="p">Deleting the in-memory image.</p>
<p class="p">This operation is done with the ucdb_Close()
function. After this call, the database handle is no longer valid.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idcbd633b7-a1c7-492d-9598-c903ee3ed5bf"><p class="p">Using write-streaming mode.</p>
<p class="p">To create a UCDB with minimal memory overhead,
use ucdb_OpenWriteStream() to create a UCDB handle whose use is
restricted. In particular, objects must be created in the following
specific order:</p>
<ol class="ol"><li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idc9ff2365-0c0a-43eb-bb17-31cad295017c"><p class="p">Create UCDB attributes. Creating UCDB attributes
at the beginning of the file is not enforced so UCDB attributes
can be created at the end of the output (which might be necessary
for attributes whose values must be computed as a result of traversing
the data during write).</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id8f9c0330-e1aa-4567-ab99-d6e4076caf33"><p class="p">Create TestData.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id2acef589-886a-43af-b994-a9e55e3ef1c6"><p class="p">Create scopes. Create DU scopes before corresponding
instance scopes. If a scope contains coverage items, create those
first. If a scope contains child scopes, create those after coveritems.</p>
<p class="p">There are other restrictions as well; see
comments for individual functions. For example, accessing immediate
ancestors is okay, but accessing siblings is not (nor is it okay
to access an ancestor’s siblings).</p>
<p class="p">The function ucdb_WriteStream() must be used
in write-streaming mode to finish writing a particular object. The
function ucdb_WriteStreamScope() must be used to finish writing
a scope and to resume writing the parent scope. In write-streaming
mode, the ucdb_Close() function must be used to finish the file
being written to and to free any temporary memory used for the database handle.</p>
</li>
</ol>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id556070e4-0f4e-4c43-abd7-b95c3239b874"><p class="p">Using read-streaming mode</p>
<p class="p">The read-streaming mode operates with callbacks.
The persistent database is opened with a ucdb_OpenReadStream() call
that passes control to the UCDB system that then initiates callbacks
to the given callback function. Each callback function returns a
reason that identifies the data valid for the callback and enough
information to access the data. Read-streaming mode callback order
includes the following characteristics:</p>
<ol class="ol"><li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id661127ce-3b78-4cb3-afa3-d9a595e97ad2"><p class="p">INITDB is always the first callback.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__ide4550129-df72-48d0-9c8b-18a3a5545e8e"><p class="p">UCDB attributes created first in write-streaming
mode are available, as are UCDB attributes created with in-memory
mode.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idb47293d8-c7df-4059-8eb0-18259d886f40"><p class="p">All TEST callbacks follow; after the next
non-TEST callback there will be no more TEST callbacks.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id23b3348d-57c9-4863-8e25-fe07bdb12f6f"><p class="p">DU callbacks must precede their <span class="ph FontProperty emphasis">first associated instance</span> SCOPE
callbacks, but they do not need to immediately precede the SCOPE
callbacks.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idab112555-c077-434c-a188-7d5bddad4a82"><p class="p">SCOPE, DU and CVBIN callbacks can occur in
any order, except for the DU before first instance rule, although
nesting level is implied by the order of callbacks.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id0af34ade-7792-4a51-823b-255396c43baa"><p class="p">ENDSCOPE callbacks correspond to SCOPE and
DU callbacks and imply a “pop” in the nesting of scopes and design
units.</p>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id9a2acaaa-10a4-44d6-a3c3-c00c4087eec1"><p class="p">ENDDB callbacks can be used to access UCDB
attributes written at the end of the file, if created in write-streaming
modes.</p>
</li>
</ol>
</li>
<li class="li" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id2010769e-26d4-490d-b01f-3136819fe349"><p class="p">Opening UCDB in streaming mode to read
data through callbacks without creating an in-memory database.</p>
<p class="p">Use the ucdb_OpenReadStream() read API to
open a UCDB in stream mode with a callback function of type ucdb_CBFuncT
along with user data (which can be NULL). The callback function
is called for all UCDB objects present in the database, with an object
of type ucdbCBDataT with the user data.</p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id6a59c617-9fac-493c-b423-f858dab1eb7c"><h2 class="title Subheading sectiontitle">Typedefs</h2><h2 class="title Subheading sectiontitle">Callback Reason Type</h2><pre class="pre codeblock leveled"><code>typedef enum { 
    UCDB_REASON_INITDB,      /* Start of the database,  
                                apply initial settings           */ 
    UCDB_REASON_DU,          /* Start of a design unit scope     */ 
    UCDB_REASON_TEST,        /* Testplan object                  */ 
    UCDB_REASON_SCOPE,       /* Start of a scope object          */ 
    UCDB_REASON_CVBIN,       /* Cover item                       */ 
    UCDB_REASON_ENDSCOPE     /* End of a scope,  
                                including design units           */  
    UCDB_REASON_ENDDB,       /* End of database (database handle  
                                still valid)                     */ 
    UCDB_REASON_PLANHISTORY, /* Testplan history object */ 
    UCDB_REASON_MERGEHISTORY /* Merge history object */ 
} ucdbCBReasonT; </code></pre><h2 class="title Subheading sectiontitle">Callback Return Type</h2><pre class="pre codeblock leveled"><code>typedef ucisCBReturnT ucdbCBReturnT; 
#define UCDB_SCAN_CONTINUE UCIS_SCAN_CONTINUE 
#define UCDB_SCAN_STOP     UCIS_SCAN_STOP 
#define UCDB_SCAN_PRUNE    UCIS_SCAN_PRUNE </code></pre><h2 class="title Subheading sectiontitle">Read Callback Data Type</h2><pre class="pre codeblock leveled"><code>typedef struct ucdbCBDataS { 
    ucdbCBReasonT reason;       /* Reason for this callback        */ 
    ucdbT         db;           /* Database handle, to use in APIs */ 
    ucdbObjT      obj;          /* ucdbScopeT or ucdbTestT         */ 
    int           coverindex;   /* If UCDB_REASON_CVBIN, index of  
                                   coveritem                       */ 
} ucdbCBDataT; </code></pre><h2 class="title Subheading sectiontitle">Function Type for Use with ucdb_OpenReadStream()</h2><pre class="pre codeblock leveled"><code>typedef ucdbCBReturnT (*ucdb_CBFuncT) \ 
	(void* userdata, ucdbCBDataT* cbdata); </code></pre></div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id68a91ced-62e6-4c2e-8616-b79b36e99122"><h2 class="title Subheading sectiontitle">ucdb_Open </h2><pre class="pre codeblock leveled"><code>ucdbT ucdb_Open(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id8944db64-e981-4e5b-914c-e8274ca855ba" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">name</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">File system path.</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Creates an in-memory database, optionally populating
it from the specified file. Returns a database handle if successful,
or NULL if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id6ae9b453-9b33-4d88-acc9-8e0dbc1e068e"><h2 class="title Subheading sectiontitle">ucdb_OpenReadStream</h2><pre class="pre codeblock leveled"><code>int ucdb_OpenReadStream( 
    const char*  name, 
    ucdb_CBFuncT cbfunc, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id51c842b1-bd93-4c17-8ef6-46a24a810daf" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">name</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">File system path</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">cbfunc</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">User-supplied callback
function</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">userdata</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">User-supplied function
data</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Opens a database for streaming read mode from
the specified file. Returns 0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__iddfff3c1e-4998-475f-bd2b-8e7343dcbc42"><h2 class="title Subheading sectiontitle">ucdb_OpenWriteStream </h2><pre class="pre codeblock leveled"><code>ucdbT ucdb_OpenWriteStream(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id1adea85b-fedc-4bd8-a9e9-1bcc19d6ee51" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">name</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">File system path (write
permission must exist for the file)</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Opens data in write-streaming mode, overwriting
the specified file. Returns a restricted database handle if successful,
or NULL if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id1072618e-c1ae-4e35-9e1a-e1a99409ff41"><h2 class="title Subheading sectiontitle">ucdb_WriteStream</h2><pre class="pre codeblock leveled"><code>int ucdb_WriteStream(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idcfb2efcb-d915-46fc-b0ce-91c9d1d74019" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Finishes a write of the current object to the
persistent database file in write-streaming mode. This operation
is like a flush, which completes the write of what was most recently created
in write-streaming mode. Multiple ucdb_WriteStream() calls cause
no harm because if the current object has already been written,
it is not written again. The specified database handle must have
been previously opened with ucdb_OpenWriteStream(). Returns 0 if
successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__ida0047966-8264-4232-ab00-84802a6b3aae"><h2 class="title Subheading sectiontitle">ucdb_WriteStreamScope</h2><pre class="pre codeblock leveled"><code>int ucdb_WriteStreamScope(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id45e068f5-7979-4f64-b2c2-157b810bdfd2" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Finishes a write of the current scope (similar
to the flush operation of ucdb_WriteStream) and pops (that is, terminates
the current scope and reverts to its parent) the stream to the parent scope.
. Objects created after this belong to the parent scope of the previously
ended scope. Unlike ucdb_WriteStream, this function cannot be called
benignly multiple times because it always causes a reversion to
the parent scope. This write-streaming process resembles the UCDB_REASON_ENDSCOPE
callback in read-streaming mode. The specified database handle must
have been previously opened with ucdb_OpenWriteStream(). Returns
0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id93d85bee-133d-46d5-90f5-f2cb4a541bde"><h2 class="title Subheading sectiontitle">ucdb_Write</h2><pre class="pre codeblock leveled"><code>int ucdb_Write( 
    ucdbT       db, 
    const char* file, 
    ucdbScopeT  scope, 
    int         recurse, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idb091894b-2d33-4373-bd43-10119a84968f" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database. The database
handle "db" cannot have been opened for one of the streaming modes.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">file</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">filename (write permission
must exist for the file)</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">scope</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Scope or NULL if all
objects</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">recurse</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Non-recursive if 0. If
non-zero, recurse from specified scope or ignored if scope==NULL.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">covertype</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Cover types (see <a class="xref fm:HeadingOnly" href="Concept_Coveritems_idc1c98842.html#idc1c98842-3240-4c22-bc9d-fc436aaf4df0__id0b0d9708-14d3-4726-9e2b-16fd6a6087d1">Cover Types</a>) to save or
-1 for everything</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Copies the entire in-memory database or the
specified subset of the in-memory database to a persistent form
stored in the specified file, overwriting the specified file. Returns
0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__ida9d4689f-78b7-45c2-96a0-a5c8d15b2cda"><h2 class="title Subheading sectiontitle">ucdb_Close</h2><pre class="pre codeblock leveled"><code>int ucdb_Close(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idcee69d25-0039-4149-9b65-959c4cfe095c" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Invalidates the specified database handle and
frees all memory associated with the handle, including the in-memory
image of the database, if not in one of the streaming modes. If db
was opened with ucdb_OpenWriteStream(), this functional call has
the side effect of closing the output file. Returns 0 if successful,
or non-zero if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id287f0868-5857-4dbf-bd72-ea2209752123"><h2 class="title Subheading sectiontitle">ucdb_DBVersion</h2><pre class="pre codeblock leveled"><code>int ucdb_DBVersion(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id32fa6d67-bd76-4b7a-9089-bd662524c361" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Returns integer version of the API library,
or a negative value if error. If the database handle was created
from a file (that is, ucdb_Open with non-NULL filename or ucdb_OpenReadStream)
this call returns the version of the database file itself. That
is, it returns the version of the API that originally created the
file. Otherwise, (that is, ucdb_Open with NULL filename or ucdb_OpenWriteStream),
this function is the same as ucdb_APIVersion(). </p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id0090337f-b298-415a-95c7-97e0be877af8"><h2 class="title Subheading sectiontitle">ucdb_APIVersion</h2><pre class="pre codeblock leveled"><code>int ucdb_APIVersion(void) </code></pre><p class="p">Returns the current integer version of the
API library. For a file to be readable, use the following:</p>
<pre class="pre codeblock leveled"><code>ucdb_APIVersion() ©&gt;= ucdb_DBVersion(db)</code></pre></div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idd52b10b9-da02-4bb7-95d4-4fafc9eb1129"><h2 class="title Subheading sectiontitle">ucdb_SetPathSeparator</h2><pre class="pre codeblock leveled"><code>int ucdb_SetPathSeparator( 
    ucdbT           db, </code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idc0cce690-d08f-42ad-a291-5606e1e56081" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">separator</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Path separator</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Sets the path separator for the specified database.
See <a class="xref fm:HeadingOnly" href="Concept_Scopes_id731a186b.html#id731a186b-1bb3-4163-908d-2b83a414b7d3__Concept_Scopes_id731a186b.xml#id731a186b-1bb3-4163-908d-2b83a414b7d3" title="Scopes functions manage the design hierarchy and coverage scopes. The UCDB database is organized hierarchically in parallel with the design database, which consists of a tree of module instances, each of a given module type.">Scopes</a>. The path
separator is stored with the persistent form of the database. Returns
0 if successful, or -1 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id296f3630-cc32-49a1-a1c5-d72ea6336c95"><h2 class="title Subheading sectiontitle">ucdb_GetPathSeparator</h2><pre class="pre codeblock leveled"><code>char ucdb_GetPathSeparator(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__iddddaa7c7-3614-4acf-b940-1c2170c39661" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Returns the path separator for the specified
database, or 0 if error.</p>
</div>
<div class="section Subsection" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__id86ba98fc-97ef-4653-9db5-050ecbf7aa04"><h2 class="title Subheading sectiontitle">ucdb_Filename</h2><pre class="pre codeblock leveled"><code>const char* ucdb_Filename(</code></pre>
<hr />
<table cellpadding="4" cellspacing="0" summary="" id="id94263557-e0e3-47c1-9eaa-e9e05dd5c128__idef2ad9ef-3b5b-436e-9a9d-fccfd2dec921" class="table" frame="above" border="0" rules="none"><colgroup><col style="width:1.875in" /><col style="width:4.625in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">db</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Database</p>
</td>
</tr>
</tbody>
</table>

<p class="p">Returns the filename from which the specified
database was read or the most recent filename written, or NULL if none.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbApiFunctions_idffb846c1.html" title="This section defines the UCDB API functions by function group.">UCDB API Functions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "Databases and Database Files"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DatabasesDatabaseFiles_id94263557.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>