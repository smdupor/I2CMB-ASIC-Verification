<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2020" />
<meta name="DC.rights.owner" content="(C) Copyright 2020" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="User-Defined Attributes and Tags in the UCDB" />
<meta name="abstract" content="Tags are names that are associated with scopes and test data records in the database. You can use these names could for general purpose grouping in the database." />
<meta name="description" content="Tags are names that are associated with scopes and test data records in the database. You can use these names could for general purpose grouping in the database." />
<meta name="prodname" content="UCDB API Reference" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-07-10" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="ucdbapi_ref" />
<meta name="SoftwareVersionNum" content="2020.4" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="mgc_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="none" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="UCDB API Reference" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="mti2020" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>User-Defined Attributes and Tags in the UCDB</title>
<link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="User-Defined Attributes and Tags in the UCDB" />
<meta name="attributes" content="doc.type.documentation.ref,product.id.P10593,product.version.2020.4" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.2.009" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">User-Defined Attributes and Tags in the UCDB</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Tags are names
that are associated with scopes and test data records in the database.
You can use these names could for general purpose grouping in the database. </span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__ide80492d4-be17-4113-b523-f6eb06182a1c"><h2 class="title Subheading sectiontitle">Tags in the UCDB</h2><p class="p">In Questa, tags are used
for making test traceability associations. </p>
<p class="p">You
can find this C example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/use-cases/print-attrtags/</span></p>
<pre class="pre codeblock leveled"><code>void 
print_tags(ucdbT db, ucdbScopeT scope) 
{ 
    int i, ntags = ucdb_GetObjNumTags(db,(ucdbObjT)scope); 
    const char* tagname; 
    printf("Tags for %s:\n",ucdb_GetScopeHierName(db,scope)); 
    if (ntags &gt; 0) { 
        for ( i=0; i&lt;ntags; i++ ) { 
            ucdb_GetObjIthTag(db,(ucdbObjT)scope,i,&amp;tagname); 
            printf("%s ",tagname); 
        } 
        printf("\n"); 
    } 
} 
 </code></pre><p class="p">This example uses an integer-based iterator.
The number of tags are acquired with ucdb_GetObjNumTags, then the
function ucdb_GetObjIthTag() is used to acquire the tag name for
the i-th tag. Because these functions operate on both scopes (ucdbScopeT)
and test data records (ucdbTestT), there is a polymorphic type ucdbObjT
that can stand for both. Some functions (queries as to object type
or kind, queries about tags, and queries about attributes) take these
object handles rather than scope or test data record handles. However,
because this is C and not C++, all these types are really void*,
so they are interchangeable and type unsafe. In this example, the
cast with “(ucdbObjT)” is used for readability; it is not strictly necessary.</p>
</div>
<div class="section Subsection" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id1a2f2cdf-c45a-437d-a5ee-87958cfec348"><h2 class="title Subheading sectiontitle">User-Defined Attributes
in the UCDB</h2><p class="p">User-defined
attributes are also names that can be associated with a UCDB object,
but are more powerful than tags in what they can represent.</p>
<ul class="ul"><li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__idbd35745e-e520-4be0-a46b-d1a7b9e53604"><p class="p">They can appear with any type of object
in the database: test data records, scopes, and coveritems.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id0d0012e4-f176-4dbc-a0d6-bc1c65d7f6bf"><p class="p">There is a class of attributes, where
NULL is given as the ucdbObjT handle to the API calls, that are
called global or UCDB attributes. These are not associated with any
particular object in the database but instead are associated with
the database itself. </p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id5cca947f-5ce4-4abe-b27a-f6fc267b1765"><p class="p">User-defined attributes have values as
well as names. The names are the “key” for the values. You can look
up a value by name.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__idf9ae0925-2945-4ca5-bf6f-5a968e625a3a"><p class="p">Attribute values can be of five different
types:</p>
<ul class="ul"><li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__idb21f0b6b-5b19-40ce-87db-072e7d6c0c54"><p class="p">32-bit integer</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id98a52aad-ce01-49f9-8b26-a0266eabc878"><p class="p">32-bit floating point (float).</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id9b51b917-a5cc-43ce-b256-7c9dc8563c34"><p class="p">64-bit floating point (double).</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id7f3593e0-851f-458b-8db6-3a9559fed259"><p class="p">Null-terminated string.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id8633d20a-b5c2-442e-9b40-5b0430a6fa20"><p class="p">A byte stream of any number of bytes
with any values. This is useful for storing unprintable characters
or binary values that might contain 0 (and thus cannot be stored
as a null-terminated string.)</p>
</li>
</ul>
</li>
</ul>
<p class="p">You can find this C example in <span class="ph filepath">&lt;install_dir&gt;/examples/ucdb/userguide/use-cases/read-attrtags/</span>.</p>
<pre class="pre codeblock leveled"><code>void 
print_attrs(ucdbT db, ucdbScopeT scope, int coverindex) 
{ 
    const char* attrname; 
    ucdbAttrValueT* attrvalue; 
    char* covername; 
    printf("Attributes for %s",ucdb_GetScopeHierName(db,scope)); 
    if (coverindex&gt;=0) { 
        ucdb_GetCoverData(db,scope,coverindex,&amp;covername,NULL,NULL); 
        printf("%c%s:\n",ucdb_GetPathSeparator(db),covername); 
    } else { 
        printf(":\n"); 
    } 
    attrname = NULL; 
    while ((attrname = ucdb_AttrNext(db,(ucdbObjT)scope,coverindex, 
                                     attrname,&amp;attrvalue))) { 
        printf("\t%s: ", attrname); 
        switch (attrvalue-&gt;type) 
        { 
        case UCDB_ATTR_INT: 
            printf("int = %d\n", attrvalue-&gt;u.ivalue); 
            break; 
        case UCDB_ATTR_FLOAT: 
            printf("float = %f\n", attrvalue-&gt;u.fvalue); 
            break; 
        case UCDB_ATTR_DOUBLE: 
            printf("double = %lf\n", attrvalue-&gt;u.dvalue); 
            break; 
        case UCDB_ATTR_STRING: 
            printf("string = '%s'\n", 
                   attrvalue-&gt;u.svalue ? attrvalue-&gt;u.svalue : "(null)"); 
            break; 
        case UCDB_ATTR_MEMBLK: 
            printf("binary, size = %d ", attrvalue-&gt;u.mvalue.size); 
            if (attrvalue-&gt;u.mvalue.size &gt; 0) { 
                int i; 
                printf("value = "); 
                for ( i=0; i&lt;attrvalue-&gt;u.mvalue.size; i++ ) 
                    printf("%02x ", attrvalue-&gt;u.mvalue.data[i]); 
            } 
            printf("\n"); 
            break; 
        default: 
            printf("ERROR! UNKNOWN ATTRIBUTE TYPE (%d)\n",  
							attrvalue-&gt;type); 
        } /* end switch (attrvalue-&gt;type) */ 
    } /* end while (ucdb_AttrNext(...)) */ 
} </code></pre><p class="p">This iterator requires a loop like the following:</p>
<pre class="pre codeblock leveled"><code>    attrname = NULL; 
    while ((attrname = ucdb_AttrNext(db,(ucdbObjT)scope,coverindex, 
                                     attrname,&amp;attrvalue))) {  </code></pre><p class="p">The assignment of attrname to NULL is crucial;
it starts the iteration. (A common bug in this case is to leave
the attrname variable uninitialized. If it happens to be 0, the
loop may execute, otherwise it will behave unpredictably, either
crashing or doing nothing.)</p>
<p class="p">If the attribute is for a scope, coveritem==(-1).
If the attribute is for a test data record, the second (ucdbObjT)
argument must be a ucdbTestT handle. If the attribute is for the
UCDB as a whole, the second argument must be NULL.</p>
<p class="p">The same attribute name as was returned by
ucdb_AttrNext() must be passed to the function for the next iteration.
The ucdbAttrValueT* variable must be declared by you and is set by
ucdb_AttrNext(). This variable is changed to point to memory owned
by the API.</p>
<p class="p">The example code for this section must switch
on attrvalue-&gt;type to print something appropriate for the attribute
value of the given type.</p>
<p class="p">Some of the following examples for adding data
to a UCDB show how to write user-defined attributes. To write them,
you must create your own memory for the attribute value(s); this
memory is copied for the API's purposes to store with the UCDB.</p>
</div>
<div class="section Subsection" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__ida1878ab1-a2c8-475a-86cf-88557cb56653"><h2 class="title Subheading sectiontitle">Predefined Attribute
Names in the UCDB</h2><p class="p">The <span class="ph filepath">ucdb.h</span> header uses
#defines of this form:</p>
<pre class="pre codeblock leveled"><code>#define UCDBKEY_SIMTIME         "SIMTIME" 
 </code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">Any of the macros starting with UCDBKEY are predefined
attribute names. You may reuse these attribute names in different
scopes, but it is inadvisable to reuse these attribute names in
the same scopes in which Questa itself creates them. </p>
</div>
<p class="p">The built-in attributes created by Questa must
be read or written with the same API as for any user-defined attribute.
For test data records only, built-in attributes may also be read
or written with the API functions ucdb_GetTestData() and ucdb_AddTest().</p>
</div>
<div class="section Subsection" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id9f61bd4e-ce6a-41d0-8283-0d6bf8bd9079"><h2 class="title Subheading sectiontitle">Create a Testplan in
a UCDB</h2><p class="p">The
data model example discussed in the section “<a class="xref fm:HeadingAndPage" href="Concept_TestDataRecordsHistoryNodes_ida1191b50.html#ida1191b50-5f92-47fd-b1ad-d960daf662b5__Concept_TestDataRecordsHistoryNodes_ida1191b50.xml#ida1191b50-5f92-47fd-b1ad-d960daf662b5" title="In earlier versions of the database and API, there were only test data records which were designed to record information about the test run which produced the UCDB. It is not possible to create a UCDB without a test data record. When test data records were later extended, they became a special case of the history node. The history node records information about any process that creates a UCDB.">Test Data Records and History Nodes</a>” shows
how to create a testplan from scratch. The following are some important
features of the testplans created by Questa:</p>
<ul class="ul"><li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id63ff78da-4c70-458c-ad81-8389fb3aad65"><p class="p">Tag names for testplan sections in Questa
are a concatenation of the testplan root name and the section number.
This guarantees that testplans can be merged together from different
files.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__ide3155aca-f947-4abd-af7d-f0fdde5904b9"><p class="p">The Questa tag CLI (viewcov mode command-line
interface) is actually embedded as a user-defined attribute in the
testplan scope, with UCDBKEY_TAGCMD as the name. The value is a
string of semicolon-separated list of arguments to the coverage
tag commands; these commands are automatically executed by vcover merge.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id9eedd303-1ac8-4697-b3c0-14b686e1f5ec"><p class="p">Testplan sections have the UCDBKEY_SECTION
attribute set to the literal section number that must appear in
the report.</p>
</li>
<li class="li" id="id0879e3ae-eee6-4ebf-bf79-bc57b35e88e3__id6d48045b-c18b-48c3-bf5a-4ea2ec79c837"><p class="p">The XML import for testplans can create
any arbitrary user-defined attributes from the testplan source.
These attributes then appear in the GUI and can be used as search
criteria with the CLI or GUI.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UcdbUseCases_idb8452a48.html" title="Understanding the UCDB data models is a prerequisite to using the API. The API is more general than the specific data models used to represent specific kinds of coverage. It is also important to know how to use the API and understand some specific use scenarios.">UCDB Use Cases</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "ucdbapi_ref"
                DocTitle = "UCDB API Reference"
                PageTitle = "User-Defined Attributes and Tags in the UCDB"
                Copyright = "2020"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_UserDefinedAttributesTagsInUcdb_id0879e3ae.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">UCDB API Reference Software Version 2020.4<br />Unpublished work. © Siemens 2020<br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>