                     Release Notes For Questa Sim 10.4a

                                 Mar 24 2015
               Copyright 1991-2015 Mentor Graphics Corporation
                            All rights reserved.
      This document contains information that is proprietary to Mentor
                                  Graphics
   Corporation. The original recipient of this document may duplicate this
      document in whole or in part for internal business purposes only,
                                  provided
   that this entire notice appears in all copies. In duplicating any part
                                     of
    this document the recipient agrees to make every reasonable effort to
      prevent the unauthorized use and distribution of the proprietary
                                information.
     TRADEMARKS: The trademarks, logos and service marks ("Marks") used
                                   herein
   are the property of Mentor Graphics Corporation or other third parties.
      No one is permitted to use these Marks without the prior written
                                   consent
   of Mentor Graphics or the respective third-party owner. The use herein
   of a third-party Mark is not an attempt to indicate Mentor Graphics as
                                      a
     source of a product, but is intended to indicate a product from, or
   associated with, a particular third party. The following are trademarks
                                     of
    of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal
                                    Spy.
        A current list of Mentor Graphics trademarks may be viewed at
               www.mentor.com/terms_conditions/trademarks.cfm.
      End-User License Agreement: You can print a copy of the End-User
                                   License
        Agreement from: www.mentor.com/terms_conditions/enduser.cfm.
   _______________________________________________________________________

     * How to Get Support
       For information on how to obtain technical support, visit the
       support page at
       [1]http://supportnet.mentor.com
   _______________________________________________________________________

  Index to Release Notes

     * [2]Key Information
     * [3]Release Announcements in 10.4a
     * [4]Base Product Specifications in 10.4a
     * [5]Compatibility Issues with Release 10.4a
     * [6]General Defects Repaired in 10.4a
     * [7]User Interface Defects Repaired in 10.4a
     * [8]SystemVerilog Defects Repaired in 10.4a
     * [9]VHDL Defects Repaired in 10.4a
     * [10]SystemC Defects Repaired in 10.4a
     * [11]SVA/PSL Defects Repaired in 10.4a
     * [12]Mixed Language Defects Repaired in 10.4a
     * [13]Verification Management Defects Repaired in 10.4a
     * [14]Power Aware Defects Repaired in 10.4a
     * [15]WLF and VCD logging Defects Repaired in 10.4a
     * [16]General Enhancements in 10.4a
     * [17]User Interface Enhancements in 10.4a
     * [18]SystemVerilog Enhancements in 10.4a
     * [19]VHDL Enhancements in 10.4a
     * [20]SystemC Enhancements in 10.4a
     * [21]SVA/PSL Enhancements in 10.4a
     * [22]Coverage Enhancements in 10.4a
     * [23]Verification Management Enhancements in 10.4a
     * [24]Power Aware Enhancements in 10.4a
   _______________________________________________________________________

   Key Information
     * dvt73631 - (results) VHDL 2008 users who use generic packages or
       subprograms must refresh the associated design units or recompile
       from source code with this release. Changes made for correctness
       affect internal data structures and are incompatible with vhdl-2008
       design units generated with earlier releases.
   _______________________________________________________________________

   Release Announcements in 10.4a
     * [nodvtid] - (source) The inFactSv package has changed, so designs
       that use it must be recompiled in Questa 10.4a.
     * [nodvtid] -
       [10.4] Support for Windows XP and Windows Vista has been
       discontinued.
       [10.4] Licensing Information
       There is no licensing change between release 10.3 and 10.4.
       However if you are migrating to 10.4 from a release like 10.2 and
       older, please note the following:
          + Starting 10.3, it uses FLEXnet v11.11.1.1. The vendor daemons
            and lmgrd that are shipped with this release will be FLEXnet
            version 11.11.1.1.
          + For floating licenses it will be necessary to verify that the
            vendor daemon (i.e., mgcld) and the license server (i.e.,
            lmgrd) have FLEXnet versions equal to or greater than
            11.11.1.1. If the current FLEXnet version of your vendor
            daemon and lmgrd are less than 11.11.1.1 then it will be
            necessary to stop your license server and restart it using the
            vendor daemon and lmgrd contained in this release.
          + If you use node locked licenses you don't need to do anything.
       [10.3b] OVL is upgraded to v2.8.1.
       [10.3b] The VHDL OSVVM (Open Source VHDL Verification Methodology)
       library, sources and documentation have been updated to version
       2014.01. Dependency checks in vopt and vsim will force
       recompilation of designs that use the osvvm library. If
       optimization is performed using vopt, the optimizer will
       automatically generate new optimized design units. Without the
       optimization step, vsim will detect dependency errors.
       [10.3] Support for RedHat Enterprise Linux (RHEL) 4.0 has been
       discontinued.
       [10.2] Support for Solaris SPARC and Solaris x86 has been
       discontinued. All Solaris OS platforms are not supported.
       [10.2] Support for RedHat Enterprise Linux (RHEL) 3.0 and Novell
       SUSE Linux Enterprise (SLES) 9 has been discontinued.
       [10.1] Support for GCC versions
       gcc-4.1.2-sunos510/gcc-4.1.2-sunos510x86 has been discontinued.
       [10.0] Support for Solaris 8 and Solaris 9 has been discontinued.
     * [nodvtid] - Accellera UVM Version 1.2 has been integrated with this
       release.
   _______________________________________________________________________

   Base Product Specifications in 10.4a
     * [nodvtid] -
       [Supported Platforms]
       Linux RHEL 5 x86/x86-64
       Linux RHEL 6 x86/x86-64
       Linux RHEL 7 x86/x86-64
       Linux SLES 10 x86/x86-64
       Linux SLES 11 x86/x86-64
       Windows 7 x86/x64
       Windows 8 x86/x64
       [Supported GCC Compilers (for SystemC)]
       gcc-4.7.4-linux/gcc-4.7.4-linux_x86_64
       gcc-4.5.0-linux/gcc-4.5.0-linux_x86_64
       gcc-4.3.3-linux/gcc-4.3.3-linux_x86_64
       gcc-4.2.1-mingw32vc9
       [OVL (shipped with product)]
       v2.8.1
       [VHDL OSVVM (shipped with product)]
       v2014.07
       [Licensing]
       FLEXnet v11.11.1.1
       MSL v2013_3
       MGLS v9.10_7.2
       PCLS v9.10.7.2
   _______________________________________________________________________

   Compatibility Issues with Release 10.4a

   Key Information Compatibility
     * dvt73631 - (results) VHDL 2008 users who use generic packages or
       subprograms must refresh the associated design units or recompile
       from source code with this release. Changes made for correctness
       affect internal data structures and are incompatible with vhdl-2008
       design units generated with earlier releases.

   SystemVerilog Compatibility
     * dvt35312 - (source, results) The following new non-standard string
       methods will be supported:
       1) match() : Returns 1 if a specified regex pattern is found in the
       string,else returns 0.
       2) search() : This function searches for the specified pattern in
       the string and returns the integer index to the beginning of the
       pattern.
       3) prematch() : This function returns the string before the matched
       pattern, based on the last call to match().
       4) postmatch() : This function returns the string after the matched
       pattern, based on the last call to match().
       5) thismatch() : This function returns the matched string, based on
       the last call to match().
       6) backref() : This function returns matched patterns,based on the
       index specified, starting from 0. The indices correspond to the
       sequence of parenthesis specified in the pattern, i.e., 0
       corresponds to the first set of round parenthesis encountered in
       the pattern from left to right, 1 to the second, and so on.
       Since these are non-standard functions, error will be generated if
       -pedanticerrors is used for compilation.
       All regexes will use perl pattern syntax.
     * dvt73252 - (results) When the default specify path delay values
       were smaller than the annotated SDF RETAIN delay values,
       vsim-SDF-8745 warning was incorrectly issued.
     * dvt73170 - (results) When a specify path, with a destination port
       driven by a Verilog "reg" variable, was annotated SDF RETAIN delays
       and vsim options +vlog_retain_on, +vlog_retain_same2same_on and
       -voptargs="+acc" were specified, vsim crashed.
     * dvt73542 - (results) Gate-level optimized cells with cascading
       sequential udps may under some conditions not evaluate correctly.
     * dvt74257 - (results) Using the associative array method 'exists'
       with a wildcard array inside a parameterized class, or through an
       external reference, could result in an incorrect 'false' result.
     * dvt71774 - (results) A simulation invoked with an elab or a
       checkpoint file from 3-step flow (with SDF file specified to vopt),
       would not reload SDF on "restart -f".
     * dvt74219 - (results) Calling a builtin queue or associative array
       method on an out-of-bounds array element could result in a
       non-useful error. We now print a warning, and ignore the operation.
     * [nodvtid] - (results) Command line force did not support string
       types. This is now fixed.
     * [nodvtid] - (results) The VPI object model has been more fully
       implemented, with additional queries on class typespecs and a few
       other types now working.
     * dvt68123 - (results) Improved handling of randomize() timeouts.
       Specify solver timeout threshold (in seconds) using any of the
       following methods: - vsim command line option: "-solvetimeout " -
       modelsim.ini [vsim] variable: "SolveTimeout=" - Verilog attribute:
       "solvetimeout=" A randomize() call will fail if the CPU time
       required to evaluate any randset exceeds the specified timeout. The
       default value is 500. A value of 0 will disable timeout failures.
     * dvt69371 - (results) Made the vlog error 2745 suppressible. This is
       an enhancement to support the following non-LRM behaviour.
class A#(parameter type T = int);
  int i = 1;
endclass

module top();
  initial begin
   $display("i = %d" , A::i); // This is an error w.r.t. LRM . This change suppr
esses the error and allows it
  end
endmodule

   VHDL Compatibility
     * dvt73471 - (source) Symbols defined only in the body of an
       uninstantiated package were accessible to other design units either
       through a USE clause or explicit scope identification. Customer
       designs that previously took advantage of this error, referencing
       symbols defined only in package bodies, need to be changed to
       either remove the offending references, or move the declarations of
       the symbols to their uninstantiated package headers.

   SVA/PSL Compatibility
     * dvt70597 - (source, results) Multiple issues and crashes with
       $display/$sformatf/$error/$warning were fixed. A new switch
       -svext=[+|-]expdfmt has been added. This is off by default. When
       turned on, it leads to the following:
       1) Format specifiers in string variables, passed to $display will
       be interpreted as format specifiers and not normal strings. For
       example for the following snippet:
       string s1 = "%d";
       initial
       $display(s1, 40);
       The output would be :
       #40
       Instead of:
       #%d 40
       2) For $sformatf, arguments outnumbering the number of format
       specifiers will be appended to the return string
       For example, for the following function call:
       $sformatf("%d", 40,40);
       The return string will be:"40 40" instead of "40" as before.
     * dvt74394 - (results) When SVA accept_on/sync_accept_on expression
       is true it will result in real passes (instead of vacuous passes).
       Pass action blocks are rare but if an assertion using these
       properties has a pass action block then this action block will be
       triggered with this change.

   Mixed Language Compatibility
     * dvt72760 - (results) In a mixed language design with a verilog
       switch network the extended VCD output for a VHDL signal was not
       calculated properly.

   Coverage Compatibility
     * dvt70536 - (results) In some cases, verilog foreach construct shows
       invalid branches in coverage report.Fixed them.
     * dvt75045 - (results) REC coverage shows different hit counts for
       rows with same input patterns. This happens for expressions
       involving ternary operators and when vopt is run with coveropt 1.It
       has been fixed now.
     * dvt63793 - (results) Coverage pragma exclusion (fine grain as well
       as simple //coverage off ) wasn't working for exclusion of branches
       from ternary expressions. Fixed them.
     * dvt74258 - (results) The -uvmtestname and -ovmtestname options are
       added in vsim to use +UVM_TESTNAME and +OVM_TESTNAME names in
       coverstore testnames and data file names. Specified SV seed values
       are also added in coverstore test names and data file names by
       default.
     * dvt75139 - (results) Covered bins, missing bins, total bins, and "%
       Hit" are added in covergroup text report for covergroup TYPEs and
       covergroup instances. Those are also added for TYPE coverpoints and
       crosses in covergroups having merge_instances=0. The "% Hit" number
       is also added for all coverpoints and crosses.

   Verification Management Compatibility
     * dvt74716 - (results)
The assert scope requires some special case processing to compute "total coverag
e" for an assertion:
    If an assertion has both pass and fail counts
        It is 100% if pass count > 0 and fail count == 0
    else if it has only fail count:
        It is 100% if fail count == 0

The UCDB_ASSERT_SUCCESS_INST element of the summary record represents this perce
ntage.

The ranktest tool will use and report the 'UCDB_ASSERT_SUCCESS_INST' metric (whe
n possible). If there is any assertion failure in any test, it is a bug/problem
that must be addressed by the user.

Until ranktest detects a test that has an assertion failure:
 1. Ranktest will use the "%success metric" like the rest of our reporting tools
.
 2. The ranktest "total coverage" number will agree with the "total coverage" nu
mber our reporting tools.
 3. The "%success" metric will be reported in the "Assertions" column.

After ranktest detects a test that has an assertion failure:
 1. Ranktest will ignore the "%success" metric in its calculations.
 2. The ranktest "total coverage" number will NOT agree with the "total coverage
" number our reporting tools.
 3. A "-" will be reported in the "Assertions" column.
 4. A warning message similar to the following will be issued:

** Warning: (vcover-17208) One or more tests contain "assertion failures".
Ranktest will not include "assertion successes" in its ranking metric
calculations (i.e. "assertion successes" will be weighted as 0).

As a consequence, the ranking total coverage metric may be different from the to
tal coverage numbers of other Questa GUI and CLI tools. The reason for this alte
ration is that the "%success" metric is now exhibiting a NON-monotonically incre
asing behavior and can no longer be used in the ranktest "greedy" algorithm. Ran
ktest will NOT use the "assertion pass" metric in any way (neither with nor with
out assertion failures).
     * dvt75521 - (results) Fixed a defect that caused statement coverage
       to be skipped when statement coverage was explicitly selected along
       with other coverage types. This effect many of the "coverage ..."
       command supporting the "-code ..." argument. EXAMPLE ARGUMENT:
       "-code st".
     * [nodvtid] - (results) Previously, there was a switch in the HTML
       report command called "-duonly". Using this switch, the report will
       include DUs information and suppress anything else. Now this switch
       is deprecated. From now on, when using this switch, the switch will
       be ignored with a warning message, but the report be generated
       normally (without suppressing any thing). Notice that the user can
       obtain the same effect of "-duonly" but when using another group of
       switches, those are; "-noinstance" and "-notestplan". Using those
       two switches together has the same of effect of the old switch
       "-duonly".
     * [nodvtid] - (results) We have a switch in the HTML report
       generation command called "-instance ". Previously, using this
       switch will suppress all information form the HTML report except
       information related to the specified instance. In 10.4 we have
       changed the behavior of this switch. Now, this switch will suppress
       information related to all instances except the specified instance,
       but other information related to DUs and the testplan will be
       generated normally. Notice that the user can still have the same
       effect of the old "-instance " but when using additional two
       switches; "-nodu" and "-notestplan".

   User Interface Compatibility
     * [nodvtid] - (results) A new feature called VHDL Access Path
       Expressions has been introduced which provides improved visibility
       and a more intuitive way of viewing VHDL access variables and
       objects in the Wave Window. Some of the features of vhdl access
       path expressions are:
          + More descriptive pointer values. Values are Dynamic Object
            Identifiers instead of hexadecimal memory address.
          + Access references may be expanded in place in the wave window
            rather than having to inspect individual access objects one by
            one.
          + Ability to add access_var.all to see dereferenced object
            values.
          + Ability to "cast" unconstrained arrays to constrained array
            type.
          + The [accessinfo] command gives metrix and reports about access
            object usage.
          + Enabled with -accessobjdebug switch or AccessObjDebug
            modelsim.ini variable setting.

   Release Announcements Compatibility
     * [nodvtid] - (source) The inFactSv package has changed, so designs
       that use it must be recompiled in Questa 10.4a.
   _______________________________________________________________________

   General Defects Repaired in 10.4a
     * dvt73936 - In some situations on Windows, the modelsim.ini file is
       not found by the tools vmap, vdir, vsim, etc.
   _______________________________________________________________________

   User Interface Defects Repaired in 10.4a
     * dvt74014 - A malformed [add wave] command can cause the UI to
       crash.
     * dvt74038 - A user defined keyboard short-cut bound to the
       Simulate->Step->Step commands, or any other global menu operations
       do not work. This has been resolved.
     * dvt74187 - The wrong instance scope will sometimes be used when
       displaying a signals declaration in the Source window from the Wave
       window.
     * dvt74126 - In Questa, the "change" command could crash or
       incorrectly ignore ".super" psuedo scope. This has been corrected.
     * dvt29745 - Using the Library window popup menu to invoke Simulate
       (start a simulation) will sometimes produce an error message and
       fail to launch the simulation. This occurs after performing a
       design optimization from the Library window.
     * dvt74813 - Mouse Middle Button zoom-out stroke does not work in
       Wave window when the waveform view starts at 0.
     * [nodvtid] - The "Filter Waveform..." dialog has been improved. The
       old dialog caused confusion and unintended usage errors.
   _______________________________________________________________________

   SystemVerilog Defects Repaired in 10.4a
     * [nodvtid] - vlog will now compile all code in the $unit scope of a
       file even if that SV code is not directly referenced.
     * dvt62351 - Fixed issues which resulted in vlog/vopt crash when
       structure field-select hierarchical references and nets were used
       as streaming concat element on LHS of assignments. Added support
       for structure filed-select hierarchical references and added error
       checks for nets as streaming concat elements on LHS of assignments.
     * dvt72102 - Error vsim-3043 is now a non-suppressible error. Created
       a new error suppressible 12036 for the Bind to a non-existent
       module.
     * dvt72524 - Fixed a bug where parameter inside super class was not
       found while resolving hierref in bind statement.
     * dvt73252 - (results) When the default specify path delay values
       were smaller than the annotated SDF RETAIN delay values,
       vsim-SDF-8745 warning was incorrectly issued.
     * dvt73170 - (results) When a specify path, with a destination port
       driven by a Verilog "reg" variable, was annotated SDF RETAIN delays
       and vsim options +vlog_retain_on, +vlog_retain_same2same_on and
       -voptargs="+acc" were specified, vsim crashed.
     * dvt72458 - Fixed a bug where usage of %% in the message string in
       severity system tasks was resulting in some random data in the
       message.
     * dvt72342 - Fixed a bug where usage of a parameter of data type in
       severity system tasks was causing compiler to give internal error.
     * dvt73542 - (results) Gate-level optimized cells with cascading
       sequential udps may under some conditions not evaluate correctly.
     * dvt73581 - Fixed a bug (internal error) when parameter is used as
       queue index.
     * dvt73209 - Starting in the 10.3b release, vopt would sometimes
       generate the error:
       ** Error: test.sv(2246): Questa has encountered an unexpected
       internal error
     * dvt63470 - Vsim memory size would grow significantly after
       'restart' commands in designs with large SystemVerilog packages.
     * dvt69941 - Vopt would sometimes give incorrect errors like:
       ** Error: test.sv(24): (vopt-2118) The function 'f' is not a valid
       constant function.
       ** Error: test.sv(764): Initializer must be a constant value or
       constant expression.
       when the 'bind' statement was used to instantiate a SystemVerilog
       module into a Verilog target.
     * dvt73431 - Fixed a bug where compiler was crashing in initializing
       a clocking block variable which was an array of struct type.
     * dvt74082 - "const ref" formal argument usage in covergroup sample
       override function was triggering a compiler error. This is now
       allowed.
     * dvt74257 - (results) Using the associative array method 'exists'
       with a wildcard array inside a parameterized class, or through an
       external reference, could result in an incorrect 'false' result.
     * dvt74214 - Fixed a crash in a DPI import call caused by using class
       member fields as the actual arguments of unsized packed open array.
     * dvt72245 - Fixed a vopt internal error when an external decl is
       used in a parameterized class.
     * dvt73554 - In some scenarios we were not giving vsim error when
       using bit select of scalar variable through external declaration.
       For example if we declare logic "abc" in module "top", then
       "top.abc[0]" should result in error. Now a suppressible error is
       issued for these cases.
     * dvt71774 - (results) A simulation invoked with an elab or a
       checkpoint file from 3-step flow (with SDF file specified to vopt),
       would not reload SDF on "restart -f".
     * dvt74546 - Added a suppressible error message to inform users that
       binding a checker is not supported in novopt mode.
     * dvt74468 - The implied @* sensitivity should exclude variables
       referenced within a sequential delay.
     * dvt74322 - Fixed a crash when mismatch number of arguments are
       passed in task call.
     * dvt74866 - Fixed a bug when an assign is used on array through
       hier-ref.
     * dvt73310 - Traversing individual words of large SV memories using
       vpi_iterate/vpi_scan functions caused huge memory usage.
     * dvt74219 - (results) Calling a builtin queue or associative array
       method on an out-of-bounds array element could result in a
       non-useful error. We now print a warning, and ignore the operation.
     * [nodvtid] - (results) Command line force did not support string
       types. This is now fixed.
     * [nodvtid] - (results) The VPI object model has been more fully
       implemented, with additional queries on class typespecs and a few
       other types now working.
     * dvt75136 - Fixed a bug where sometimes zero delay output of a
       clocking block was not getting assigned to the outside variable if
       it changed after RENBA region.
     * dvt68524 - Fixed a bug where vopt/vlog are crashing due to a
       function call inside unelaborated generate. This was happening in
       few cases when the used function is defined after generate.
     * dvt75574 - Fix a crash in vsim when a literal 0 is passed to the
       port in a module instantiation that is expecting an interface.
     * dvt75146 - Fix a virtual interface related error in vsim when a
       modport is passed in a function.
     * dvt75221 - Fix a vopt crash when error 7030 is downgraded to
       warning.
     * dvt67917 - Report an error when an inout port having variable index
       is passed to a module. For example passing a[i] to module bot (bot
       b1(a[i])) where i is a variable.
     * dvt74398 - Corrected the display of hierarchical name in case of
       tagged union.
     * dvt75604 - Fix a vlog crash while using bitwise XOR on an array
       whose bit select is $urandom_range(). Example:-
       check[$urandom_range(3,0)][$urandom_range(9,0)]^=1'b1; where check
       is defined as "bit [9:0] check [3:0];"
     * dvt75258 - Fixed a vopt crash when bind statement is used inside an
       generate which is further inside an interface.
     * dvt75568 - Fixed a bug where clocking block with clocking event
       with iff condition was causing a crash sometimes.
     * dvt71351 - Fixed a bug where vsim was failing to lookup an inner
       nested class inside a parameterised outer class
     * dvt75044 - A parametric interface referenced as a virtual interface
       could issue invalid errors in vopt for generate scopes that were
       not live.
     * dvt75895 - Vopt used to report following internal error for few of
       the cases involving parameters and parameterized types. This is now
       fixed. ** Error: test.sv(1): Questa has encountered an unexpected
       internal error: ../../src/vlog/vtree_dt2.c(1645). Please contact
       Questa support at http://supportnet.mentor.com/
     * dvt76214 - Fixed an issue where non-blocking assignments to the
       inputs of clocking blocks were not getting flagged in some cases,
       resulting in occasional crash of the tool. Now, an error message is
       generated for such a case. The error number is 8440.
   _______________________________________________________________________

   VHDL Defects Repaired in 10.4a
     * dvt72793 - A PROCESS(ALL) statement in which the ALL represents no
       signals would result in the process having no termination (infinite
       loop).
     * dvt71423 - Fixed an issue related to recursive instance having
       generate loops further having VHDL or Verilog instances. In these
       cases we either get errors like 'code not found' in vsim or 'failed
       to access library' or 'unable to load design unit' during vopt.
     * dvt73051 - Fixed elaboration crash with subelement association. The
       formal must be an element or subelement of a multidimensional port
       and the actually a 2008 signal expression.
     * dvt72382 - Optimized mode was not reporting multiply driven
       unresolved signals in rare instances of driving package signals.
     * [nodvtid] - Aggregates of signals in subprograms, either as
       parameters to other subprogram, or as targets of signal assignments
       could cause a crash if the aggregate contained both parameters and
       non-parameter signals.
     * dvt73471 - (source) Symbols defined only in the body of an
       uninstantiated package were accessible to other design units either
       through a USE clause or explicit scope identification. Customer
       designs that previously took advantage of this error, referencing
       symbols defined only in package bodies, need to be changed to
       either remove the offending references, or move the declarations of
       the symbols to their uninstantiated package headers.
     * dvt74036 - vopt would crash if an object from an instance of a
       generic package was used within a configuration.
     * dvt74124 - Vcom could fail with an internal error when a port map
       statement is present on a block
     * dvt74313 - If an attribute that returned a range is used as the
       expression to a return statement, incorrect machine code could be
       generated. A range is not a valid return value and is now flagged
       as an error a compile time.
     * dvt63309 - In some cases vopt would generate a unexpected message
       about null ranges. Like:
       # ** Warning: [3] test.vhd(3): (vopt-1246) Range 1 to 0 is null.
       The number of these messages have been greatly reduced.
     * [nodvtid] - Logging of composite type variables with embedded
       access type subelements would sometimes not detect and record
       changes to those subelements.
     * dvt75643 - Performance of designs that perform many file open/close
       operations could degrade significantly when transitioning from any
       version prior to 10.4 to 10.4. File open/close processing has been
       improved to eliminate this degradation.
     * dvt75836 - Compilation of VHDL source code would generate temporary
       data in a flat library causing it to grow without bound. The
       temporary data is now cleaned up at the end of every compile.
     * dvt71451 - Predefined attribute A'ELEMENT could not have as its
       prefix a function call. The LRM is not clear on this since A must
       be either an array type name or appropriate for an array object,
       and a function call is neither. But because other attributes like
       A'RANGE where A is a function call are handled as legal, the
       A'ELEMENT attribute now also allows this. Further, as a
       non-compliant extension of the language O'SUBTYPE may also have O
       be a function call.
     * dvt74123 - In a subprogram appearing in a protected type body,
       another subprogram call with a named association element for a
       formal having the same name as a data member of the protected type
       would cause a compiler error. This is now fixed.
     * dvt73707 - Individual association involving a multidimensional
       array type formal whose index subtypes are enumeration types would
       not compile. This has been fixed.
     * dvt74843 - The compiler would hang if it encountered a VHDL error
       involving a type declaration of an array type whose element subtype
       is an incomplete type of the same name as the array type itself.
   _______________________________________________________________________

   SystemC Defects Repaired in 10.4a
     * dvt75314 - scparse compilation error with conversion function
       templates whose destination type is a reference to a complete
       abstract class as been fixed.
   _______________________________________________________________________

   SVA/PSL Defects Repaired in 10.4a
     * dvt71588 - Fixed a bug where attempt counts for procedural
       assertions were not correctly reported.
     * dvt73226 - Fixed a bug where failure of a cover directive was
       getting considered as an assertion failure in assertdebug mode for
       figuring out if global fail limit for the assertions has reached.
       The global fail limit for the assertions is set using command
       'assertion action -global_fail_limit'.
     * dvt74049 - ATV window showed 'disable iff' for
       'accept_on/reject_on' properties.
     * dvt74471 - SVA sequence 'or' with a boolean RHS gave incorrect
       result.
     * dvt74318 - vsim ran out of memory when a repeat operator was over a
       sequence using local vars.
     * dvt74394 - (results) When SVA accept_on/sync_accept_on expression
       is true it will result in real passes (instead of vacuous passes).
       Pass action blocks are rare but if an assertion using these
       properties has a pass action block then this action block will be
       triggered with this change.
     * dvt70597 - (source, results) Multiple issues and crashes with
       $display/$sformatf/$error/$warning were fixed. A new switch
       -svext=[+|-]expdfmt has been added. This is off by default. When
       turned on, it leads to the following:
       1) Format specifiers in string variables, passed to $display will
       be interpreted as format specifiers and not normal strings. For
       example for the following snippet:
       string s1 = "%d";
       initial
       $display(s1, 40);
       The output would be :
       #40
       Instead of:
       #%d 40
       2) For $sformatf, arguments outnumbering the number of format
       specifiers will be appended to the return string
       For example, for the following function call:
       $sformatf("%d", 40,40);
       The return string will be:"40 40" instead of "40" as before.
     * dvt76087 - Non-zero assertion attempt count was reported even when
       the design had $assertoff for the entire simulation.
   _______________________________________________________________________

   Mixed Language Defects Repaired in 10.4a
     * dvt72760 - (results) In a mixed language design with a verilog
       switch network the extended VCD output for a VHDL signal was not
       calculated properly.
   _______________________________________________________________________

   Verification Management Defects Repaired in 10.4a
     * dvt72970 - Fixed bug that would prevent vsim GUI from being
       displayed when launched from the VRM GUI when vrun was running on a
       grid server.
     * dvt71582 - The keywords passed to the vrun "-select" option are now
       case insensitive. Unrecognized keywords result in an error which
       prevents a regression run from starting (as opposed to a warning
       that the offending keyword is being ignored).
     * [nodvtid] - In VRM, fixed a parameter search-order bug where
       pre-defined parameters or inherited foreach indices could shadow a
       more locally defined parameter of the same name.
     * [nodvtid] - In VRM, fixed bug with looking up RMDB parameters from
       the GUI that caused some menu items to remain disabled.
     * dvt74238 - In VRM, suppress status summaries when all of the counts
       in a particular summary would be zero.
     * dvt75204 - Fixed bug in VRM GUI where top-level Runnables with a
       repeating attribute (ie: repeat or foreach) would not be expanded.
     * [nodvtid] - Fixed bug in VRM GUI where <runnable>.ITERATION was not
       being defined for repeating Runnables.
     * dvt74716 - (results)
The assert scope requires some special case processing to compute "total coverag
e" for an assertion:
    If an assertion has both pass and fail counts
        It is 100% if pass count > 0 and fail count == 0
    else if it has only fail count:
        It is 100% if fail count == 0

The UCDB_ASSERT_SUCCESS_INST element of the summary record represents this perce
ntage.

The ranktest tool will use and report the 'UCDB_ASSERT_SUCCESS_INST' metric (whe
n possible). If there is any assertion failure in any test, it is a bug/problem
that must be addressed by the user.

Until ranktest detects a test that has an assertion failure:
 1. Ranktest will use the "%success metric" like the rest of our reporting tools
.
 2. The ranktest "total coverage" number will agree with the "total coverage" nu
mber our reporting tools.
 3. The "%success" metric will be reported in the "Assertions" column.

After ranktest detects a test that has an assertion failure:
 1. Ranktest will ignore the "%success" metric in its calculations.
 2. The ranktest "total coverage" number will NOT agree with the "total coverage
" number our reporting tools.
 3. A "-" will be reported in the "Assertions" column.
 4. A warning message similar to the following will be issued:

** Warning: (vcover-17208) One or more tests contain "assertion failures".
Ranktest will not include "assertion successes" in its ranking metric
calculations (i.e. "assertion successes" will be weighted as 0).

As a consequence, the ranking total coverage metric may be different from the to
tal coverage numbers of other Questa GUI and CLI tools. The reason for this alte
ration is that the "%success" metric is now exhibiting a NON-monotonically incre
asing behavior and can no longer be used in the ranktest "greedy" algorithm. Ran
ktest will NOT use the "assertion pass" metric in any way (neither with nor with
out assertion failures).
     * [nodvtid] - Fixed bug where expanding an RMDB in the VRM GUI
       sometimes resulted in an error.
     * [nodvtid] - Fixed two bugs in VRM GUI:
         1. Parameter named in "index" attribute was not being properly
            defined, and
         2. The "file" attribute of the "usertcl" element was not being
            parameter expanded.
     * [nodvtid] - Fixed bug in VRM GUI where mergefile and triagefile
       paths were not treated as relative to VRMDATA by default.
     * [nodvtid] - The "View" menus which display test/merged coverage and
       Results Analysis now work correctly in the VRM History viewer.
     * dvt75521 - (results) Fixed a defect that caused statement coverage
       to be skipped when statement coverage was explicitly selected along
       with other coverage types. This effect many of the "coverage ..."
       command supporting the "-code ..." argument. EXAMPLE ARGUMENT:
       "-code st".
   _______________________________________________________________________

   Power Aware Defects Repaired in 10.4a
     * dvt73150 - In some cases, vopt used to crash during PA processing
       when SystemVerilog ++ operator is used. This has been fixed.
     * dvt73202 - In certain cases, Non UPF LRM usage of type
       "top/gen[*].mid/bot" in upf commands (like create_power_domain
       -elements) was resulting in a crash. This has been fixed now.
     * dvt72296 - The vopt used to hang in PA processing in doing analysis
       for static checks when add_power_state was used in UPF. This has
       been fixed by new algorithm to convert power states to
       corresponding PST states. This is enabled by vopt option
       -pa_enable=pwrstatecnv.
     * dvt72971 - In some cases, port punching semantics of UPF supply
       port/net are not happening while generating UPF file from save_upf.
       This has been fixed.
     * dvt74664 - The result of find_objects command is now dumped in a
       file specified with vopt option -pa_dbgfindobj=filename.txt
   _______________________________________________________________________

   WLF and VCD logging Defects Repaired in 10.4a
     * dvt65590 - The wlfman filter command could produce incorrect
       results when filtering Verilog nets that shared bits with other
       Verilog nets.
     * dvt75538 - Using the -wlftlim or -wlfslim switches to control the
       size of the WLF file could result in the wave and list displays not
       being updated correctly following a simulation run. The data in the
       WLF file was correct, but the windows would get confused by missed
       communications from the simulation kernel. The problem has been
       fixed.
   _______________________________________________________________________

   General Enhancements in 10.4a
     * dvt73792 -
       1. The vsim "checkpoint" command now accepts a file or a directory
       as the pathname.
       Syntax:
       checkpoint [-dir] <pathname>
       The following are the two valid scenarios for specifying a
       directory as the <pathname>. In both these cases a checkpoint file
       named 'vsim.cpt' is created in the specified directory.
          + - The "-dir" option is specified with the <pathname>. If the
            directory doesn't exist then a new one is created.
          + - The "-dir" option is not specified with the <pathname> but
            it represents a pre-exisiting directory.
       It is an error if "-dir" is specified but the <pathname> represents
       a regular file.
       2. vsim's "restore" CLI command and the command line switch
       "-restore" now accept a file or a directory as the pathname. (The
       syntax has not changed, only the semantics).
       Syntax:
       restore <pathname>

     * - If the <pathname> represents a pre-exisiting directory, then a
       checkpoint file named 'vsim.cpt' must exist in the specified
       directory.
     * - Otherwise the <pathname> must represent a checkpoint file.

   3. When the checkpoint is represented by a directory the following new
   function, declared in "mti.h" file, returns that directory name.
   extern char * mti_GetCheckpointDirname PROTO((void));
   _______________________________________________________________________

   User Interface Enhancements in 10.4a
     * dvt31878 - The Wave window font can now be configured independently
       from the other windows. Open the Edit Preferences dialog box and
       choose "waveFont".
     * dvt10305 - The [add log], [add wave] and [add list] commands have
       the new -filter and -nofilter switches to allow a one-time
       modification of the WildcardFilter in the command invocation. The
       commands can take as many [-filter <f>] and [-nofilter <f>]
       arguments as the user would like to specify. The valid filters are
       exactly the same set of words that can be applied to the
       WildcardFilter. The filter used during a command starts with the
       WildcardFilter and then applies the user specified filters, if any.
       The -filter values are added to the filter, the -nofilter values
       are removed from the filter. They are applied in the order
       specified so conflicts are resolved with the last specified wins.
     * [nodvtid] - (results) A new feature called VHDL Access Path
       Expressions has been introduced which provides improved visibility
       and a more intuitive way of viewing VHDL access variables and
       objects in the Wave Window. Some of the features of vhdl access
       path expressions are:
          + More descriptive pointer values. Values are Dynamic Object
            Identifiers instead of hexadecimal memory address.
          + Access references may be expanded in place in the wave window
            rather than having to inspect individual access objects one by
            one.
          + Ability to add access_var.all to see dereferenced object
            values.
          + Ability to "cast" unconstrained arrays to constrained array
            type.
          + The [accessinfo] command gives metrix and reports about access
            object usage.
          + Enabled with -accessobjdebug switch or AccessObjDebug
            modelsim.ini variable setting.
     * [nodvtid] - The SystemVerilog interface class is now supported by
       the classinfo command. Two new subcommands have been added:
       implements and interfaces; the instances subcommand has been
       enhanced as well. See the Questa Command Reference Manual for more
       details.
       The examples below use this small design:
module test8;
  interface class M;  endclass
  interface class N;  endclass
  interface class X extends M, N; endclass
  interface class Y extends M;  endclass

  class A implements M; endclass
  class B extends A implements X; endclass
  class C1 extends B implements Y; endclass
  class C2 extends B; endclass
endmodule

classinfo implements [-dataset <ds>] [-tcl] [-n] [-o <outfile>] <class>

       The output is a listing of which SV classes implement which SV
       interface classes. If the <class> argument is an SV class, the
       output indicates which interface classes that class implements. If
       the <class> argument is an SV interface class, the output indicates
       which classes implement that interface class.
> classinfo implements M
# /test8/A implements /test8/M
# /test8/B implements /test8/M
# /test8/C1 implements /test8/M
# /test8/C2 implements /test8/M

> classinfo implements A
# /test8/A implements /test8/M

> classinfo implements B
# /test8/B implements /test8/M
# /test8/B implements /test8/N
# /test8/B implements /test8/X


classinfo interfaces [-dataset <ds>] [-tcl] [-o <outfile>] <interface_class_type
>


This command is similar to classinfo types.  The
<interface_class_type> argument is optional; if omitted, all interface
classes are be shown.  For example:


> classinfo interfaces
# /test8/M
# /test8/N
# /test8/X
# /test8/Y

> classinfo types
# /std::semaphore
# /test8/A
# /test8/B
# /test8/C1
# /test8/C2


classinfo instances [-dataset <ds>] [-tcl] [-o <outfile>] [-verbose] <class_type
>

       If <class_type> is an interface class, the output is all instances
       that implement that interface class. A new argument (-verbose) is
       available; if specified, the classname is included in the output
       with the instance name. For example:
classinfo instances -verbose M
# @A@1 /test8/A
# @B@1 /test8/B

classinfo instances -verbose A
# @A@1 /test8/A

       vs.
classinfo instances M
# @A@1
# @B@1

classinfo instances A
# @A@1
   _______________________________________________________________________

   SystemVerilog Enhancements in 10.4a
     * dvt69162 - Comparison of packed data types and null is now allowed
       with option "-permissive" or "-suppress 2735. Given that packed
       data type used is not a parametrized type or hierarchical
       references.
     * dvt68872 - The -mfcu option is now supported when using -libmap.
     * dvt35312 - (source, results) The following new non-standard string
       methods will be supported:
       1) match() : Returns 1 if a specified regex pattern is found in the
       string,else returns 0.
       2) search() : This function searches for the specified pattern in
       the string and returns the integer index to the beginning of the
       pattern.
       3) prematch() : This function returns the string before the matched
       pattern, based on the last call to match().
       4) postmatch() : This function returns the string after the matched
       pattern, based on the last call to match().
       5) thismatch() : This function returns the matched string, based on
       the last call to match().
       6) backref() : This function returns matched patterns,based on the
       index specified, starting from 0. The indices correspond to the
       sequence of parenthesis specified in the pattern, i.e., 0
       corresponds to the first set of round parenthesis encountered in
       the pattern from left to right, 1 to the second, and so on.
       Since these are non-standard functions, error will be generated if
       -pedanticerrors is used for compilation.
       All regexes will use perl pattern syntax.
     * [nodvtid] - String literals that begin and end with `" (tick
       double-quote) are now represented using only " (double-quote)
       characters in vlog's -E output.
     * dvt74010 - The existing vsim switch "-nocrossautobins" is enhanced
       to handle a new alternate behavior:
       -nocrossautobins[=[uncond|cond]] Avoid generating auto bins in
       cross coverage computation.", when the value "cond" is specified,
       the auto cross bins are not generated only if there are one or many
       coverable user defined cross bins. when the value "uncond" is
       specified, the auto cross bins generation will be always skipped.
     * dvt73791 - plusargs(+) vsim argument values can now be overridden
       in -restore mode, and will take effect when simulation resumes
       after restoring the design.
     * dvt74612 - Added a new option 'iddp' to vsim -svext switch. vsim
       -svext=iddp can be used to ignore DPI disable protocol check. For
       example, the following fatal error will be downgraded to a
       suppressible warning. ** Fatal: (vsim-3765) The exported task or
       function 'block20' has been called from within a disabled context.
       This is illegal.
     * dvt68123 - (results) Improved handling of randomize() timeouts.
       Specify solver timeout threshold (in seconds) using any of the
       following methods: - vsim command line option: "-solvetimeout " -
       modelsim.ini [vsim] variable: "SolveTimeout=" - Verilog attribute:
       "solvetimeout=" A randomize() call will fail if the CPU time
       required to evaluate any randset exceeds the specified timeout. The
       default value is 500. A value of 0 will disable timeout failures.
     * dvt69371 - (results) Made the vlog error 2745 suppressible. This is
       an enhancement to support the following non-LRM behaviour.
class A#(parameter type T = int);
  int i = 1;
endclass

module top();
  initial begin
   $display("i = %d" , A::i); // This is an error w.r.t. LRM . This change suppr
esses the error and allows it
  end
endmodule
   _______________________________________________________________________

   VHDL Enhancements in 10.4a
     * dvt74960 - The message indicating -64 or -32 has no effect has been
       made to only appear when the switch indeed has no effect, and it
       has been added to the cataloged message system. Furthermore, on
       Windows where the option is not available, a catalog message comes
       out indicating so.
   _______________________________________________________________________

   SystemC Enhancements in 10.4a
     * dvt75791 - Existing vsim switch -undefsyms is extended to vopt.
   _______________________________________________________________________

   SVA/PSL Enhancements in 10.4a
     * dvt73161 - Vsim crashed during elaboration when using -nosva
       switch.
     * dvt73467 - Assertion waveform incorrectly showed start attempt at
       every clock edge for 'if..else..' property in some cases when run
       with -assertdebug.
     * dvt73468 - Added support for setting actions for global fail limits
       based on severity of assertions. The command to be used to set the
       limits is 'assertion action' with -severity option.
   _______________________________________________________________________

   Coverage Enhancements in 10.4a
     * dvt74426 - Added a new vsim switch to enable covergroup runtime
       optimizations.

-cvgopt[=[+|-]<mode>[,[+|-]<mode>]*]

Enable Covergroup optimization modes. Valid modes are:

    minhitcnt - stop sampling coverpoint/cross when it is fully covered.

     * dvt73740 - Added a new vsim switch to avoid the coverage collection
       of the coverpoint implicitly defined in a cross. By default the
       coverage of implicit coverpoints are always collected per LRM.

-noimplicitcoverpoint   Avoid collecting coverage for implicit coverpoints.


     * dvt74258 - (results) The -uvmtestname and -ovmtestname options are
       added in vsim to use +UVM_TESTNAME and +OVM_TESTNAME names in
       coverstore testnames and data file names. Specified SV seed values
       are also added in coverstore test names and data file names by
       default.
     * [nodvtid] - New 'vcover parallelmerge' command has been added for
       UCDB and CoverStore database merge with distributed parallel
       processes.
       vcover parallelmerge [< options >]
       Options:
           -rmdb < path >                 : Specify user-defined RMDB file
           -runmode < local/rsh/lsf/sge > : Specify type of run mode (Default: l
ocal)
           -covmode < ucdb/covstore >     : Specify type of coverage database (D
efault: ucdb)
           -filelist < filepath >         : Specify file list name and path (Def
ault: $cwd/parallellist)
           -genlist                       : Generate file list from $cwd or $cwd
/CoverStore db location
           -genlistfrom < path_or_list >  : Generate file list from given db loc
ation(s)
           -ucdbname < pattern >          : Specify UCDB file pattern to search
(Default: *.ucdb)
           -outname < name >              : Specify merged output file name pref
ix (Default: merge)
           -teststatus < all/passed/failed >
                                          : Merge tests only with specified stat
us (Default: all)
           -mergetype < totals/testassociated/preservetestcounts >
                                          : Specify merge type (Default: totals)
           -mergeopts < options >         : Specify other merge options (Default
: "")
           -j < val >                     : Specify number of parallel merge job
s (Default: 10)
           -mtimeout < val >              : Specify merge timeout value (Default
: 10000)
           -hostlist < list_or_file >     : Specify list of hosts or file contai
ning host list (Default: "")
           -gridslots < val >             : Specify number of grid slots to use
(Default: 10)
           -gridopts < options >          : Specify grid options (Default: "")
           -qtimeout < val >              : Specify queue timeout value (Default
: 10000)
           -verbose                       : Print additional verbose information

     * dvt65076 -
Introducing CLI and prgama based exclusion for same state transitions.
To exclude same state transition of s1 and s2 i.e. s1->s1 and s2->s2
Pragma=> // coverage fsm_off -fsamestate cst s1 s2
CLI => coverage exclude -du top -fsamestate cst s1 s2
To exclude all same state transition:
Pragma=>  // coverage fsm_off -fsamestate cst
CLI => coverage exclude -du top -fsamestate cst
     * dvt75139 - (results) Covered bins, missing bins, total bins, and "%
       Hit" are added in covergroup text report for covergroup TYPEs and
       covergroup instances. Those are also added for TYPE coverpoints and
       crosses in covergroups having merge_instances=0. The "% Hit" number
       is also added for all coverpoints and crosses.
   _______________________________________________________________________

   Verification Management Enhancements in 10.4a
     * dvt70813 - Previously, whenever you generate HTML report from a
       UCDB. There will be page for each test run included in the UCDB. As
       we are trying to reduce the size of the default report as much as
       we can, All these pages will be suppressed. To generate these
       pages, you need to use the switch -testlist
     * dvt70815 - Previously, excluded information included by default in
       the HTML report. Now, we have decided to suppress all excluded
       information by default, and we have introduced a new switch
       -showexcluded to include excluded information in the report.
     * dvt71046 - We have introduced a new switch that can be used while
       generating the HTML report, it is "-du ". This switch enables the
       user to; Suppress all DUs information except the specified DU.
       Notice that this switch will not suppress any other information
       other than DUs information. In other words, all instances and all
       testplan sections will be reported normally.
     * dvt71432 - In the HTML report, we have introduced a new swtich;
       "-noinstance". This switch will suppress all instances from
       appearing in the HTML report.
     * [nodvtid] - (results) Previously, there was a switch in the HTML
       report command called "-duonly". Using this switch, the report will
       include DUs information and suppress anything else. Now this switch
       is deprecated. From now on, when using this switch, the switch will
       be ignored with a warning message, but the report be generated
       normally (without suppressing any thing). Notice that the user can
       obtain the same effect of "-duonly" but when using another group of
       switches, those are; "-noinstance" and "-notestplan". Using those
       two switches together has the same of effect of the old switch
       "-duonly".
     * [nodvtid] - (results) We have a switch in the HTML report
       generation command called "-instance ". Previously, using this
       switch will suppress all information form the HTML report except
       information related to the specified instance. In 10.4 we have
       changed the behavior of this switch. Now, this switch will suppress
       information related to all instances except the specified instance,
       but other information related to DUs and the testplan will be
       generated normally. Notice that the user can still have the same
       effect of the old "-instance " but when using additional two
       switches; "-nodu" and "-notestplan".
     * [nodvtid] - VRM now automatically waits for UCDB file to appear
       after Action completion when run on slow file system.
     * dvt73167 - The "-nosummary" option for vrun (VRM) now suppresses
       the summary at the end of a regression run.
     * [nodvtid] - Added GetNextToken utility procedure to VRM. This
       procedure takes a list of tokens from an RMDB parameter and returns
       tokens from the list one at a time in round-robin sequence.
   _______________________________________________________________________

   Power Aware Enhancements in 10.4a
     * dvt73308 - Explicit usage of instance name in create_power_domain
       -elements will be given precedence over extents added because of
       wildcard expansion.
       Example:
       create_power_domain pd1 -elements {top*}
       create_power_domain pd2 -elements {top2}
       Here top1 will be extent of pd1, whereas top2 will be extent of
       pd2.
     * dvt73426 - Command getenv can be used as a tcl command inside a UPF
       file to get the value of any environment variable.
     * [nodvtid] - Added a vopt switch "-pa_staticchecksonly" to do only
       power aware static checking (no simulation) of the design.All other
       PA processing will not be done and hence it will give fast
       turnaround time for static checks.The earlier option '-pa_checks=s'
       still exists to run PA simulation along with static checks.
       This new switch can also be used in conjunction with -pa_checks=s
       to limit the type of static checks.
       e.g
       -pa_staticchecksonly -pa_checks=si would enable only isolation
       static checking.
       -pa_staticchecksonly -pa_checks=sl would enable only level shifter
       static checking.
     * [nodvtid] - Added support of UPF created logic ports in
       set_isolation command under vopt option '-pa_enable=logicportiso'.
     * [nodvtid] - Added the vopt option '-pa_enable=alwaysonbuf' to turn
       off corruption of buf primitives.



#Mentor Graphics Search Data
#meta="doc.type.documentation.rn,product.version.10.4a,product.id.P11633"

