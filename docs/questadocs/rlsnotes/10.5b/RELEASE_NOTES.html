
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>10.5b Release Notes</title>
<meta name="attributes" content="product.name.questa_sim,doc.type.documentation.rn,product.version.10.5b" />
</head>
<body link="#0000EE" alink="#FF0000" vlink="#551A8B" bgcolor="#FFFFFF" text="#000000">
<center><h1><a name="TOC"></a> Release Notes For Questa Sim 10.5b</h1></center>
<center><b>May 20 2016</b> <br />
 <br />
 Copyright 1991-2016 Mentor Graphics Corporation<br />
 All rights reserved.<br />
 This document contains information that is proprietary to Mentor Graphics<br />
 Corporation. The original recipient of this document may duplicate this<br />
 document in whole or in part for internal business purposes only, provided<br />
 that this entire notice appears in all copies. In duplicating any part of<br />
 this document the recipient agrees to make every reasonable effort to<br />
 prevent the unauthorized use and distribution of the proprietary<br />
 information.<br />
 <br />
 TRADEMARKS: The trademarks, logos and service marks (&quot;Marks&quot;) used herein<br />
 are the property of Mentor Graphics Corporation or other third parties.<br />
 No one is permitted to use these Marks without the prior written consent<br />
 of Mentor Graphics or the respective third-party owner. The use herein<br />
 of a third-party Mark is not an attempt to indicate Mentor Graphics as a<br />
 source of a product, but is intended to indicate a product from, or<br />
 associated with, a particular third party. The following are trademarks of<br />
 of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal Spy.<br />
 A current list of Mentor Graphics trademarks may be viewed at<br />
 www.mentor.com/terms_conditions/trademarks.cfm.<br />
 <br />
 End-User License Agreement: You can print a copy of the End-User License<br />
 Agreement from: www.mentor.com/terms_conditions/enduser.cfm.<br />
 <br />
</center>
<p /><h4><hr width="100%" /></h4>
<ul><li><b>How to Get Support</b>
 <p /> For information on how to obtain technical support, visit the support page at<br />
 <br />
 <a href="http://supportnet.mentor.com">http://supportnet.mentor.com</a><br />
 <br />
</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<h3><b>Index to Release Notes</b></h3>
<ul><li><a href="#keyinfo">Key Information</a></li>
 <li><a href="#rlsannouncement">Release Announcements in 10.5b</a></li>
 <li><a href="#baseproductspecs">Base Product Specifications in 10.5b</a></li>
 <li><a href="#compatibility">Compatibility Issues with Release 10.5b</a></li>
 <li><a href="#uidefects">User Interface Defects Repaired in 10.5b</a></li>
 <li><a href="#verilogdefects">SystemVerilog Defects Repaired in 10.5b</a></li>
 <li><a href="#vhdldefects">VHDL Defects Repaired in 10.5b</a></li>
 <li><a href="#systemcdefects">SystemC Defects Repaired in 10.5b</a></li>
 <li><a href="#assertiondefects">SVA/PSL Defects Repaired in 10.5b</a></li>
 <li><a href="#vmdefects">Verification Management Defects Repaired in 10.5b</a></li>
 <li><a href="#generalenhancement">General Enhancements in 10.5b</a></li>
 <li><a href="#systemverilogenhancement">SystemVerilog Enhancements in 10.5b</a></li>
 <li><a href="#coverageenhancement">Coverage Enhancements in 10.5b</a></li>
 <li><a href="#vmenhancement">Verification Management Enhancements in 10.5b</a></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="keyinfo"></a><font size="5"><b>Key Information</b></font>
<ul><li>[nodvtid]  - (source) A bug related to Windows DLL symbol export is fixed in 10.5 and later. A side effect of the fix is that there may be incompatibility on Windows platforms regarding existing DPI usage. The required setup change is one of the followings:
<br>
1) Use vlog -dpiheader to generate DPI routine prototype declarations. Include generated DPI header file in the DPI code.
<br>
OR
<br>
2) If DPI header is not being generated or used, one needs to manually attach DPI_DLLESPEC in front of all DPI routines. DPI_DLLESPEC is a standard macro defined inside svdpi.h
<br>
The generated DPI header flow is recommended. Failing to do the above will incur the following warning at elab time
<br>
<pre>
# ** Warning: (vsim-3770) Failed to find user specified function 'foo' in DPI
C/C++ source files.
</pre>
and the fatal error at runtime:
<pre>
# ** Fatal: (vsim-160) test.sv(11): Null foreign function pointer encountered wh
en calling 'foo'
</pre>
</li>
 <li>[nodvtid]  - As part of our IEEE 1735 encryption work, we have deprecated some older keys, and use of these keys during encryption will trigger a warning. This warning may be ignored if you want to continue to encrypt with the deprecated keys. We have also introduced a new methodology for key deprecation based on file presence. This recognizes that the decision to deprecate may be made either by the Questa encrypt agent tool, or by the end user, most commonly as a site-management decision. The presence of a file named &lt;keyname&gt;.deprecated in the installation subdirectory /keyring will trigger this warning for &lt;keyname&gt;. The CWD is also checked for deprecation files. These files may be managed by the CAD tools team to indicate that keys are, or are not, deprecated.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="rlsannouncement"></a><font size="4"><b>Release Announcements in 10.5b</b></font>
<ul><li>[nodvtid]  - In the next major release (10.6), support for Redhat Enterprise Linux (RHEL) 5 and Suse Linux Enterprise Server (SLES) 10 will be dropped.</li>
 <li>[nodvtid]  - <p>
Release 10.5 uses FLEXnet v11.13.1.2 server, v11.13.0.2 client.

<p>
For floating licenses, it will be necessary to verify that the vendor  daemon (i.e., mgcld) and the license server (i.e., lmgrd) have FLEXnet versions equal to or greater than 11.13.0.2. If the current FLEXnet version of your vendor daemon and lmgrd are less than 11.13.0.2 then it will be necessary to stop your license server and restart it using the vendor daemon and lmgrd contained in this release.

<p>
If you use node locked licenses you don't need to do anything. This 
release will update licensing to MSL v2015_1_patch2 with MGLS v9.13_5.4 
and PCLS v9.13.5.2

<p>
In summary, this release uses the following license versions:
<ul>
<li>FLEXnet v11.13.1.2 server, v11.13.0.2 client
<li>MSL v2015_1_patch2
<li>MGLS v9.13_5.4
<li>PCLS v9.13.5.2</li>
 <li>[nodvtid]  - <p>
10.5 release onwards, Questa will be using Microsoft Visual Studio 12 a.k.a Visual Studio 13. This would mean that all the executables shipped with the 10.5 release and onwards would be linked in with "msvcr120.dll".
If you have SystemC or PLI/VPI/DPI/FLI libraries compiled with older release with any gcc compiler shipped with the product, those will have to be re-compiled with 10.5. 
Windows platform compiler details is as follows:
<p>
<ul>
<li> "gcc-4.2.1-mingw32vc9" has been replaced with "gcc-4.2.1-mingw32vc12" and is shipped with the product. 
<li> "gcc-4.5.0-mingw64" has been replaced with "gcc-4.5.0-mingw64vc12" and is shipped with the product.
<li> "gcc-4.5.0-mingw32vc9" has been replaced with "gcc-4.5.0-mingw32vc12" and will be available for download on a request basis.
<p>
Compiler versions have not been changed compared to previous release. Please refer to User's Manual for more details.
</li>
 <li>[nodvtid]  - (source) In the next major release (10.6)<br>
   <ul> 
   <li>support for Windows 8.0 will be dropped. No change for Windows 8.1
   <li>support for gcc-4.3.3-linux and gcc-4.3.3-linux_x86_64 will be dropped
</ul></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="baseproductspecs"></a><font size="4"><b>Base Product Specifications in 10.5b</b></font>
<ul><li>[nodvtid]  - <br>
[Supported Platforms]<br>
	Linux RHEL 5 x86/x86-64<br>
	Linux RHEL 6 x86/x86-64<br>
	Linux RHEL 7 x86/x86-64<br>
	Linux SLES 10 x86/x86-64<br>
	Linux SLES 11 x86/x86-64<br>
	Windows 7 x86/x64<br>
	Windows 8 x86/x64<br>
        Windows 10 x86/x64<br>
<br>
[Supported GCC Compilers (for SystemC)]<br>
	gcc-4.7.4-linux/gcc-4.7.4-linux_x86_64<br>
	gcc-4.5.0-linux/gcc-4.5.0-linux_x86_64<br>
	gcc-4.3.3-linux/gcc-4.3.3-linux_x86_64<br>
	gcc-4.2.1-mingw32vc12<br>
<br>
[OVL (shipped with product)]<br>
	v2.8.1<br>
<br>
[VHDL OSVVM (shipped with product)]<br>
	v2014.07<br>
<br>
[Licensing]<br>
	FLEXnet	v11.13.1.2 server, v11.13.0.2 client<br>
	MSL 	v2015_1_patch2<br>
	MGLS 	v9.13_5.4<br>
	PCLS 	v9.13.5.2<br>
<br></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="compatibility"></a><font size="4"><b>Compatibility Issues with Release 10.5b</b></font>
<p /><dd><font size="3"><b>Key Information Compatibility</b></font></dd>
<ul><li>[nodvtid]  - (source) A bug related to Windows DLL symbol export is fixed in 10.5 and later. A side effect of the fix is that there may be incompatibility on Windows platforms regarding existing DPI usage. The required setup change is one of the followings:
<br>
1) Use vlog -dpiheader to generate DPI routine prototype declarations. Include generated DPI header file in the DPI code.
<br>
OR
<br>
2) If DPI header is not being generated or used, one needs to manually attach DPI_DLLESPEC in front of all DPI routines. DPI_DLLESPEC is a standard macro defined inside svdpi.h
<br>
The generated DPI header flow is recommended. Failing to do the above will incur the following warning at elab time
<br>
<pre>
# ** Warning: (vsim-3770) Failed to find user specified function 'foo' in DPI
C/C++ source files.
</pre>
and the fatal error at runtime:
<pre>
# ** Fatal: (vsim-160) test.sv(11): Null foreign function pointer encountered wh
en calling 'foo'
</pre>
</li>
</ul>
<p /><dd><font size="3"><b>SystemVerilog  Compatibility</b></font></dd>
<ul><li>[nodvtid]  - (results) While reading from a file into a memory using fread, when EOF was encountered, the remaining bytes of the memory were filled with newline characters. Now, after fixing this issue, zeros are filled in remaining bytes.</li>
 <li>dvt83946 - (results) Comparing a virtual interface with an interface instance was not working properly.  If a virtual interface 'ifv' has been assigned an instance 'ifc', then 'ifv == ifc' should now return TRUE.  Previously, it returned FALSE.</li>
 <li>dvt87030 - (results) Force/Release on loconn was not handled properly in case of cell optimization, causing a simulation mismatch when run without +acc=c</li>
 <li>dvt85937 - (results) Fixed the issues that DPI disable protocol was not followed when a thread is terminated either by "disable fork" or "process:kill"</li>
 <li>dvt87351 - (results) In some rare cases, randomize() would fail with a spurious constraint contradiction related to an interaction between constraints involving array.size expressions and if-else constraints having a logical-and implicant/alternate constraint. This issue has been fixed.</li>
 <li>dvt85666 - (results) In some cases, randomize() involving array.sum constraints would generate poor solution distributions on the random elements of array. This issue has been fixed.</li>
 <li>[nodvtid]  - (results) Fixed a bug in Questa's support of nested classes. Extending a nested class whose parent class is parameterised was not supported. This has been supported now.
For example , the following example now works :

<pre>
class base#(int A = 1);
    class base_inner;
    endclass
endclass

class derived#(int A = 1) extends base#(A);
      class derived_inner extends base_inner;
      endclass
endclass

</pre></li>
 <li>dvt82320 - (results) Fixed a bug in supporting class specializations which are based on associative arrays using a wild card (*)
For example the following now works correctly.
<pre>
class A#(type T = int);
endclass
class B;
typedef bit abc[*];
A#(abc) a;
endclass
</pre>
</li>
 <li>dvt87755 - (results) Stop giving warning vsim-SDF-8745 for valid retain Values. 
Support enhanced to take care of null values. </li>
</ul>
<p /><dd><font size="3"><b>General  Compatibility</b></font></dd>
<ul><li>dvt87194 - (results) simstats and simstatslist commands will now print memory data in scaled format, instead of earlier behavior of printing in Kb format. This change will make output consistent with the default output of -stats option. User can still get older behavior by using 'kb' option with these commands, for example 'simstats kb', 'simstats verbose kb'.
</li>
</ul>
<p /><dd><font size="3"><b>Verification Management  Compatibility</b></font></dd>
<ul><li>dvt87784 - (results) The cover directive coverage number reported within some summary reports has been fixed.
This number is 'coverage by instance'. In some cases is was being reported as the sum of 'coverage by instance' and 'coverage by DU'.</li>
</ul>
<p /><dd><font size="3"><b>Release Announcements Compatibility</b></font></dd>
<ul><li>[nodvtid]  - (source) In the next major release (10.6)<br>
   <ul> 
   <li>support for Windows 8.0 will be dropped. No change for Windows 8.1
   <li>support for gcc-4.3.3-linux and gcc-4.3.3-linux_x86_64 will be dropped
</ul></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="uidefects"></a><font size="4"><b>User Interface Defects Repaired in 10.5b</b></font>
<ul><li>dvt86473 - Objects window will mis-sort items when the Active time is inactive. </li>
 <li>dvt87174 - Using vsim option -title inside a -f file will result in an error.</li>
 <li>dvt87144 - An error is produced when attempting to use the fixed point radix types in a post-sim mode.  This issue has been resolved.</li>
 <li>[nodvtid]  - When a library is mapped using an environment variable, adding signals to the schematic window would fail.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="verilogdefects"></a><font size="4"><b>SystemVerilog Defects Repaired in 10.5b</b></font>
<ul><li>[nodvtid]  - (results) While reading from a file into a memory using fread, when EOF was encountered, the remaining bytes of the memory were filled with newline characters. Now, after fixing this issue, zeros are filled in remaining bytes.</li>
 <li>dvt86366 - Fixed an invalid vlog-13216 error when class handles are assigned in foreach loop.</li>
 <li>dvt86359 - Removed addition of force and release target in implicit sensitivity list.</li>
 <li>dvt84391 - Fixed a vopt crash after suppressing error 8303. The crash was seen when non-constant multiplier was used in replicate expression in automatic function.</li>
 <li>dvt83946 - (results) Comparing a virtual interface with an interface instance was not working properly.  If a virtual interface 'ifv' has been assigned an instance 'ifc', then 'ifv == ifc' should now return TRUE.  Previously, it returned FALSE.</li>
 <li>dvt87030 - (results) Force/Release on loconn was not handled properly in case of cell optimization, causing a simulation mismatch when run without +acc=c</li>
 <li>dvt85937 - (results) Fixed the issues that DPI disable protocol was not followed when a thread is terminated either by "disable fork" or "process:kill"</li>
 <li>dvt86203 - Fix a crash in vsim when automatic variables for a class are declared within an if-then-else statement with a fork/join and wait.</li>
 <li>dvt80844 - Fixed a bug in vlog which resulted in an error in vlog when parameterized class instance is created without #() with forward typedef.</li>
 <li>dvt87256 - Fixed a bug which resulted in vsim time fatal error when with clause is used with streaming concat operator. </li>
 <li>dvt87351 - (results) In some rare cases, randomize() would fail with a spurious constraint contradiction related to an interaction between constraints involving array.size expressions and if-else constraints having a logical-and implicant/alternate constraint. This issue has been fixed.</li>
 <li>dvt80964 - Enhance cell optimization in case of buffered input and notimingchecks. Can be disabled by +checkINBUF.  </li>
 <li>dvt85666 - (results) In some cases, randomize() involving array.sum constraints would generate poor solution distributions on the random elements of array. This issue has been fixed.</li>
 <li>[nodvtid]  - (results) Fixed a bug in Questa's support of nested classes. Extending a nested class whose parent class is parameterised was not supported. This has been supported now.
For example , the following example now works :

<pre>
class base#(int A = 1);
    class base_inner;
    endclass
endclass

class derived#(int A = 1) extends base#(A);
      class derived_inner extends base_inner;
      endclass
endclass

</pre></li>
 <li>dvt87658 - The vsim command "write report -solver <outputfile>" will now redirect the output of the solver report to the specified <outputfile>.</li>
 <li>dvt87420 - Fixed a crash in vsim in a corner scenario. If we a module say top and some signal is passed to an interface from this module, which is further passed to another interface instantiated in first interface. Then due to some internal optimization we were getting a crash in vsim. This has been fixed now.</li>
 <li>dvt87382 - Allowed the syntax when modports are declared starting with attribute_instance. Below syntax is now supported.
Modport_ports_declaration ::=
    { attribute_instance } modport_simple_ports_declaration
  | { attribute_instance } modport_tf_ports_declaration
  | { attribute_instance } modport_clocking_declaration
 </li>
 <li>dvt82320 - (results) Fixed a bug in supporting class specializations which are based on associative arrays using a wild card (*)
For example the following now works correctly.
<pre>
class A#(type T = int);
endclass
class B;
typedef bit abc[*];
A#(abc) a;
endclass
</pre>
</li>
 <li>dvt87755 - (results) Stop giving warning vsim-SDF-8745 for valid retain Values. 
Support enhanced to take care of null values. </li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vhdldefects"></a><font size="4"><b>VHDL Defects Repaired in 10.5b</b></font>
<ul><li>dvt86918 - When an inner nested GENERATE block contained a slice name whose slice range depended in an outer FOR-GENERATE's loop parameter, and when a component instantiation in the inner GENERATE contained a GENERIC MAP association element that had an actual that depended on this slice name, then the compiler would create bad code that could crash the simulator.</li>
 <li>dvt86935 - Fixed a crash where a VHDL port which is an array of std_logic, the actual of the port is a slice of a static expression
and the port is connected to a Verilog port.
</li>
 <li>dvt86813 - A CASE GENERATE statement that contained an external name in the expression or in a choice in an alternative would sometimes cause a simulator crash.
</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="systemcdefects"></a><font size="4"><b>SystemC Defects Repaired in 10.5b</b></font>
<ul><li>[nodvtid]  - Fixed DPI and SystemC link time errors due to different standard library installation paths on some linux distributions. Library paths looked up at link time will be "/usr/lib64", "/usr/lib/x86_64-linux-gnu" for 64-bit and "/usr/lib/i386-linux-gnu", "/usr/lib/i686-linux-gnu", "/usr/lib32" for 32-bit platforms</li>
 <li>dvt86850 - In certain scenarios, where systemc.so would not unload during shared library cleanup and the design has global SystemC objects, vopt or vsim may crash at exit time trying to print an error message. This issue is now fixed.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="assertiondefects"></a><font size="4"><b>SVA/PSL Defects Repaired in 10.5b</b></font>
<ul><li>dvt87719 - Fixed a bug where sometimes vsim was crashing after restart if the design had procedural concurrent assertions.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vmdefects"></a><font size="4"><b>Verification Management Defects Repaired in 10.5b</b></font>
<ul><li>[nodvtid]  - Vrun -suspend now releases Questa licences upon suspension. </li>
 <li>dvt66418 - VRM local rerun functionality now re-evaluates the parameters of the action that is going to be rerun.</li>
 <li>[nodvtid]  - VRM example, sorting coverage information based on status, got fixed. A user can proceed to override mergefile/triagefile parameters from the post execution analysis user definable procedures.  </li>
 <li>dvt87784 - (results) The cover directive coverage number reported within some summary reports has been fixed.
This number is 'coverage by instance'. In some cases is was being reported as the sum of 'coverage by instance' and 'coverage by DU'.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="generalenhancement"></a><font size="4"><b>General Enhancements in 10.5b</b></font>
<ul><li>dvt87926 - Capacity report generation has been enhanced to show the point of allocation as well as the point of declaration. The current vsim option -capacity has been enhanced to -capacity[=line]. Now, with -capacity=line, point of allocation is also preserved. The user can write point of allocation (line) based report using the command 'write report -capacity -l -line'. If -line option is not used in the 'write report -capacity' command, the report will be generated based on declaration. Vsim has to be run with -capacity=line to print line based capacity report. 
Please note, the GUI window is not enhanced yet and it still shows declaration based view.</li>
 <li>dvt87194 - (results) simstats and simstatslist commands will now print memory data in scaled format, instead of earlier behavior of printing in Kb format. This change will make output consistent with the default output of -stats option. User can still get older behavior by using 'kb' option with these commands, for example 'simstats kb', 'simstats verbose kb'.
</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="systemverilogenhancement"></a><font size="4"><b>SystemVerilog Enhancements in 10.5b</b></font>
<ul><li>[nodvtid]  - vlog's -E output would not emit `line directives with anything other than '0' for the "level" parameter.  Valid values for the "level" parameter are 0, 1 or 2.</li>
 <li>[nodvtid]  - Added a new SVPrettyPrintflags option 'R' in modelsim.ini file to specify the radix for printing the data specified with %p format. e.g. SVPrettyPrintFlags=R<specifier> shows the output of specifier %p as per the specifed radix(d|b|o|h). It changes the output in $display and similar systasks. It does not affect formatted output functions ($displayh etc).</li>
 <li>dvt86512 - Allowed syntax "{class_item_qualifier} pure virtual method_prototype;" in an abstract class with -suppress and -permissive.</li>
 <li>dvt22338 - Questa used to report an error on parsing declarations present in $unit scope of library files passed through -v option. In -mfcu mode, all the global declarations present in both compile file and library files specified through -v will be lumped together in a single $unit scope. In -sfcu mode, a local $unit scope will be created for a library file passed through -v option if this file has global declarations.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="coverageenhancement"></a><font size="4"><b>Coverage Enhancements in 10.5b</b></font>
<ul><li>[nodvtid]  - Change -testlist switch, the switch that enables the detailed test record
information, to -testdetails
Command vcover report -html & coverage report -html</li>
 <li>[nodvtid]  - vcover parallelmerge has been enhanced to optimize number of parallel merge jobs such that each merge job will have at least 2 files to merge. 
For example, if user asks 8 files to merge with 8 parallel jobs, parallelmerge would run 8 parallel merge jobs with 1 file each. With this enhancement, parallelmerge will automatically reduce the number of parallel merge jobs to 4.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vmenhancement"></a><font size="4"><b>Verification Management Enhancements in 10.5b</b></font>
<ul><li>dvt84224 - Added "Class Type" column in Tracker window for showing parameterized class specialization attributes of linked coverage scopes </li>
 <li>dvt86459 - VRM testlist format now does not require a repeat count for each entry. A missing repeat count would indicate that there is only one entry for that test. 
 </li>
 <li>dvt86458 - A test expanded via VRM testlist format would automatically populate the testname parameter. Making it compatible with VRM test-centric mode. The automatically populated testname parameter will be used when the parameter is not defined elsewhere in the RMDB; as a default value. </li>
 <li>[nodvtid]  - The vrun -junit command line switch added in version 10.5 is being removed with immediate effect. This switch was added for the initial Jenkins VRM integration but was found to be inefficient. The Questa VRM Jenkins plug-in will shortly be available on-line using the normal Jenkins plug-in delivery method. This supersedes the need for the -junit switch, for more information please contact customer support.</li>
</ul>

</body>
</html>
