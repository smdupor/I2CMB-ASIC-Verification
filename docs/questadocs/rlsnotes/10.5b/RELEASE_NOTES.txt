                     Release Notes For Questa Sim 10.5b

                                 May 20 2016
               Copyright 1991-2016 Mentor Graphics Corporation
                            All rights reserved.
      This document contains information that is proprietary to Mentor
                                  Graphics
   Corporation. The original recipient of this document may duplicate this
      document in whole or in part for internal business purposes only,
                                  provided
   that this entire notice appears in all copies. In duplicating any part
                                     of
    this document the recipient agrees to make every reasonable effort to
      prevent the unauthorized use and distribution of the proprietary
                                information.
     TRADEMARKS: The trademarks, logos and service marks ("Marks") used
                                   herein
   are the property of Mentor Graphics Corporation or other third parties.
      No one is permitted to use these Marks without the prior written
                                   consent
   of Mentor Graphics or the respective third-party owner. The use herein
   of a third-party Mark is not an attempt to indicate Mentor Graphics as
                                      a
     source of a product, but is intended to indicate a product from, or
   associated with, a particular third party. The following are trademarks
                                     of
    of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal
                                    Spy.
        A current list of Mentor Graphics trademarks may be viewed at
               www.mentor.com/terms_conditions/trademarks.cfm.
      End-User License Agreement: You can print a copy of the End-User
                                   License
        Agreement from: www.mentor.com/terms_conditions/enduser.cfm.
   _______________________________________________________________________

     * How to Get Support
       For information on how to obtain technical support, visit the
       support page at
       [1]http://supportnet.mentor.com
   _______________________________________________________________________

  Index to Release Notes

     * [2]Key Information
     * [3]Release Announcements in 10.5b
     * [4]Base Product Specifications in 10.5b
     * [5]Compatibility Issues with Release 10.5b
     * [6]User Interface Defects Repaired in 10.5b
     * [7]SystemVerilog Defects Repaired in 10.5b
     * [8]VHDL Defects Repaired in 10.5b
     * [9]SystemC Defects Repaired in 10.5b
     * [10]SVA/PSL Defects Repaired in 10.5b
     * [11]Verification Management Defects Repaired in 10.5b
     * [12]General Enhancements in 10.5b
     * [13]SystemVerilog Enhancements in 10.5b
     * [14]Coverage Enhancements in 10.5b
     * [15]Verification Management Enhancements in 10.5b
   _______________________________________________________________________

   Key Information
     * [nodvtid] - (source) A bug related to Windows DLL symbol export is
       fixed in 10.5 and later. A side effect of the fix is that there may
       be incompatibility on Windows platforms regarding existing DPI
       usage. The required setup change is one of the followings:
       1) Use vlog -dpiheader to generate DPI routine prototype
       declarations. Include generated DPI header file in the DPI code.
       OR
       2) If DPI header is not being generated or used, one needs to
       manually attach DPI_DLLESPEC in front of all DPI routines.
       DPI_DLLESPEC is a standard macro defined inside svdpi.h
       The generated DPI header flow is recommended. Failing to do the
       above will incur the following warning at elab time
# ** Warning: (vsim-3770) Failed to find user specified function 'foo' in DPI
C/C++ source files.

       and the fatal error at runtime:
# ** Fatal: (vsim-160) test.sv(11): Null foreign function pointer encountered wh
en calling 'foo'

     * [nodvtid] - As part of our IEEE 1735 encryption work, we have
       deprecated some older keys, and use of these keys during encryption
       will trigger a warning. This warning may be ignored if you want to
       continue to encrypt with the deprecated keys. We have also
       introduced a new methodology for key deprecation based on file
       presence. This recognizes that the decision to deprecate may be
       made either by the Questa encrypt agent tool, or by the end user,
       most commonly as a site-management decision. The presence of a file
       named <keyname>.deprecated in the installation subdirectory
       /keyring will trigger this warning for <keyname>. The CWD is also
       checked for deprecation files. These files may be managed by the
       CAD tools team to indicate that keys are, or are not, deprecated.
   _______________________________________________________________________

   Release Announcements in 10.5b
     * [nodvtid] - In the next major release (10.6), support for Redhat
       Enterprise Linux (RHEL) 5 and Suse Linux Enterprise Server (SLES)
       10 will be dropped.
     * [nodvtid] -
       Release 10.5 uses FLEXnet v11.13.1.2 server, v11.13.0.2 client.
       For floating licenses, it will be necessary to verify that the
       vendor daemon (i.e., mgcld) and the license server (i.e., lmgrd)
       have FLEXnet versions equal to or greater than 11.13.0.2. If the
       current FLEXnet version of your vendor daemon and lmgrd are less
       than 11.13.0.2 then it will be necessary to stop your license
       server and restart it using the vendor daemon and lmgrd contained
       in this release.
       If you use node locked licenses you don't need to do anything. This
       release will update licensing to MSL v2015_1_patch2 with MGLS
       v9.13_5.4 and PCLS v9.13.5.2
       In summary, this release uses the following license versions:
          + FLEXnet v11.13.1.2 server, v11.13.0.2 client
          + MSL v2015_1_patch2
          + MGLS v9.13_5.4
          + PCLS v9.13.5.2
          + [nodvtid] -
            10.5 release onwards, Questa will be using Microsoft Visual
            Studio 12 a.k.a Visual Studio 13. This would mean that all the
            executables shipped with the 10.5 release and onwards would be
            linked in with "msvcr120.dll". If you have SystemC or
            PLI/VPI/DPI/FLI libraries compiled with older release with any
            gcc compiler shipped with the product, those will have to be
            re-compiled with 10.5. Windows platform compiler details is as
            follows:
               o "gcc-4.2.1-mingw32vc9" has been replaced with
                 "gcc-4.2.1-mingw32vc12" and is shipped with the product.
               o "gcc-4.5.0-mingw64" has been replaced with
                 "gcc-4.5.0-mingw64vc12" and is shipped with the product.
               o "gcc-4.5.0-mingw32vc9" has been replaced with
                 "gcc-4.5.0-mingw32vc12" and will be available for
                 download on a request basis.
                 Compiler versions have not been changed compared to
                 previous release. Please refer to User's Manual for more
                 details.
               o [nodvtid] - (source) In the next major release (10.6)
                    # support for Windows 8.0 will be dropped. No change
                      for Windows 8.1
                    # support for gcc-4.3.3-linux and
                      gcc-4.3.3-linux_x86_64 will be dropped
            ______________________________________________________________

            Base Product Specifications in 10.5b
          + [nodvtid] -
            [Supported Platforms]
            Linux RHEL 5 x86/x86-64
            Linux RHEL 6 x86/x86-64
            Linux RHEL 7 x86/x86-64
            Linux SLES 10 x86/x86-64
            Linux SLES 11 x86/x86-64
            Windows 7 x86/x64
            Windows 8 x86/x64
            Windows 10 x86/x64
            [Supported GCC Compilers (for SystemC)]
            gcc-4.7.4-linux/gcc-4.7.4-linux_x86_64
            gcc-4.5.0-linux/gcc-4.5.0-linux_x86_64
            gcc-4.3.3-linux/gcc-4.3.3-linux_x86_64
            gcc-4.2.1-mingw32vc12
            [OVL (shipped with product)]
            v2.8.1
            [VHDL OSVVM (shipped with product)]
            v2014.07
            [Licensing]
            FLEXnet v11.13.1.2 server, v11.13.0.2 client
            MSL v2015_1_patch2
            MGLS v9.13_5.4
            PCLS v9.13.5.2
       ___________________________________________________________________

       Compatibility Issues with Release 10.5b
       Key Information Compatibility

     * [nodvtid] - (source) A bug related to Windows DLL symbol export is
       fixed in 10.5 and later. A side effect of the fix is that there may
       be incompatibility on Windows platforms regarding existing DPI
       usage. The required setup change is one of the followings:
       1) Use vlog -dpiheader to generate DPI routine prototype
       declarations. Include generated DPI header file in the DPI code.
       OR
       2) If DPI header is not being generated or used, one needs to
       manually attach DPI_DLLESPEC in front of all DPI routines.
       DPI_DLLESPEC is a standard macro defined inside svdpi.h
       The generated DPI header flow is recommended. Failing to do the
       above will incur the following warning at elab time
# ** Warning: (vsim-3770) Failed to find user specified function 'foo' in DPI
C/C++ source files.

       and the fatal error at runtime:
# ** Fatal: (vsim-160) test.sv(11): Null foreign function pointer encountered wh
en calling 'foo'

   SystemVerilog Compatibility
     * [nodvtid] - (results) While reading from a file into a memory using
       fread, when EOF was encountered, the remaining bytes of the memory
       were filled with newline characters. Now, after fixing this issue,
       zeros are filled in remaining bytes.
     * dvt83946 - (results) Comparing a virtual interface with an
       interface instance was not working properly. If a virtual interface
       'ifv' has been assigned an instance 'ifc', then 'ifv == ifc' should
       now return TRUE. Previously, it returned FALSE.
     * dvt87030 - (results) Force/Release on loconn was not handled
       properly in case of cell optimization, causing a simulation
       mismatch when run without +acc=c
     * dvt85937 - (results) Fixed the issues that DPI disable protocol was
       not followed when a thread is terminated either by "disable fork"
       or "process:kill"
     * dvt87351 - (results) In some rare cases, randomize() would fail
       with a spurious constraint contradiction related to an interaction
       between constraints involving array.size expressions and if-else
       constraints having a logical-and implicant/alternate constraint.
       This issue has been fixed.
     * dvt85666 - (results) In some cases, randomize() involving array.sum
       constraints would generate poor solution distributions on the
       random elements of array. This issue has been fixed.
     * [nodvtid] - (results) Fixed a bug in Questa's support of nested
       classes. Extending a nested class whose parent class is
       parameterised was not supported. This has been supported now. For
       example , the following example now works :
class base#(int A = 1);
    class base_inner;
    endclass
endclass

class derived#(int A = 1) extends base#(A);
      class derived_inner extends base_inner;
      endclass
endclass


     * dvt82320 - (results) Fixed a bug in supporting class
       specializations which are based on associative arrays using a wild
       card (*) For example the following now works correctly.
class A#(type T = int);
endclass
class B;
typedef bit abc[*];
A#(abc) a;
endclass

     * dvt87755 - (results) Stop giving warning vsim-SDF-8745 for valid
       retain Values. Support enhanced to take care of null values.

   General Compatibility
     * dvt87194 - (results) simstats and simstatslist commands will now
       print memory data in scaled format, instead of earlier behavior of
       printing in Kb format. This change will make output consistent with
       the default output of -stats option. User can still get older
       behavior by using 'kb' option with these commands, for example
       'simstats kb', 'simstats verbose kb'.

   Verification Management Compatibility
     * dvt87784 - (results) The cover directive coverage number reported
       within some summary reports has been fixed. This number is
       'coverage by instance'. In some cases is was being reported as the
       sum of 'coverage by instance' and 'coverage by DU'.

   Release Announcements Compatibility
     * [nodvtid] - (source) In the next major release (10.6)
          + support for Windows 8.0 will be dropped. No change for Windows
            8.1
          + support for gcc-4.3.3-linux and gcc-4.3.3-linux_x86_64 will be
            dropped
   _______________________________________________________________________

   User Interface Defects Repaired in 10.5b
     * dvt86473 - Objects window will mis-sort items when the Active time
       is inactive.
     * dvt87174 - Using vsim option -title inside a -f file will result in
       an error.
     * dvt87144 - An error is produced when attempting to use the fixed
       point radix types in a post-sim mode. This issue has been resolved.
     * [nodvtid] - When a library is mapped using an environment variable,
       adding signals to the schematic window would fail.
   _______________________________________________________________________

   SystemVerilog Defects Repaired in 10.5b
     * [nodvtid] - (results) While reading from a file into a memory using
       fread, when EOF was encountered, the remaining bytes of the memory
       were filled with newline characters. Now, after fixing this issue,
       zeros are filled in remaining bytes.
     * dvt86366 - Fixed an invalid vlog-13216 error when class handles are
       assigned in foreach loop.
     * dvt86359 - Removed addition of force and release target in implicit
       sensitivity list.
     * dvt84391 - Fixed a vopt crash after suppressing error 8303. The
       crash was seen when non-constant multiplier was used in replicate
       expression in automatic function.
     * dvt83946 - (results) Comparing a virtual interface with an
       interface instance was not working properly. If a virtual interface
       'ifv' has been assigned an instance 'ifc', then 'ifv == ifc' should
       now return TRUE. Previously, it returned FALSE.
     * dvt87030 - (results) Force/Release on loconn was not handled
       properly in case of cell optimization, causing a simulation
       mismatch when run without +acc=c
     * dvt85937 - (results) Fixed the issues that DPI disable protocol was
       not followed when a thread is terminated either by "disable fork"
       or "process:kill"
     * dvt86203 - Fix a crash in vsim when automatic variables for a class
       are declared within an if-then-else statement with a fork/join and
       wait.
     * dvt80844 - Fixed a bug in vlog which resulted in an error in vlog
       when parameterized class instance is created without #() with
       forward typedef.
     * dvt87256 - Fixed a bug which resulted in vsim time fatal error when
       with clause is used with streaming concat operator.
     * dvt87351 - (results) In some rare cases, randomize() would fail
       with a spurious constraint contradiction related to an interaction
       between constraints involving array.size expressions and if-else
       constraints having a logical-and implicant/alternate constraint.
       This issue has been fixed.
     * dvt80964 - Enhance cell optimization in case of buffered input and
       notimingchecks. Can be disabled by +checkINBUF.
     * dvt85666 - (results) In some cases, randomize() involving array.sum
       constraints would generate poor solution distributions on the
       random elements of array. This issue has been fixed.
     * [nodvtid] - (results) Fixed a bug in Questa's support of nested
       classes. Extending a nested class whose parent class is
       parameterised was not supported. This has been supported now. For
       example , the following example now works :
class base#(int A = 1);
    class base_inner;
    endclass
endclass

class derived#(int A = 1) extends base#(A);
      class derived_inner extends base_inner;
      endclass
endclass


     * dvt87658 - The vsim command "write report -solver " will now
       redirect the output of the solver report to the specified .
     * dvt87420 - Fixed a crash in vsim in a corner scenario. If we a
       module say top and some signal is passed to an interface from this
       module, which is further passed to another interface instantiated
       in first interface. Then due to some internal optimization we were
       getting a crash in vsim. This has been fixed now.
     * dvt87382 - Allowed the syntax when modports are declared starting
       with attribute_instance. Below syntax is now supported.
       Modport_ports_declaration ::= { attribute_instance }
       modport_simple_ports_declaration | { attribute_instance }
       modport_tf_ports_declaration | { attribute_instance }
       modport_clocking_declaration
     * dvt82320 - (results) Fixed a bug in supporting class
       specializations which are based on associative arrays using a wild
       card (*) For example the following now works correctly.
class A#(type T = int);
endclass
class B;
typedef bit abc[*];
A#(abc) a;
endclass

     * dvt87755 - (results) Stop giving warning vsim-SDF-8745 for valid
       retain Values. Support enhanced to take care of null values.
   _______________________________________________________________________

   VHDL Defects Repaired in 10.5b
     * dvt86918 - When an inner nested GENERATE block contained a slice
       name whose slice range depended in an outer FOR-GENERATE's loop
       parameter, and when a component instantiation in the inner GENERATE
       contained a GENERIC MAP association element that had an actual that
       depended on this slice name, then the compiler would create bad
       code that could crash the simulator.
     * dvt86935 - Fixed a crash where a VHDL port which is an array of
       std_logic, the actual of the port is a slice of a static expression
       and the port is connected to a Verilog port.
     * dvt86813 - A CASE GENERATE statement that contained an external
       name in the expression or in a choice in an alternative would
       sometimes cause a simulator crash.
   _______________________________________________________________________

   SystemC Defects Repaired in 10.5b
     * [nodvtid] - Fixed DPI and SystemC link time errors due to different
       standard library installation paths on some linux distributions.
       Library paths looked up at link time will be "/usr/lib64",
       "/usr/lib/x86_64-linux-gnu" for 64-bit and
       "/usr/lib/i386-linux-gnu", "/usr/lib/i686-linux-gnu", "/usr/lib32"
       for 32-bit platforms
     * dvt86850 - In certain scenarios, where systemc.so would not unload
       during shared library cleanup and the design has global SystemC
       objects, vopt or vsim may crash at exit time trying to print an
       error message. This issue is now fixed.
   _______________________________________________________________________

   SVA/PSL Defects Repaired in 10.5b
     * dvt87719 - Fixed a bug where sometimes vsim was crashing after
       restart if the design had procedural concurrent assertions.
   _______________________________________________________________________

   Verification Management Defects Repaired in 10.5b
     * [nodvtid] - Vrun -suspend now releases Questa licences upon
       suspension.
     * dvt66418 - VRM local rerun functionality now re-evaluates the
       parameters of the action that is going to be rerun.
     * [nodvtid] - VRM example, sorting coverage information based on
       status, got fixed. A user can proceed to override
       mergefile/triagefile parameters from the post execution analysis
       user definable procedures.
     * dvt87784 - (results) The cover directive coverage number reported
       within some summary reports has been fixed. This number is
       'coverage by instance'. In some cases is was being reported as the
       sum of 'coverage by instance' and 'coverage by DU'.
   _______________________________________________________________________

   General Enhancements in 10.5b
     * dvt87926 - Capacity report generation has been enhanced to show the
       point of allocation as well as the point of declaration. The
       current vsim option -capacity has been enhanced to
       -capacity[=line]. Now, with -capacity=line, point of allocation is
       also preserved. The user can write point of allocation (line) based
       report using the command 'write report -capacity -l -line'. If
       -line option is not used in the 'write report -capacity' command,
       the report will be generated based on declaration. Vsim has to be
       run with -capacity=line to print line based capacity report. Please
       note, the GUI window is not enhanced yet and it still shows
       declaration based view.
     * dvt87194 - (results) simstats and simstatslist commands will now
       print memory data in scaled format, instead of earlier behavior of
       printing in Kb format. This change will make output consistent with
       the default output of -stats option. User can still get older
       behavior by using 'kb' option with these commands, for example
       'simstats kb', 'simstats verbose kb'.
   _______________________________________________________________________

   SystemVerilog Enhancements in 10.5b
     * [nodvtid] - vlog's -E output would not emit `line directives with
       anything other than '0' for the "level" parameter. Valid values for
       the "level" parameter are 0, 1 or 2.
     * [nodvtid] - Added a new SVPrettyPrintflags option 'R' in
       modelsim.ini file to specify the radix for printing the data
       specified with %p format. e.g. SVPrettyPrintFlags=R shows the
       output of specifier %p as per the specifed radix(d|b|o|h). It
       changes the output in $display and similar systasks. It does not
       affect formatted output functions ($displayh etc).
     * dvt86512 - Allowed syntax "{class_item_qualifier} pure virtual
       method_prototype;" in an abstract class with -suppress and
       -permissive.
     * dvt22338 - Questa used to report an error on parsing declarations
       present in $unit scope of library files passed through -v option.
       In -mfcu mode, all the global declarations present in both compile
       file and library files specified through -v will be lumped together
       in a single $unit scope. In -sfcu mode, a local $unit scope will be
       created for a library file passed through -v option if this file
       has global declarations.
   _______________________________________________________________________

   Coverage Enhancements in 10.5b
     * [nodvtid] - Change -testlist switch, the switch that enables the
       detailed test record information, to -testdetails Command vcover
       report -html & coverage report -html
     * [nodvtid] - vcover parallelmerge has been enhanced to optimize
       number of parallel merge jobs such that each merge job will have at
       least 2 files to merge. For example, if user asks 8 files to merge
       with 8 parallel jobs, parallelmerge would run 8 parallel merge jobs
       with 1 file each. With this enhancement, parallelmerge will
       automatically reduce the number of parallel merge jobs to 4.
   _______________________________________________________________________

   Verification Management Enhancements in 10.5b
     * dvt84224 - Added "Class Type" column in Tracker window for showing
       parameterized class specialization attributes of linked coverage
       scopes
     * dvt86459 - VRM testlist format now does not require a repeat count
       for each entry. A missing repeat count would indicate that there is
       only one entry for that test.
     * dvt86458 - A test expanded via VRM testlist format would
       automatically populate the testname parameter. Making it compatible
       with VRM test-centric mode. The automatically populated testname
       parameter will be used when the parameter is not defined elsewhere
       in the RMDB; as a default value.
     * [nodvtid] - The vrun -junit command line switch added in version
       10.5 is being removed with immediate effect. This switch was added
       for the initial Jenkins VRM integration but was found to be
       inefficient. The Questa VRM Jenkins plug-in will shortly be
       available on-line using the normal Jenkins plug-in delivery method.
       This supersedes the need for the -junit switch, for more
       information please contact customer support.



#Mentor Graphics Search Data
#meta="doc.type.documentation.rn,product.version.10.5b,product.id.P11633"

