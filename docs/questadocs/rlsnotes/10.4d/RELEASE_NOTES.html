
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>10.4d Release Notes</title>
<meta name="attributes" content="product.name.questa_sim,doc.type.documentation.rn,product.version.10.4d" />
</head>
<body link="#0000EE" alink="#FF0000" vlink="#551A8B" bgcolor="#FFFFFF" text="#000000">
<center><h1><a name="TOC"></a> Release Notes For Questa Sim 10.4d</h1></center>
<center><b>Dec 29 2015</b> <br />
 <br />
 Copyright 1991-2015 Mentor Graphics Corporation<br />
 All rights reserved.<br />
 This document contains information that is proprietary to Mentor Graphics<br />
 Corporation. The original recipient of this document may duplicate this<br />
 document in whole or in part for internal business purposes only, provided<br />
 that this entire notice appears in all copies. In duplicating any part of<br />
 this document the recipient agrees to make every reasonable effort to<br />
 prevent the unauthorized use and distribution of the proprietary<br />
 information.<br />
 <br />
 TRADEMARKS: The trademarks, logos and service marks (&quot;Marks&quot;) used herein<br />
 are the property of Mentor Graphics Corporation or other third parties.<br />
 No one is permitted to use these Marks without the prior written consent<br />
 of Mentor Graphics or the respective third-party owner. The use herein<br />
 of a third-party Mark is not an attempt to indicate Mentor Graphics as a<br />
 source of a product, but is intended to indicate a product from, or<br />
 associated with, a particular third party. The following are trademarks of<br />
 of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal Spy.<br />
 A current list of Mentor Graphics trademarks may be viewed at<br />
 www.mentor.com/terms_conditions/trademarks.cfm.<br />
 <br />
 End-User License Agreement: You can print a copy of the End-User License<br />
 Agreement from: www.mentor.com/terms_conditions/enduser.cfm.<br />
 <br />
</center>
<p /><h4><hr width="100%" /></h4>
<ul><li><b>How to Get Support</b>
 <p /> For information on how to obtain technical support, visit the support page at<br />
 <br />
 <a href="http://supportnet.mentor.com">http://supportnet.mentor.com</a><br />
 <br />
</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<h3><b>Index to Release Notes</b></h3>
<ul><li><a href="#rlsannouncement">Release Announcements in 10.4d</a></li>
 <li><a href="#baseproductspecs">Base Product Specifications in 10.4d</a></li>
 <li><a href="#compatibility">Compatibility Issues with Release 10.4d</a></li>
 <li><a href="#generaldefects">General Defects Repaired in 10.4d</a></li>
 <li><a href="#uidefects">User Interface Defects Repaired in 10.4d</a></li>
 <li><a href="#verilogdefects">SystemVerilog Defects Repaired in 10.4d</a></li>
 <li><a href="#vhdldefects">VHDL Defects Repaired in 10.4d</a></li>
 <li><a href="#systemcdefects">SystemC Defects Repaired in 10.4d</a></li>
 <li><a href="#assertiondefects">SVA/PSL Defects Repaired in 10.4d</a></li>
 <li><a href="#mixeddefects">Mixed Language Defects Repaired in 10.4d</a></li>
 <li><a href="#vmdefects">Verification Management Defects Repaired in 10.4d</a></li>
 <li><a href="#powerawaredefects">Power Aware Defects Repaired in 10.4d</a></li>
 <li><a href="#generalenhancement">General Enhancements in 10.4d</a></li>
 <li><a href="#uienhancements">User Interface Enhancements in 10.4d</a></li>
 <li><a href="#systemverilogenhancement">SystemVerilog Enhancements in 10.4d</a></li>
 <li><a href="#coverageenhancement">Coverage Enhancements in 10.4d</a></li>
 <li><a href="#vmenhancement">Verification Management Enhancements in 10.4d</a></li>
 <li><a href="#paenhancement">Power Aware Enhancements in 10.4d</a></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="rlsannouncement"></a><font size="4"><b>Release Announcements in 10.4d</b></font>
<ul><li>[nodvtid]  - <br>
[10.4] Support for Windows XP and Windows Vista has been discontinued.<br>
[10.4] Licensing Information
<p>There is no licensing change between release 10.3 and 10.4.

<p>However if you are migrating to 10.4 from a release like 10.2 and older,
please note the following:

<ul><li>Starting 10.3, it uses FLEXnet v11.11.1.1. The 
vendor daemons and lmgrd that are shipped with this release will 
be FLEXnet version 11.11.1.1.
<li>For floating licenses it will be necessary to verify that the vendor daemon (i.e., mgcld) and the license server (i.e., lmgrd) have FLEXnet versions equal to or greater than 11.11.1.1. If the current FLEXnet version of your vendor daemon and lmgrd are less than 11.11.1.1 then it will be necessary to stop your license server and restart it using the vendor daemon and lmgrd contained in this release.
<li>If you use node locked licenses you don't need to do anything.
</ul><br>
[10.3b] OVL is upgraded to v2.8.1.<br>
[10.3b] The VHDL OSVVM (Open Source VHDL Verification Methodology) library, sources and documentation have been updated to version 2014.01. Dependency checks in vopt and vsim will force recompilation of designs that use the osvvm library. If optimization is performed using vopt, the optimizer will automatically generate new optimized design units. Without the optimization step, vsim will detect dependency errors.<br>
[10.3] Support for RedHat Enterprise Linux (RHEL) 4.0 has been discontinued.<br>
[10.2] Support for Solaris SPARC and Solaris x86 has been discontinued. All Solaris OS platforms are not supported.<br>
[10.2] Support for RedHat Enterprise Linux (RHEL) 3.0 and Novell SUSE Linux Enterprise (SLES) 9 has been discontinued.<br>
[10.1] Support for GCC versions gcc-4.1.2-sunos510/gcc-4.1.2-sunos510x86 has been discontinued.<br>
[10.0] Support for Solaris 8 and Solaris 9 has been discontinued.<br>
<br>
</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="baseproductspecs"></a><font size="4"><b>Base Product Specifications in 10.4d</b></font>
<ul><li>[nodvtid]  - <br>
[Supported Platforms]<br>
	Linux RHEL 5 x86/x86-64<br>
	Linux RHEL 6 x86/x86-64<br>
	Linux RHEL 7 x86/x86-64<br>
	Linux SLES 10 x86/x86-64<br>
	Linux SLES 11 x86/x86-64<br>
	Windows 7 x86/x64<br>
	Windows 8 x86/x64<br>
<br>
[Supported GCC Compilers (for SystemC)]<br>
	gcc-4.7.4-linux/gcc-4.7.4-linux_x86_64<br>
	gcc-4.5.0-linux/gcc-4.5.0-linux_x86_64<br>
	gcc-4.3.3-linux/gcc-4.3.3-linux_x86_64<br>
	gcc-4.2.1-mingw32vc9<br>
<br>
[OVL (shipped with product)]<br>
	v2.8.1<br>
<br>
[VHDL OSVVM (shipped with product)]<br>
	v2014.07<br>
<br>
[Licensing]<br>
	FLEXnet	v11.11.1.1<br>
	MSL 	v2013_3<br>
	MGLS 	v9.10_7.2<br>
	PCLS 	v9.10.7.2<br>
<br></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="compatibility"></a><font size="4"><b>Compatibility Issues with Release 10.4d</b></font>
<p /><dd><font size="3"><b>SystemVerilog  Compatibility</b></font></dd>
<ul><li>dvt80536 - (source) It is not permitted to change the protected status of an existing design unit by recompiling it, it must be deleted from the library and then recompiled.</li>
 <li>dvt76032 - (source) Reseeding simulation:

Added a new VSIM command "sv_reseed <seed|"random">" which will re-seed every SystemVerilog random number generator (thread objects, class objects) based on the specified seed (or "random", which will select a random seed). This feature can be used after a "vsim -restore" (or at any time) to modify the behavior of SystemVerilog random constructs (randomize, randcase, randsequence, $urandom, etc) from the point the "sv_reseed" command is issued forward. NOTE: There is a small performance impact (both speed and memory) on a simulation that has been reseeded.

Restarting simulation with a new seed:

The VSIM command "restart" now accepts a "-sv_seed <seed|"random">" option, which will restart the simulation with the specified seed value (or "random", which will select a random seed). Previously, the "set Sv_Seed <seed>" command was used immediately before a "restart" to instruct Questa to restart simulation with a different seed -- this is no longer allowed (the "Sv_Seed" variable is now read-only).</li>
 <li>dvt81854 - (source) Added control options to alter the behavior of certain constraints during randomize() to generate significant differences in solution distribution. The options are controlled via the "vsim -svrandext" command line option:

  -svrandext=[+|-]<extension>[,[+|-]<extension>]*
      Enable/disable non-LRM compliant SystemVerilog constrained-random language extensions
      Valid extensions are:
          nonrandstab - disable seeding of "non-random" class instances
          promotedist - promote priority of 'dist' constraint if LHS has no solve/before
          nodist      - interpret 'dist' constraint as 'inside' (ACT only)
          noorder     - ignore solve/before ordering constraints (ACT only)
          skew        - skew randomize results (ACT only)

The new options are "nodist" and "noorder". The other options (nonrandstab, promotedist, skew) were previously set via the "vsim -svext" command line option, and have been moved to "-svrandext" (all SystemVerilog constrained-random related options are now grouped under "-svrandext").

Note that "nodist", "noorder", and "skew" only apply to the ACT solver engine.</li>
 <li>dvt79521 - (source, results) If a macro is defined using the +define command line option, it will override all  `undefs in the RTL code, ie, `undef for that macro will be ignored. For backward compatibility, the switch -nooverrideundef has been added. If a macro is defined using +define command line option, and -nooverrideundef is also passed as a compile option, the `undef will be honored for that macro.</li>
 <li>dvt83328 - (source, results) A new svext switch -svext=arif (allow ref in fork) was added to support use of refs in fork-join_any or fork-join_none blocks inside tasks. Use of refs in fork-join_any and fork-join_none blocks is an error by default.</li>
 <li>dvt79480 - (results) Fixed a bug which results in reversed bit connections, when a concat expression is passed to an unpacked port</li>
 <li>dvt78775 - (results) Under certain circumstances, use of "++" or "--" as an index into an array would result in the variable being incremented or decremented 2-3 times, instead of just once.</li>
 <li>dvt79543 - (results) Fixed an issue that would cause randomize() to return 0 for some non-contradictory scenarios involving a single 4-state random variable and a single 'dist' constraint.
</li>
 <li>dvt79679 - (results) In some rare cases, randomize() would generate differing results for a fully optimized simulation vs. a simulation where +acc is enabled. This issue has been fixed.</li>
 <li>dvt73180 - (results) In some rare cases, randomize() will produce spurious results for random variables involved in a !inside (not-inside) constraint if the LHS and RHS contain random variables. This issue has been fixed.</li>
 <li>dvt80596 - (results) In some rare cases, randomize() would trigger an internal error in slvACTContext. This issue has been fixed.</li>
 <li>dvt81155 - (results) In some situations a release on a register which had a force in effect fails to trigger a continuous assignment to that register.</li>
 <li>dvt81118 - (results) The 'index()' method, when used inside a nested array manipulation method, would return the wrong value.</li>
 <li>dvt77481 - (results) Fixed cascaded sequential UDP issue. New behavior is more aggressive in finding cascaded SUDP and handling them.</li>
 <li>dvt80469 - (results) Fixed a bug in handling of an assign statement inside a for-loop in verilog. Was already working in SV flow.</li>
 <li>dvt82348 - (results) Fixed the parsing errors related to empty clocking event field in $past and similar calls. LRM allows giving empty arguments to these calls.</li>
 <li>dvt82422 - (results) Fixed an assert failure when there is a part-select on an element of a packed struct in the RHS of an assign statement.
</li>
 <li>dvt82551 - (results) Fixed an assert failure in vopt where out-of-bounds index of a vector is being used in a concatenation.
</li>
 <li>dvt75654 - (results) SDF back-annotation now works with anonymous Non-ansi type source and destination ports.
</li>
 <li>dvt83309 - (results) Under an 'always @(*)', an external reference with a non-constant index was not properly being added to the sensitivity list.  An example woule be 'my_if.data.info[i].id', where 'i' is a variable.  Now, 'my_if.data.info' will trigger the always block.</li>
 <li>dvt82483 - (results) Added a new SystemVerilog Constraint Solver extension, -svrandext=[+|-]forkjoinstab. By default this extension is disabled. When this extension is enabled, the random stability of parent thread is preserved when creating the fork/join sub-threads.

</li>
 <li>dvt82697 - (results) Within the context of a constraint, allow a random index expression for any packed variable (previously, this was only allowed on scalar packed variables). This non-LRM compliant extension is enabled by default, and can be disabled with "vsim -svrandext=-randpackidx" or with "vsim -pedanticerrors".</li>
 <li>dvt78261 - (results) Changed the way vsim interprets invalid Sv_Seed values (passed in via the vsim "-sv_seed" command line option or the "Sv_Seed" modelsim.ini variable). In the past, when vsim encountered an invalid Sv_Seed value, an non-suppressible error message (vsim-7031) would be displayed and Sv_Seed would be set to 0. The new behavior allows the error to be downgraded/suppressed, and the value of Sv_Seed will reflect the 32-bit truncated value of the invalid seed (the interpreted value of Sv_Seed will be displayed by the vsim-7031 error message).</li>
 <li>dvt82275 - (results) The "vsim -sv_reseed" command line option and the VSIM "sv_reseed" command are now UVM aware by default (requires questa_uvm_pkg 1.2.3) -- when a UVM simulation is re-seeded, the random sequences generated by UVM will change as a result. This behavior can be disabled with "vsim -uvmcontrol=-reseed".
</li>
</ul>
<p /><dd><font size="3"><b>VHDL  Compatibility</b></font></dd>
<ul><li>dvt75261 - (source) If a locally static range of the first form (A'RANGE or A'REVERSE_RANGE) was used as the index range in an array subtype indication, there was no check that the range bounds were compatible with the index subtype of the base array type.  This has been fixed.</li>
</ul>
<p /><dd><font size="3"><b>Coverage  Compatibility</b></font></dd>
<ul><li>[nodvtid]  - (source) vcover parallelmerge has following changes:
<pre>
- Added new options: -32, -64, -log
- Added support for UGE & RTDA grid type
- Changed behavior of -outname option. parallelmerge will now create output file with exact given name. It will no longer append '.ucdb' in UCDB mode
- Added support to specify multiple directory paths to -genlistfrom in UCDB mode
</pre></li>
 <li>dvt78215 - (results) Nested protected blocks causing unexpected coverage disable on some of the modules in the concerned hierarchy.</li>
 <li>dvt78216 - (results) Protected module causing coverage disable of other modules in presence of -mfcu.</li>
 <li>dvt79569 - (results) FEC expression and condition coverage numbers were different in byfile coverage report and GUI Files tab.</li>
 <li>dvt76485 - (results) In coverage html reports, exclusion comments added by the users is added as a tooltip in the hit count cells. Also, a plus sign '+' is added in the cell to indicate that this cell has an exclusion comment.</li>
 <li>dvt79285 - (results) In the coverage summary page in html coverage report, a new hyperlink named "List of Design Units included in report..." is added. When clicked,it will redirect the user to a new html page that has a table containing all the design units and the coverage percentages for all the available coverage types in the design. This table can be sorted by either the total coverage or any of the coverage types.</li>
 <li>[nodvtid]  - (results) Following enhancements were added to vcover parallelmerge:
<pre>
- Show correct memory with -stats=perf and total number of error/warning counts.
- Show runtime and memory consumed by each parallel merge process
- Show merge errors and warnings by default
- Deprecated -verbose=all mode
- Added -quiet and -verbose mode
- Show parallelmerge command in vcover -help
- Added extra check if merge process gets killed by grid
- Added version number in internally generated RMDB file. If user had copied RMDB file and modified to support their grid, they will need to update their RMDB file for these new enhancements.
</pre></li>
 <li>dvt28804 - (results) The -checkinputs switch is added in vcover merge to skip and report corrupted UCDB input files.</li>
</ul>
<p /><dd><font size="3"><b>Power Aware  Compatibility</b></font></dd>
<ul><li>dvt80233 - (source, results) A new VOPT checks-controllability option is added that shall enable/disable specified dynamic PA check based on the control-signal-expression value. 
Option: [-chksctrl_expr {ctrl-signal-expression}] 
Sample tcl commands to achieve ctrl-signal-expression based controllability: 
pa_checks -checkIds { rpo rop} -chksctrl_expr {/tb/retpwr && /tb/rtc} </li>
 <li>[nodvtid]  - (results) There was some noise in -pa_checks=t (QPA_PD_OFF_ACT) during power domain transitioning. This issue has been fixed now.</li>
 <li>dvt79862 - (results) Fixed an issue in master-slave(also known as slave-alive) retention configuration. Now when the retention condition is active then the effect of clock, set or reset is ignored and the retained value is present at the register output. </li>
</ul>
<p /><dd><font size="3"><b>General  Compatibility</b></font></dd>
<ul><li>[nodvtid]  - (results) There are multiple VPI changes to the class model to align it more closely to the LRM, and to make it more useable. Class object names are now aligned to the GUI names. More vpi_handle and vpi_iterate queries have been implemented, affecting among other things vpiClassTypespec, vpiClassObj, and vpiClassDefn objects. Queries for file and line information on class objects will return an error, as these objects are not anchored by definition to the source code.</li>
</ul>
<p /><dd><font size="3"><b>Verification Management  Compatibility</b></font></dd>
<ul><li>dvt81937 - (results) xml2ucdb fails to replace parameters with their values in links of xml type. This is now fixed.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="generaldefects"></a><font size="4"><b>General Defects Repaired in 10.4d</b></font>
<ul><li>dvt81665 - The vsim -visualizer option can now be put inside a -f option-file.</li>
 <li>dvt70667 -  The -assertdebug option can now be used with the -elab flow and with checkpoint/restore.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="uidefects"></a><font size="4"><b>User Interface Defects Repaired in 10.4d</b></font>
<ul><li>dvt79540 - If the -precision option is specified in a user defined radix, the option will not be listed in the "radix list" results and does not get saved in the wave.do file.  This results in the user define radix not being restored correctly.  This issue has been resolved.</li>
 <li>dvt79542 - Precision values grater than 17 are not currently supported in the user defined radix.  Attempts to set a precision greater than 17 will now return an error message.</li>
 <li>dvt80314 - Hovering the mouse cursor over an inactive (not in process) class method scope can lead to a crash.  This issue has been resolved.</li>
 <li>dvt80772 - Help command anomalies have been fixed.</li>
 <li>dvt82347 - Problem loading Tcllib package stooop in vsim has been resolved.</li>
 <li>dvt82883 - Selected text in the Source window containing certain combinations of characters can cause the GUI to crash.  This issue has been resolved.</li>
 <li>dvt35002 - Fixed crash when expanding cover group in Objects window.</li>
 <li>dvt80534 - Attempting to open an assert property statement for viewing sometimes resulted in a fatal error.  This issue has been resolved.</li>
 <li>dvt75988 - Fixed a crash in the UI that sometimes occurs during a restart or load of a new design.</li>
 <li>dvt75360 - Fixed a crash in the UI when selecting or expanding certain kinds of objects in the Locals window.</li>
 <li>dvt18485 - The Search bar in each window is now persistent.  This means if a Search bar is open within a window when the application is closed, the next time the application is launched and the window opened, the Search bar will be visible as well.</li>
 <li>dvt19881 - Using the Find feature in the Preference Dialog box will now search the entire contents, no longer requiring the that the tree be expanded first.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="verilogdefects"></a><font size="4"><b>SystemVerilog Defects Repaired in 10.4d</b></font>
<ul><li>dvt79480 - (results) Fixed a bug which results in reversed bit connections, when a concat expression is passed to an unpacked port</li>
 <li>dvt78775 - (results) Under certain circumstances, use of "++" or "--" as an index into an array would result in the variable being incremented or decremented 2-3 times, instead of just once.</li>
 <li>dvt79521 - (source, results) If a macro is defined using the +define command line option, it will override all  `undefs in the RTL code, ie, `undef for that macro will be ignored. For backward compatibility, the switch -nooverrideundef has been added. If a macro is defined using +define command line option, and -nooverrideundef is also passed as a compile option, the `undef will be honored for that macro.</li>
 <li>dvt79110 - Fixed a vsim error when an array with more than 32 bit length is used.</li>
 <li>dvt79011 - Fixed a memory corruption when the index of an associative array is of type bit.</li>
 <li>dvt79782 - A select of a hierarchical reference to a net within a concatenation connected to an input port resulted in an elaboration crash in some cases.</li>
 <li>dvt79924 - A cell module containing specify timing and system function calls resulted in a vopt crash in some unusual cases.</li>
 <li>dvt79543 - (results) Fixed an issue that would cause randomize() to return 0 for some non-contradictory scenarios involving a single 4-state random variable and a single 'dist' constraint.
</li>
 <li>dvt79679 - (results) In some rare cases, randomize() would generate differing results for a fully optimized simulation vs. a simulation where +acc is enabled. This issue has been fixed.</li>
 <li>dvt80089 - An indexed slice of a multi-dimensional packed array could result in an erroneous runtime error.</li>
 <li>dvt73180 - (results) In some rare cases, randomize() will produce spurious results for random variables involved in a !inside (not-inside) constraint if the LHS and RHS contain random variables. This issue has been fixed.</li>
 <li>dvt80393 - Specifying multiple comma-delimited extensions via the "vsim -svext" switch would result in an error. This issue has been fixed.</li>
 <li>dvt79748 - Fixed a crash in a scenario when derived class uses static class member of super class. Super class is also derived from another class which have one non static member with same name as of static member.
For example class C is derived from class B and class B is derived from class A. Class A has some non static class member with name as D. Class B has static member with name as D. When D is accessed from class C we were getting a crash. This has been fixed now. </li>
 <li>dvt80404 - Improved an error message vsim-3373 which will now print the bound values in case of part select of an array. If the array is of type dynamic then no bound values of array will be shown.
Earlier there was no error id at vlog/vopt time, now the error id 3373 will be used to give the error.</li>
 <li>dvt80265 - Fixed an error when localparam string array is getting initialized.</li>
 <li>dvt80175 - Fixed a vopt hang when it try to evaluate the value of multi dimensional array of type bit.</li>
 <li>dvt80297 - Fixed a vlog crash when two coverpoints point to same variable in parameterized class.</li>
 <li>dvt80596 - (results) In some rare cases, randomize() would trigger an internal error in slvACTContext. This issue has been fixed.</li>
 <li>dvt81103 - Fixed a small memory leak related to resizing a 'rand' or 'randc' dynamic array during randomize().</li>
 <li>dvt81155 - (results) In some situations a release on a register which had a force in effect fails to trigger a continuous assignment to that register.</li>
 <li>dvt81118 - (results) The 'index()' method, when used inside a nested array manipulation method, would return the wrong value.</li>
 <li>dvt80536 - (source) It is not permitted to change the protected status of an existing design unit by recompiling it, it must be deleted from the library and then recompiled.</li>
 <li>dvt77481 - (results) Fixed cascaded sequential UDP issue. New behavior is more aggressive in finding cascaded SUDP and handling them.</li>
 <li>dvt75730 - A name resolution error could result if an interface with an interface port formal and the actual interface instance passed to the formal were both instantiated within the same generate loop and the interface had additional interfaces instantiated within it.</li>
 <li>dvt81161 - Support of $error/$stop systask usage in optimized cell.</li>
 <li>dvt80235 - Fixed a vopt error when localparam is assigned as unpacked array concatenation.</li>
 <li>dvt79870 - Fixed a vopt crash when multi-dimensional array of interface is used as single dimension.</li>
 <li>dvt81618 - Fixed a vsim crash when a class function is never defined and some other variable is initialized in that class.</li>
 <li>dvt81318 - Fixed a misleading error vlog-2388 when an array of modport is declared in port connection and modport array dimension parameter is undefined.</li>
 <li>dvt80829 - Fixed a vopt crash when array of modport is used as C style dimensional array.</li>
 <li>dvt80968 - Fixed an invalid error when interface array is used and vopt is not able to calculate the value of array dimension due to floating of parameters or in some other corner scenarios.</li>
 <li>dvt80196 - Fixed a vlog crash when a parameterized class is instantiated with non existing parameters.</li>
 <li>dvt80475 - Fixed a crash when randomize 'with' function is called inside foreach loop.</li>
 <li>dvt80753 - Downgraded a fatal error to a suppressible error (vsim-12064) when multiple version of interface are found in the design.</li>
 <li>dvt81544 - Fixed a bug in vopt which resulted in internal error when concat expression is passed as port actual</li>
 <li>dvt82080 - Fixed a bug in vopt for shift operator which resulted in different simulation result with and without +acc.</li>
 <li>dvt80676 - Fix a bug in vsim which resulted in wrong results for streaming concatenation operator.</li>
 <li>dvt80674 - Checks have been added in vlog to look for stray semicolons in declarative regions of task/functions and give appropriate errors.</li>
 <li>dvt80469 - (results) Fixed a bug in handling of an assign statement inside a for-loop in verilog. Was already working in SV flow.</li>
 <li>dvt82348 - (results) Fixed the parsing errors related to empty clocking event field in $past and similar calls. LRM allows giving empty arguments to these calls.</li>
 <li>dvt82422 - (results) Fixed an assert failure when there is a part-select on an element of a packed struct in the RHS of an assign statement.
</li>
 <li>dvt82551 - (results) Fixed an assert failure in vopt where out-of-bounds index of a vector is being used in a concatenation.
</li>
 <li>dvt75654 - (results) SDF back-annotation now works with anonymous Non-ansi type source and destination ports.
</li>
 <li>dvt82719 - Fixed a bug which resulted in wrong simulation results while doing NBA assignment to packed structure.</li>
 <li>dvt82730 - Fixed a bug which resulted in simulation crash while using a "new[]()" to initialize a dynamic array of "rand" type using an array of constant width.
</li>
 <li>dvt82580 - Fixed a bug which resulted in simulation crash while using ternary operator with nets.</li>
 <li>[nodvtid]  - Vsim crashed with array index references in an inline randomization constraint where the index variable was defined inside a begin..end block.</li>
 <li>dvt83328 - (source, results) A new svext switch -svext=arif (allow ref in fork) was added to support use of refs in fork-join_any or fork-join_none blocks inside tasks. Use of refs in fork-join_any and fork-join_none blocks is an error by default.</li>
 <li>dvt83309 - (results) Under an 'always @(*)', an external reference with a non-constant index was not properly being added to the sensitivity list.  An example woule be 'my_if.data.info[i].id', where 'i' is a variable.  Now, 'my_if.data.info' will trigger the always block.</li>
 <li>dvt83160 - Fixed a vopt error 2132 when parameter value as assignment pattern expression is passed through module parameters.</li>
 <li>dvt82478 - Fixed a vsim error when Questa is not able to find some variables of interface port due to bind.</li>
 <li>dvt82376 - Made the error 12038 suppressible and added to permissive list.</li>
 <li>dvt81779 - Fixed a vsim error 3043 when same package name appears in multiple libraries.</li>
 <li>dvt83035 - Fixed a vsim crash when a non constant function is passed as a delay to assign statement.</li>
 <li>dvt83603 - Using a parameter array index reference as the offset in an indexed slice range could lead to an internal error like:<br>
<code># ** Error: test.sv(5): Questa has encountered an unexpected internal error: ../../src/vlog/vgencode.c(212).</code></li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vhdldefects"></a><font size="4"><b>VHDL Defects Repaired in 10.4d</b></font>
<ul><li>dvt79538 - The in some case, if a VHDL block has unconstrained output ports The error <br> 
<code># ** Fatal: (vsim-3420) Array lengths do not match. Left is 0 (0 to 3). Right is (UNDEFINED) (UNCONSTRAINED ARRAY). </code><br> could occur.</li>
 <li>dvt79119 - The "change" command would not register changes in the WLF file if -vhdlvariablelogging and/or -accessobjdebug was also present for the vsim session.  Also, WLF file lookup of DOIDs is case-insensitive to VHDL access type names.</li>
 <li>dvt76973 - Variable (including protected type data member variable) whose type was array of access to record, could cause a simulator crash if the vsim command "vsim" was used to load another (or same) design during the same session of the GUI.</li>
 <li>dvt75261 - (source) If a locally static range of the first form (A'RANGE or A'REVERSE_RANGE) was used as the index range in an array subtype indication, there was no check that the range bounds were compatible with the index subtype of the base array type.  This has been fixed.</li>
 <li>dvt79780 - Logging an alias to a signal that is of a resolved composite type would crash the simulator.</li>
 <li>dvt80970 - If a instance of a generic package is made directly visible with a via a use statement. Multiple references to the package will result in the error <pre>
** Error: fails.vhd(4): (vcom-1078) Identifier "pkg" is not directly visible. Potentially visible declarations are:
work.pkg in library work (package)
work.pkg at pkg.vhd(1) (declaration)
</pre></li>
 <li>dvt80408 - Having an entity whose name is 200 character long or longer could cause the following error during optimization. <pre>
** Fatal: (vopt-8) Problem while reading data file
"/export/home/designtree/work/top_opt/vopt4km4ma".
** Error: (vopt-2064) Compiler back-end code generation process terminated with
code 2.
</pre></li>
 <li>dvt81559 - Changed the way VHDL assertion names are created when the assertion is inside a subroutine and the subroutine name matches with one of the operator symbols. Since this operator symbol is prepended in the name, we create an escaped identifier for the assertion name.</li>
 <li>dvt81528 - Occasionally  vcom, vopt, or vlog, could crash unexpectedly because of the command line arguments. Slightly changing the argument number or order can work around the problem.</li>
 <li>dvt81757 - Fixes crashes at design load time as wells on commands that work on bits of a composite port like driver, add log, add wave, and other similar commands.  The crash required that the actual connected to the port be a non-static expression.</li>
 <li>dvt81883 - An attempt to log an empty array of records, whose fields also contain arrays, by explicitly using the log command, or by adding the array to the list or wave windows, could cause the simulator to crash.</li>
 <li>dvt82617 - Certain known errors deferred until simulation runtime (because whether or not they would be executed is not known) would cause a vopt error and fail to create an optimized design.</li>
 <li>dvt82698 - IF generates with mutually exclusive conditions could sometimes both be present when the generate condition contained expressions of a certain form, such as multiplication by a generic (integer) whose value was 0 in some instances, and non-0 in other instances.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="systemcdefects"></a><font size="4"><b>SystemC Defects Repaired in 10.4d</b></font>
<ul><li>dvt82519 - DPI export task/function calls are not allowed by default in the SystemC start_of_simulation() callback. Use vsim option '-enabledpisoscb' or modelsim.ini variable 'EnableDpiSosCb' to enable DPI export calls from the SystemC start_of_simualtion() callback. The side effect of this option will be that any SystemC signal writes done in start_of_simulation() callback will not reflect the updated value at time 0. A delta cycle using wait statement needs to be inserted in the processes to get correct value updated for these signals.  Also, with mixed language simulation, process execution order may change at time 0 with this option.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="assertiondefects"></a><font size="4"><b>SVA/PSL Defects Repaired in 10.4d</b></font>
<ul><li>dvt79482 - Fixed a bug where tool was giving internal error during compilation if the design contained a concurrent assertion inside an unnamed always block and the assertion had an action block with begin...end.</li>
 <li>dvt80036 - vsim crashed when an assertion used a bit-select of a packed struct.</li>
 <li>dvt80720 - Fixed a bug where nexttime property was not working correctly on the right side of implies property.</li>
 <li>dvt82695 - An assertion having suffix implication with boolean RHS gave incorrect result in fully optimized simulation.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="mixeddefects"></a><font size="4"><b>Mixed Language Defects Repaired in 10.4d</b></font>
<ul><li>dvt81137 - Allowed mixed designs to use hierarchical reference to VHDL port, before it has been fully elaborated.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vmdefects"></a><font size="4"><b>Verification Management Defects Repaired in 10.4d</b></font>
<ul><li>[nodvtid]  - Fixed bug where Total and Testplan Coverage were not being properly reported to the VRM History window.</li>
 <li>dvt79735 - In VRM, if there are multiple execution methods referring to the same named queue, the queue will use the minimum value defined for the maxarray/maxclubbing attributes.</li>
 <li>[nodvtid]  - Fixed bug in VRM where use of the "-exitcodes" and "-nosummary" command-line options in the same vrun command would prevent the proper setting of exit codes in the event of Action errors.</li>
 <li>dvt81937 - (results) xml2ucdb fails to replace parameters with their values in links of xml type. This is now fixed.</li>
 <li>[nodvtid]  - Fixed bug where ActionCompleted user-definable procedure was not being called if an Action failed due to a launch error (which includes launch failures detected by the pro-active grid checker).</li>
 <li>[nodvtid]  - Fixed a bug that caused the VRM History window to throw a TCL error when attempting to read the history database.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="powerawaredefects"></a><font size="4"><b>Power Aware Defects Repaired in 10.4d</b></font>
<ul><li>dvt79470 - Every PA dynamic check (assertion) will be limited to 15 messages. Once this limit is reached, that particular dynamic message will be suppressed. This limit can be controlled by user using CLI " pa msg -suppressafter <number> ". </li>
 <li>[nodvtid]  - (results) There was some noise in -pa_checks=t (QPA_PD_OFF_ACT) during power domain transitioning. This issue has been fixed now.</li>
 <li>[nodvtid]  -  Vopt was throwing wrong error 2164 in case of nested modules. This issue has been fixed now.</li>
 <li>[nodvtid]  - There was a crash in xprop when using the option "report=suppress". This issue has been fixed now.</li>
 <li>dvt80237 - Earlier tool used to give error when logic_port was used in control port option of power switch. This issue has been fixed now, tool now allows usage of logic_port in control port option of UPF command create_power_switch. </li>
 <li>dvt79862 - (results) Fixed an issue in master-slave(also known as slave-alive) retention configuration. Now when the retention condition is active then the effect of clock, set or reset is ignored and the retained value is present at the register output. </li>
 <li>dvt81090 - Fixed following issues being observed in PA reports (in case of a signal with width greater than 256)
- Missing signal port in report.statc.txt (present in report.upf.txt)
- Incorrect count in report.static.txt</li>
 <li>dvt81498 - Changes in static report format to display 'sharing count' more intuitively. In stead of * notation we now display actual cell count followed by total crossings and Shared crossings. </li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="generalenhancement"></a><font size="4"><b>General Enhancements in 10.4d</b></font>
<ul><li>[nodvtid]  - (results) There are multiple VPI changes to the class model to align it more closely to the LRM, and to make it more useable. Class object names are now aligned to the GUI names. More vpi_handle and vpi_iterate queries have been implemented, affecting among other things vpiClassTypespec, vpiClassObj, and vpiClassDefn objects. Queries for file and line information on class objects will return an error, as these objects are not anchored by definition to the source code.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="uienhancements"></a><font size="4"><b>User Interface Enhancements in 10.4d</b></font>
<ul><li>dvt83067 - The Class Type column is now visible by default in the Covergroup WIndow. </li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="systemverilogenhancement"></a><font size="4"><b>SystemVerilog Enhancements in 10.4d</b></font>
<ul><li>[nodvtid]  - $fopen system call now allows adding 't' to other valid file type arguments, like 'rt', 'w+t', 'at+' etc.</li>
 <li>dvt76032 - (source) Reseeding simulation:

Added a new VSIM command "sv_reseed <seed|"random">" which will re-seed every SystemVerilog random number generator (thread objects, class objects) based on the specified seed (or "random", which will select a random seed). This feature can be used after a "vsim -restore" (or at any time) to modify the behavior of SystemVerilog random constructs (randomize, randcase, randsequence, $urandom, etc) from the point the "sv_reseed" command is issued forward. NOTE: There is a small performance impact (both speed and memory) on a simulation that has been reseeded.

Restarting simulation with a new seed:

The VSIM command "restart" now accepts a "-sv_seed <seed|"random">" option, which will restart the simulation with the specified seed value (or "random", which will select a random seed). Previously, the "set Sv_Seed <seed>" command was used immediately before a "restart" to instruct Questa to restart simulation with a different seed -- this is no longer allowed (the "Sv_Seed" variable is now read-only).</li>
 <li>dvt80984 - Questa reported a type compatibility error for parameterized virtual modports with a partial list of overridden parameter values.</li>
 <li>dvt81147 - In some cases, use of an associative array whose key is a bit-vector of width > 32 could result in extremely poor performance.  This has been addressed.</li>
 <li>dvt81854 - (source) Added control options to alter the behavior of certain constraints during randomize() to generate significant differences in solution distribution. The options are controlled via the "vsim -svrandext" command line option:

  -svrandext=[+|-]<extension>[,[+|-]<extension>]*
      Enable/disable non-LRM compliant SystemVerilog constrained-random language extensions
      Valid extensions are:
          nonrandstab - disable seeding of "non-random" class instances
          promotedist - promote priority of 'dist' constraint if LHS has no solve/before
          nodist      - interpret 'dist' constraint as 'inside' (ACT only)
          noorder     - ignore solve/before ordering constraints (ACT only)
          skew        - skew randomize results (ACT only)

The new options are "nodist" and "noorder". The other options (nonrandstab, promotedist, skew) were previously set via the "vsim -svext" command line option, and have been moved to "-svrandext" (all SystemVerilog constrained-random related options are now grouped under "-svrandext").

Note that "nodist", "noorder", and "skew" only apply to the ACT solver engine.</li>
 <li>dvt82483 - (results) Added a new SystemVerilog Constraint Solver extension, -svrandext=[+|-]forkjoinstab. By default this extension is disabled. When this extension is enabled, the random stability of parent thread is preserved when creating the fork/join sub-threads.

</li>
 <li>dvt82697 - (results) Within the context of a constraint, allow a random index expression for any packed variable (previously, this was only allowed on scalar packed variables). This non-LRM compliant extension is enabled by default, and can be disabled with "vsim -svrandext=-randpackidx" or with "vsim -pedanticerrors".</li>
 <li>dvt81353 - Added the vsim command line option "-sv_reseed <seed|random>". This option is only valid when used in combination with -load_elab or -restore. If used with -load_elab, the effect of the -sv_reseed option is identical to the -sv_seed option. If used with -restore, the effect of the -sv_reseed option will be to issue a "sv_reseed" command, with the specified argument, immediately after the simulation is restored.</li>
 <li>dvt78261 - (results) Changed the way vsim interprets invalid Sv_Seed values (passed in via the vsim "-sv_seed" command line option or the "Sv_Seed" modelsim.ini variable). In the past, when vsim encountered an invalid Sv_Seed value, an non-suppressible error message (vsim-7031) would be displayed and Sv_Seed would be set to 0. The new behavior allows the error to be downgraded/suppressed, and the value of Sv_Seed will reflect the 32-bit truncated value of the invalid seed (the interpreted value of Sv_Seed will be displayed by the vsim-7031 error message).</li>
 <li>dvt82275 - (results) The "vsim -sv_reseed" command line option and the VSIM "sv_reseed" command are now UVM aware by default (requires questa_uvm_pkg 1.2.3) -- when a UVM simulation is re-seeded, the random sequences generated by UVM will change as a result. This behavior can be disabled with "vsim -uvmcontrol=-reseed".
</li>
 <li>dvt82524 - Added the support for environment variables in curly braces within include string literals with svext=evis.</li>
 <li>dvt82369 - Allowed one argument in builtin function substr with svext=substr1. Second argument will be treated as end of string.</li>
 <li>dvt17592 - Added the support of "%i" format specifier. This will print the hierarchical name of the instance of task enabling statement or function call.
</li>
 <li>dvt74675 - Added the support for dynamic cast for more than 32 bit value.</li>
 <li>dvt83013 - The protected state of a design unit can now be changed by recompiling.  In the past this seemed to work with Verilog but was intentionally not allowed with VHDL.  Now, both languages allow this, and the implementation has been made more uniform and correct.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="coverageenhancement"></a><font size="4"><b>Coverage Enhancements in 10.4d</b></font>
<ul><li>dvt78686 - Coverpoint and cross bin exclusions are now applied transitively to all the associated cross bins when -transitive option is specified in the coverage exclude command.  This options must be used with the -cvgpath option in the "coverage exclude" command in order to apply the exclusion transitively to the crosses containing the excluded coverpoint bins.</li>
 <li>dvt76485 - (results) In coverage html reports, exclusion comments added by the users is added as a tooltip in the hit count cells. Also, a plus sign '+' is added in the cell to indicate that this cell has an exclusion comment.</li>
 <li>dvt79285 - (results) In the coverage summary page in html coverage report, a new hyperlink named "List of Design Units included in report..." is added. When clicked,it will redirect the user to a new html page that has a table containing all the design units and the coverage percentages for all the available coverage types in the design. This table can be sorted by either the total coverage or any of the coverage types.</li>
 <li>[nodvtid]  - (source) vcover parallelmerge has following changes:
<pre>
- Added new options: -32, -64, -log
- Added support for UGE & RTDA grid type
- Changed behavior of -outname option. parallelmerge will now create output file with exact given name. It will no longer append '.ucdb' in UCDB mode
- Added support to specify multiple directory paths to -genlistfrom in UCDB mode
</pre></li>
 <li>[nodvtid]  - (results) Following enhancements were added to vcover parallelmerge:
<pre>
- Show correct memory with -stats=perf and total number of error/warning counts.
- Show runtime and memory consumed by each parallel merge process
- Show merge errors and warnings by default
- Deprecated -verbose=all mode
- Added -quiet and -verbose mode
- Show parallelmerge command in vcover -help
- Added extra check if merge process gets killed by grid
- Added version number in internally generated RMDB file. If user had copied RMDB file and modified to support their grid, they will need to update their RMDB file for these new enhancements.
</pre></li>
 <li>dvt28804 - (results) The -checkinputs switch is added in vcover merge to skip and report corrupted UCDB input files.</li>
 <li>[nodvtid]  - The covergoups page in the coverage HTML report has been changed. The new page has many new features, for example sorting and searching. Also its layout has been enhanced to be more clear. The new page works on all major browsers. We recommend using at least the minimum version of the following browsers: IE 11.0, firefox 42.0 and Google Chrome 47.0.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="vmenhancement"></a><font size="4"><b>Verification Management Enhancements in 10.4d</b></font>
<ul><li>dvt72200 - VRM now provides a built-in TCL utility procedure that can generate one or more random tokens based on a master seed passed via the "-mseed" command-line option when vrun is launched.</li>
 <li>[nodvtid]  - A global master seed has been added to the VRM GUI. The seed may be set using the "-mseed" command-line option when the GUI is launched. If a master seed has not been set, one will be generated randomly. This master seed is used for all new VRM Configurations and for any manual regression runs launched during that GUI session. The master seed is saved with the VRM Configuration and may be changed with the VRM Configuration Edit dialog.</li>
 <li>[nodvtid]  - Added "-historydb" command-line option to VRM to specify an alternate history database location. The default history database in VRMDATA/logs/db is still updated unless "-nohistory" is specified.</li>
 <li>[nodvtid]  - Added GenerateStatusSummary utility procedure which returns formatted status summary during a regression run for use in emails and reports.</li>
 <li>[nodvtid]  - Added "-junit" command-line option to VRM which causes a JUnit results output file to be generated after a regression run. The file is generated by a TCL script available under vm_src/jenkins/vrm-to-junit.tcl.</li>
 <li>[nodvtid]  - Added SendEmailMessage utility procedure to VRM which facilitates the composition and sending of email messages from within a running regression.</li>
 <li>[nodvtid]  - The VRM RMDB API now supports a global search for parameters and their attributes regardless of the Runnable in which they are defined.</li>
 <li>[nodvtid]  - VRM now supports the sending of email, including an automated email at the end of a regression run.</li>
 <li>[nodvtid]  - Added "-nogridmsg" to vrun to disable messages when missing or failed grid jobs are re-queued by the pro-active grid checker.</li>
</ul>
<p /><h4><hr width="100%" /></h4>
<p /><a name="paenhancement"></a><font size="4"><b>Power Aware Enhancements in 10.4d</b></font>
<ul><li>[nodvtid]  - Added support for custom resolution function of supply_nets.
<br>The use model is as follows :
    <br>(1) User defines an SV resolution function with input type as an array of supply_net_type : 
    <br>      function supply_net_type resolution_func(supply_net_type bus[]); 
    <br>(2) User refer to this resolution function in UPF create_supply_net command with fully qualified name : 
    <br>      create_supply_net N1 -resolve sv_package::resolution_function
</li>
 <li>dvt80233 - (source, results) A new VOPT checks-controllability option is added that shall enable/disable specified dynamic PA check based on the control-signal-expression value. 
Option: [-chksctrl_expr {ctrl-signal-expression}] 
Sample tcl commands to achieve ctrl-signal-expression based controllability: 
pa_checks -checkIds { rpo rop} -chksctrl_expr {/tb/retpwr && /tb/rtc} </li>
 <li>dvt81110 - Support for UPF 2.1 command connect_logic_net -reconnect has been added. 
This command option "-reconnect" is also enabled in UPF 2.0 mode under vopt option -pa_upfextensions=relaxedsyntax</li>
</ul>

</body>
</html>
