<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Regression Author</title>

    <link rel="stylesheet" href="/css/outdatedbrowser.min.css">
    <link rel="icon"       href="/favicon.ico" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="/css/vauthor.css" />
    <link rel="stylesheet" href="/css/user.css" />
    <link rel="stylesheet" href="/css/font-awesome-4.6.1/css/font-awesome.min.css" />
    <style>
       .indent {
        padding-left: 40px;
    }
   
    .navbar-brand > img {
        object-fit: contain;
        display: inline;
        max-height: 100%;
        height: 100%;
    }
    ul.ui-autocomplete {
        width: 200px;
        list-style: none;
        z-index: 100;
        background: #ffffff;
        border:1px solid #aaaaaa
    }

    .ui-state-focus {
        background: #f5f5f5;
    }
 
    .static {
        padding: 29px 15px 15px 15px;
        color: #797E89;
        font-size: 15px;
    }
    
    .help-link {
        display: block;
        font-weight: normal;
        padding-right: 5px;
        font-size: 90%;
    }

    .modal-open {
        overflow: scroll;
    }    
    .save-cancel {
        margin-left: 50px;
        padding-bottom: 20px;
    }
    
    .remove-btn {
        color: red;
    }
    
    .table th,
    .table td {
        border-top: none !important;
    }
    
    .help-block {
        margin-bottom: 0;
    }
    body {
        padding-top: 50px;
    }
    </style>
  </head>

  <body>
       <div id="wrapper">
    <input type="hidden" id="suitename" value=""/> 

   <nav class="navbar navbar-fixed-top ranavbar" role="navigation" style="margin-bottom: 0">
      <div class="navbar-header ranavbar">
        <a class="navbar-brand" style="font-size: 200%" href="#"><img src="images/vrm.png"/>&nbsp;&nbsp;Regression Author</a>
      </div>
    </nav>
{{py:
import tempita, newregression
suites = data.suites()
}}
	<div class="container-fluid"> 
	        <div name="sidemenu" id="menu" class="col-sm-3 col-md-2 rasidebar" style="display:block">
	          <ul class="nav" id="side-menu">
		    <li/>
	            <li><a id="home-button" data-target="#home-panel" href="/pages/home.htm" onclick="if (suiteEditted || globalEditted)return ConfirmMove('/pages/home.htm'); else return navigatePanel(this)"><i class="fa fa-wrench fa-fw"></i>&nbsp; Manage Regressions</a></li>
                    <li><a data-target="#home-panel" href="/pages/global.htm" onclick="if (suiteEditted || globalEditted)return ConfirmMove('/pages/global.htm'); else  return navigatePanel(this, '')"><i class="fa fa-globe fa-fw"></i>&nbsp; Global Settings</a></li>
	            <li><a><i class="fa fa-list-ul fa-fw"></i>&nbsp;&nbsp;REGRESSIONS</a></li>
		     <ul class="nav nav-second-level collapse in" id="reglist">
	              {{py: suites = data.suites()}}
	              {{for suite in suites}}
	              <li class="active indent"><a class="mainmenu" data-target="#home-panel" href="/pages/suite.htm?suitename={{suite['name']}}" onclick="if (suiteEditted || globalEditted) {var name = $(this).attr('href'); return ConfirmMove(name);} else {return navigatePanel(this)}">{{suite['name']}}</a>
	              </li>
	              {{endfor}}
		     </ul>
	         </ul>
	      </div> 
          <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main page-wrapper">
            <div id="home-panel" class="content">
                <h1 class="page-header">Loading...</h1>
            </div>
            <div id="global-panel" class="content" style="display:none;"><h1 class="page-header">Loading...</h1></div>
            <div id="help-panel" class="content" style="display:none;"><h1 class="page-header">Loading...</h1></div>
	    <div id="suite-panels"></div>
	  </div>
    </div> 
</div>
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<script type="text/javascript" src="/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/js/vauthor.js"></script>
	<script type="text/javascript" src="/js/user.js"></script>

  <script>
	$.ajaxSetup({cache: true})
	var suiteEditted = 0;
	var globalEditted = 0;
	function selectSuite(suite) {
	}

	function navigatePanel(linkItem) {
		var targ = $(linkItem).attr('data-target');
                var address = $(linkItem).attr('href')
                var suitename = address.split('suitename=')[1]
                if (suitename) {
                    document.getElementById("suitename").value = suitename;
                }
                $(targ).load(address);
                $('div.content').hide(); $(targ).show();
                return false;
        }


        $('div.content').hide();
        $('#home-button').trigger('click');

	function ConfirmMove(ref) {
	if (!$('#modalConfirmMove').length) {
		$('body').append(
		'<div id="modalConfirmMove" class="modal fade" role="dialog" aria-hidden="true">' +
		'  <div class="modal-dialog">' +
		'    <div class="modal-content">' +
		'      <div class="modal-header">' +
		'        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>' +
		'        <h4 class="modal-title">Are you sure you want to leave?</h4>' +
		'      </div>' +
		'      <div class="modal-body"></div>' +
		'      <div class="modal-footer">' +
		'        <button id="modal-cancel" type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true">No</button>' +
		'        <button type="submit" class="btn btn-primary" data-dismiss="modal" aria-hidden="true" data-target="#home-panel">Yes</button>' +
		'      </div>' +
		'    </div>' +
		'  </div>' +
		'</div>');
	} 

	$('#modalConfirmMove .modal-body').text("If you leave before saving, your changes will be lost.");
	$('#modalConfirmMove button[type="submit"]').one('click', function(e){
		suiteEditted = 0; globalEditted = 0;
		$(this).attr('href', ref);
 		$('#modalConfirmMove').modal('hide');
		return navigatePanel(this,'')});
	$('#modalConfirmMove').modal();
	return false;
}
	
  </script>

  <script type="text/javascript">
  function addLoadEvent(func) {
    var oldonload = window.onload;
    if (typeof window.onload != 'function') {
        window.onload = func;
    } else {
        window.onload = function() {
            if (oldonload) {
                oldonload();
            }
            func();
        }
    }
}
//call plugin function after DOM ready
addLoadEvent(function(){
   outdatedBrowser({
        bgColor: '#f25648',
        color: '#ffffff',
        lowerThan: 'IE11',
        languagePath: ''
    })
});
  </script> 
  <script src="/js/outdatedbrowser.min.js"></script>
   <div id="btnUpdateBrowser"></div>
   <div id="outdated">
     <h6>Your browser is out-of-date!</h6>
     <p>Update your browser to view this website correctly.</p>
     <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
  </body>
</html>
